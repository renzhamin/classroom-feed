{
  "version": 3,
  "sources": ["../../../../.svelte-kit/output/server/chunks/prod-ssr.js", "../../../../.svelte-kit/output/server/chunks/ssr.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/error.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/util.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/command.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/append.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/bitcount.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/bitop.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/bitpos.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/dbsize.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/decr.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/decrby.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/del.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/echo.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/eval.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/evalsha.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/exists.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/expire.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/expireat.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/flushall.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/flushdb.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/get.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/getbit.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/getdel.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/getrange.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/getset.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hdel.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hexists.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hget.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hgetall.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hincrby.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hincrbyfloat.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hkeys.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hlen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hmget.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hmset.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hrandfield.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hscan.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hset.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hsetnx.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hstrlen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/hvals.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/incr.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/incrby.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/incrbyfloat.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_arrappend.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_arrindex.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_arrinsert.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_arrlen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_arrpop.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_arrtrim.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_clear.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_del.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_forget.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_get.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_mget.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_numincrby.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_nummultby.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_objkeys.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_objlen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_resp.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_set.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_strappend.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_strlen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_toggle.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/json_type.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/keys.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lindex.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/linsert.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/llen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lmove.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lpop.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lpos.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lpush.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lpushx.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lrange.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lrem.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/lset.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/ltrim.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/mget.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/mset.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/msetnx.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/persist.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/pexpire.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/pexpireat.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/ping.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/psetex.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/pttl.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/publish.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/randomkey.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/rename.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/renamenx.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/rpop.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/rpush.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/rpushx.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sadd.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/scan.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/scard.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/script_exists.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/script_flush.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/script_load.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sdiff.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sdiffstore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/set.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/setbit.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/setex.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/setnx.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/setrange.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sinter.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sinterstore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sismember.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/smembers.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/smismember.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/smove.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/spop.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/srandmember.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/srem.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sscan.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/strlen.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sunion.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/sunionstore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/time.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/touch.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/ttl.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/type.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/unlink.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zadd.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zcard.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zcount.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zincrby.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zinterstore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zlexcount.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zpopmax.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zpopmin.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zrange.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zrank.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zrem.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zremrangebylex.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zremrangebyrank.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zremrangebyscore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zrevrank.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zscan.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zscore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zunionstore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/mod.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zmscore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/commands/zdiffstore.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/pipeline.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/deps/deno.land/x/base64@v0.2.1/base.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/deps/deno.land/x/base64@v0.2.1/base64url.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/deps/denopkg.com/chiefbiiko/std-encoding@v1.0.0/mod.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/deps/deno.land/x/sha1@v1.0.3/deps.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/deps/deno.land/x/sha1@v1.0.3/mod.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/script.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/redis.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/pkg/http.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/version.js", "../../../../node_modules/.pnpm/@upstash+redis@1.22.0/node_modules/@upstash/redis/esm/platforms/nodejs.js", "../../../../node_modules/.pnpm/@upstash+core-analytics@0.0.6/node_modules/@upstash/core-analytics/src/index.ts", "../../../../node_modules/.pnpm/@upstash+core-analytics@0.0.6/node_modules/@upstash/core-analytics/src/analytics.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/index.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/analytics.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/cache.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/duration.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/ratelimit.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/multi.ts", "../../../../node_modules/.pnpm/@upstash+ratelimit@0.4.3/node_modules/@upstash/ratelimit/src/single.ts", "../../../../.svelte-kit/output/server/chunks/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/providers/google.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/cookie.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/errors.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/assert.js", "../../../../node_modules/.pnpm/@panva+hkdf@1.1.1/node_modules/@panva/hkdf/dist/web/runtime/hkdf.js", "../../../../node_modules/.pnpm/@panva+hkdf@1.1.1/node_modules/@panva/hkdf/dist/web/index.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/webcrypto.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/digest.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/buffer_utils.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/base64url.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/util/errors.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/random.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/iv.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/check_iv_length.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/check_cek_length.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/timing_safe_equal.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/crypto_key.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/invalid_key_input.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/is_key_like.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/decrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/zlib.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/is_disjoint.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/is_object.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/bogus.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/aeskw.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/ecdhes.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/check_p2s.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/pbes2kw.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/subtle_rsaes.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/check_key_length.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/rsaes.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/cek.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/format_pem.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/asn1.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/jwk_to_key.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/key/import.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/check_key_type.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/encrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/aesgcmkw.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/decrypt_key_management.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/validate_crit.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/validate_algorithms.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwe/flattened/decrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwe/compact/decrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwe/general/decrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/key_to_jwk.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/key/export.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/encrypt_key_management.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwe/flattened/encrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwe/general/encrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/subtle_dsa.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/get_sign_verify_key.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/verify.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jws/flattened/verify.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jws/compact/verify.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jws/general/verify.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/epoch.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/secs.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/lib/jwt_claims_set.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwt/verify.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwt/decrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwe/compact/encrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/sign.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jws/flattened/sign.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jws/compact/sign.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jws/general/sign.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwt/produce.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwt/sign.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwt/encrypt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwk/thumbprint.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwk/embedded.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwks/local.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/fetch_jwks.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwks/remote.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/jwt/unsecured.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/util/base64url.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/util/decode_protected_header.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/util/decode_jwt.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/runtime/generate.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/key/generate_key_pair.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/key/generate_secret.js", "../../../../node_modules/.pnpm/jose@4.14.4/node_modules/jose/dist/browser/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/jwt.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/callback-url.js", "../../../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/web.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/csrf-token.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/default-callbacks.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/utils/merge.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/providers.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/utils/logger.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/utils/parse-url.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/init.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/util.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/options.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/create-element.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/component.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/create-context.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/constants.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/diff/children.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/diff/props.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/diff/index.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/render.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/clone-element.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/src/diff/catch-error.js", "../../../../node_modules/.pnpm/preact-render-to-string@5.2.3_preact@10.11.3/node_modules/preact-render-to-string/src/util.js", "../../../../node_modules/.pnpm/preact-render-to-string@5.2.3_preact@10.11.3/node_modules/preact-render-to-string/src/pretty.js", "../../../../node_modules/.pnpm/preact-render-to-string@5.2.3_preact@10.11.3/node_modules/preact-render-to-string/src/index.js", "../../../../node_modules/.pnpm/preact@10.11.3/node_modules/preact/jsx-runtime/src/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/pages/error.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/pages/signin.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/pages/signout.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/pages/styles.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/pages/verify-request.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/pages/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/utils/date.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/callback-handler.js", "../../../../node_modules/.pnpm/oauth4webapi@2.3.0/node_modules/oauth4webapi/build/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/oauth/checks.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/oauth/callback.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/oauth/handle-state.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/shared.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/callback.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/providers.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/session.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/email/signin.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/oauth/authorization-url.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/signin.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/signout.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/routes/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/lib/index.js", "../../../../node_modules/.pnpm/@auth+core@0.10.0/node_modules/@auth/core/index.js", "../../../../.svelte-kit/output/server/chunks/hooks.server.js", "../../../../.svelte-kit/output/server/chunks/internal.js", "../../../../.svelte-kit/output/server/chunks/index2.js", "../../../../.svelte-kit/output/server/entries/pages/_layout.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/_layout.svelte.js", "../../../../.svelte-kit/output/server/nodes/0.js", "../../../../.svelte-kit/output/server/chunks/stores.js", "../../../../.svelte-kit/output/server/entries/fallbacks/error.svelte.js", "../../../../.svelte-kit/output/server/nodes/1.js", "../../../../.svelte-kit/output/server/entries/pages/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/2.js", "../../../../.svelte-kit/output/server/entries/pages/feed/_page.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/feed/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/3.js", "../../../../.svelte-kit/output/server/chunks/helpers.js", "../../../../.svelte-kit/output/server/entries/endpoints/api/courses/_server.ts.js", "../../../../.svelte-kit/output/server/entries/endpoints/api/posts/_courseId_/_server.ts.js", "../../../../.svelte-kit/output/server/index.js", "../../../../.svelte-kit/vercel-tmp/fn/manifest.js", "../../../../.svelte-kit/vercel-tmp/fn/edge.js"],
  "sourcesContent": ["const DEV = false;\nexport {\n  DEV as D\n};\n", "function noop() {\n}\nfunction is_promise(value) {\n  return !!value && (typeof value === \"object\" || typeof value === \"function\") && typeof /** @type {any} */\n  value.then === \"function\";\n}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction subscribe(store, ...callbacks) {\n  if (store == null) {\n    for (const callback of callbacks) {\n      callback(void 0);\n    }\n    return noop;\n  }\n  const unsub = store.subscribe(...callbacks);\n  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component)\n    throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction setContext(key, context) {\n  get_current_component().$$.context.set(key, context);\n  return context;\n}\nfunction getContext(key) {\n  return get_current_component().$$.context.get(key);\n}\nfunction ensure_array_like(array_like_or_iterator) {\n  return array_like_or_iterator?.length !== void 0 ? array_like_or_iterator : Array.from(array_like_or_iterator);\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\nfunction escape(value, is_attr = false) {\n  const str = String(value);\n  const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n  pattern.lastIndex = 0;\n  let escaped = \"\";\n  let last = 0;\n  while (pattern.test(str)) {\n    const i = pattern.lastIndex - 1;\n    const ch = str[i];\n    escaped += str.substring(last, i) + (ch === \"&\" ? \"&amp;\" : ch === '\"' ? \"&quot;\" : \"&lt;\");\n    last = i + 1;\n  }\n  return escaped + str.substring(last);\n}\nfunction each(items, fn) {\n  items = ensure_array_like(items);\n  let str = \"\";\n  for (let i = 0; i < items.length; i += 1) {\n    str += fn(items[i], i);\n  }\n  return str;\n}\nconst missing_component = {\n  $$render: () => \"\"\n};\nfunction validate_component(component, name) {\n  if (!component || !component.$$render) {\n    if (name === \"svelte:component\")\n      name += \" this={...}\";\n    throw new Error(\n      `<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`\n    );\n  }\n  return component;\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n  function $$render(result, props, bindings, slots, context) {\n    const parent_component = current_component;\n    const $$ = {\n      on_destroy,\n      context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n      // these will be immediately discarded\n      on_mount: [],\n      before_update: [],\n      after_update: [],\n      callbacks: blank_object()\n    };\n    set_current_component({ $$ });\n    const html = fn(result, props, bindings, slots);\n    set_current_component(parent_component);\n    return html;\n  }\n  return {\n    render: (props = {}, { $$slots = {}, context = /* @__PURE__ */ new Map() } = {}) => {\n      on_destroy = [];\n      const result = { title: \"\", head: \"\", css: /* @__PURE__ */ new Set() };\n      const html = $$render(result, props, {}, $$slots, context);\n      run_all(on_destroy);\n      return {\n        html,\n        css: {\n          code: Array.from(result.css).map((css) => css.code).join(\"\\n\"),\n          map: null\n          // TODO\n        },\n        head: result.title + result.head\n      };\n    },\n    $$render\n  };\n}\nfunction add_attribute(name, value, boolean) {\n  if (value == null || boolean && !value)\n    return \"\";\n  const assignment = boolean && value === true ? \"\" : `=\"${escape(value, true)}\"`;\n  return ` ${name}${assignment}`;\n}\nexport {\n  subscribe as a,\n  add_attribute as b,\n  create_ssr_component as c,\n  each as d,\n  escape as e,\n  safe_not_equal as f,\n  getContext as g,\n  is_promise as i,\n  missing_component as m,\n  noop as n,\n  setContext as s,\n  validate_component as v\n};\n", "/**\n * Result of a bad request to upstash\n */\nexport class UpstashError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"UpstashError\";\n    }\n}\n", "function parseRecursive(obj) {\n    const parsed = Array.isArray(obj)\n        ? obj.map((o) => {\n            try {\n                return parseRecursive(o);\n            }\n            catch {\n                return o;\n            }\n        })\n        : JSON.parse(obj);\n    /**\n     * Parsing very large numbers can result in MAX_SAFE_INTEGER\n     * overflow. In that case we return the number as string instead.\n     */\n    if (typeof parsed === \"number\" && parsed.toString() != obj) {\n        return obj;\n    }\n    return parsed;\n}\nexport function parseResponse(result) {\n    try {\n        /**\n         * Try to parse the response if possible\n         */\n        return parseRecursive(result);\n    }\n    catch {\n        return result;\n    }\n}\n", "import { UpstashError } from \"../error.js\";\nimport { parseResponse } from \"../util.js\";\nconst defaultSerializer = (c) => {\n    switch (typeof c) {\n        case \"string\":\n        case \"number\":\n        case \"boolean\":\n            return c;\n        default:\n            return JSON.stringify(c);\n    }\n};\n/**\n * Command offers default (de)serialization and the exec method to all commands.\n *\n * TData represents what the user will enter or receive,\n * TResult is the raw data returned from upstash, which may need to be transformed or parsed.\n */\nexport class Command {\n    /**\n     * Create a new command instance.\n     *\n     * You can define a custom `deserialize` function. By default we try to deserialize as json.\n     */\n    constructor(command, opts) {\n        Object.defineProperty(this, \"command\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"serialize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"deserialize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.serialize = defaultSerializer;\n        this.deserialize = typeof opts?.automaticDeserialization === \"undefined\" ||\n            opts.automaticDeserialization\n            ? opts?.deserialize ?? parseResponse\n            : (x) => x;\n        this.command = command.map((c) => this.serialize(c));\n    }\n    /**\n     * Execute the command using a client.\n     */\n    async exec(client) {\n        const { result, error } = await client.request({\n            body: this.command,\n        });\n        if (error) {\n            throw new UpstashError(error);\n        }\n        if (typeof result === \"undefined\") {\n            throw new Error(\"Request did not return a result\");\n        }\n        return this.deserialize(result);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/append\n */\nexport class AppendCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"append\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/bitcount\n */\nexport class BitCountCommand extends Command {\n    constructor([key, start, end], opts) {\n        const command = [\"bitcount\", key];\n        if (typeof start === \"number\") {\n            command.push(start);\n        }\n        if (typeof end === \"number\") {\n            command.push(end);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/bitop\n */\nexport class BitOpCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"bitop\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/bitpos\n */\nexport class BitPosCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"bitpos\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/dbsize\n */\nexport class DBSizeCommand extends Command {\n    constructor(opts) {\n        super([\"dbsize\"], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/decr\n */\nexport class DecrCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"decr\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/decrby\n */\nexport class DecrByCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"decrby\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/del\n */\nexport class DelCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"del\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/echo\n */\nexport class EchoCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"echo\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/eval\n */\nexport class EvalCommand extends Command {\n    constructor([script, keys, args], opts) {\n        super([\"eval\", script, keys.length, ...keys, ...(args ?? [])], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/evalsha\n */\nexport class EvalshaCommand extends Command {\n    constructor([sha, keys, args], opts) {\n        super([\"evalsha\", sha, keys.length, ...keys, ...(args ?? [])], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/exists\n */\nexport class ExistsCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"exists\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/expire\n */\nexport class ExpireCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"expire\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/expireat\n */\nexport class ExpireAtCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"expireat\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/flushall\n */\nexport class FlushAllCommand extends Command {\n    constructor(args, opts) {\n        const command = [\"flushall\"];\n        if (args && args.length > 0 && args[0].async) {\n            command.push(\"async\");\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/flushdb\n */\nexport class FlushDBCommand extends Command {\n    constructor([opts], cmdOpts) {\n        const command = [\"flushdb\"];\n        if (opts?.async) {\n            command.push(\"async\");\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/get\n */\nexport class GetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"get\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/getbit\n */\nexport class GetBitCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"getbit\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/getdel\n */\nexport class GetDelCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"getdel\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/getrange\n */\nexport class GetRangeCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"getrange\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/getset\n */\nexport class GetSetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"getset\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hdel\n */\nexport class HDelCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hdel\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hexists\n */\nexport class HExistsCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hexists\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hget\n */\nexport class HGetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hget\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nfunction deserialize(result) {\n    if (result.length === 0) {\n        return null;\n    }\n    const obj = {};\n    while (result.length >= 2) {\n        const key = result.shift();\n        const value = result.shift();\n        try {\n            obj[key] = JSON.parse(value);\n        }\n        catch {\n            obj[key] = value;\n        }\n    }\n    return obj;\n}\n/**\n * @see https://redis.io/commands/hgetall\n */\nexport class HGetAllCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hgetall\", ...cmd], {\n            deserialize: (result) => deserialize(result),\n            ...opts,\n        });\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hincrby\n */\nexport class HIncrByCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hincrby\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hincrbyfloat\n */\nexport class HIncrByFloatCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hincrbyfloat\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hkeys\n */\nexport class HKeysCommand extends Command {\n    constructor([key], opts) {\n        super([\"hkeys\", key], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hlen\n */\nexport class HLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hlen\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nfunction deserialize(fields, result) {\n    if (result.length === 0 || result.every((field) => field === null)) {\n        return null;\n    }\n    const obj = {};\n    for (let i = 0; i < fields.length; i++) {\n        try {\n            obj[fields[i]] = JSON.parse(result[i]);\n        }\n        catch {\n            obj[fields[i]] = result[i];\n        }\n    }\n    return obj;\n}\n/**\n * hmget returns an object of all requested fields from a hash\n * The field values are returned as an object like this:\n * ```ts\n * {[fieldName: string]: T | null}\n * ```\n *\n * In case the hash does not exist or all fields are empty `null` is returned\n *\n * @see https://redis.io/commands/hmget\n */\nexport class HMGetCommand extends Command {\n    constructor([key, ...fields], opts) {\n        super([\"hmget\", key, ...fields], {\n            deserialize: (result) => deserialize(fields, result),\n            ...opts,\n        });\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hmset\n */\nexport class HMSetCommand extends Command {\n    constructor([key, kv], opts) {\n        super([\n            \"hmset\",\n            key,\n            ...Object.entries(kv).flatMap(([field, value]) => [field, value]),\n        ], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nfunction deserialize(result) {\n    if (result.length === 0) {\n        return null;\n    }\n    const obj = {};\n    while (result.length >= 2) {\n        const key = result.shift();\n        const value = result.shift();\n        try {\n            obj[key] = JSON.parse(value);\n        }\n        catch {\n            obj[key] = value;\n        }\n    }\n    return obj;\n}\n/**\n * @see https://redis.io/commands/hrandfield\n */\nexport class HRandFieldCommand extends Command {\n    constructor(cmd, opts) {\n        const command = [\"hrandfield\", cmd[0]];\n        if (typeof cmd[1] === \"number\") {\n            command.push(cmd[1]);\n        }\n        if (cmd[2]) {\n            command.push(\"WITHVALUES\");\n        }\n        super(command, {\n            // @ts-ignore TODO:\n            deserialize: cmd[2]\n                ? (result) => deserialize(result)\n                : opts?.deserialize,\n            ...opts,\n        });\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hscan\n */\nexport class HScanCommand extends Command {\n    constructor([key, cursor, cmdOpts], opts) {\n        const command = [\"hscan\", key, cursor];\n        if (cmdOpts?.match) {\n            command.push(\"match\", cmdOpts.match);\n        }\n        if (typeof cmdOpts?.count === \"number\") {\n            command.push(\"count\", cmdOpts.count);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hset\n */\nexport class HSetCommand extends Command {\n    constructor([key, kv], opts) {\n        super([\n            \"hset\",\n            key,\n            ...Object.entries(kv).flatMap(([field, value]) => [field, value]),\n        ], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hsetnx\n */\nexport class HSetNXCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hsetnx\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hstrlen\n */\nexport class HStrLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hstrlen\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/hvals\n */\nexport class HValsCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"hvals\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/incr\n */\nexport class IncrCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"incr\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/incrby\n */\nexport class IncrByCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"incrby\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/incrbyfloat\n */\nexport class IncrByFloatCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"incrbyfloat\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.arrappend\n */\nexport class JsonArrAppendCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.ARRAPPEND\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.arrindex\n */\nexport class JsonArrIndexCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.ARRINDEX\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.arrinsert\n */\nexport class JsonArrInsertCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.ARRINSERT\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.arrlen\n */\nexport class JsonArrLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.ARRLEN\", cmd[0], cmd[1] ?? \"$\"], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.arrpop\n */\nexport class JsonArrPopCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.ARRPOP\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.arrtrim\n */\nexport class JsonArrTrimCommand extends Command {\n    constructor(cmd, opts) {\n        const path = cmd[1] ?? \"$\";\n        const start = cmd[2] ?? 0;\n        const stop = cmd[3] ?? 0;\n        super([\"JSON.ARRTRIM\", cmd[0], path, start, stop], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.clear\n */\nexport class JsonClearCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.CLEAR\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.del\n */\nexport class JsonDelCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.DEL\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.forget\n */\nexport class JsonForgetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.FORGET\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.get\n */\nexport class JsonGetCommand extends Command {\n    constructor(cmd, opts) {\n        const command = [\"JSON.GET\"];\n        if (typeof cmd[1] === \"string\") {\n            // @ts-ignore - we know this is a string\n            command.push(...cmd);\n        }\n        else {\n            command.push(cmd[0]);\n            if (cmd[1]) {\n                if (cmd[1].indent) {\n                    command.push(\"INDENT\", cmd[1].indent);\n                }\n                if (cmd[1].newline) {\n                    command.push(\"NEWLINE\", cmd[1].newline);\n                }\n                if (cmd[1].space) {\n                    command.push(\"SPACE\", cmd[1].space);\n                }\n            }\n            // @ts-ignore - we know this is a string\n            command.push(...cmd.slice(2));\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.mget\n */\nexport class JsonMGetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.MGET\", ...cmd[0], cmd[1]], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.numincrby\n */\nexport class JsonNumIncrByCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.NUMINCRBY\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.nummultby\n */\nexport class JsonNumMultByCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.NUMMULTBY\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.objkeys\n */\nexport class JsonObjKeysCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.OBJKEYS\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.objlen\n */\nexport class JsonObjLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.OBJLEN\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.resp\n */\nexport class JsonRespCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.RESP\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.set\n */\nexport class JsonSetCommand extends Command {\n    constructor(cmd, opts) {\n        const command = [\"JSON.SET\", cmd[0], cmd[1], cmd[2]];\n        if (cmd[3]) {\n            if (cmd[3].nx) {\n                command.push(\"NX\");\n            }\n            else if (cmd[3].xx) {\n                command.push(\"XX\");\n            }\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.strappend\n */\nexport class JsonStrAppendCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.STRAPPEND\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.strlen\n */\nexport class JsonStrLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.STRLEN\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.toggle\n */\nexport class JsonToggleCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.TOGGLE\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/json.type\n */\nexport class JsonTypeCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"JSON.TYPE\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/keys\n */\nexport class KeysCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"keys\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nexport class LIndexCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lindex\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nexport class LInsertCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"linsert\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/llen\n */\nexport class LLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"llen\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/lmove\n */\nexport class LMoveCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lmove\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/lpop\n */\nexport class LPopCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lpop\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/lpos\n */\nexport class LPosCommand extends Command {\n    constructor(cmd, opts) {\n        const args = [\"lpos\", cmd[0], cmd[1]];\n        if (typeof cmd[2]?.rank === \"number\") {\n            args.push(\"rank\", cmd[2].rank);\n        }\n        if (typeof cmd[2]?.count === \"number\") {\n            args.push(\"count\", cmd[2].count);\n        }\n        if (typeof cmd[2]?.maxLen === \"number\") {\n            args.push(\"maxLen\", cmd[2].maxLen);\n        }\n        super(args, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/lpush\n */\nexport class LPushCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lpush\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/lpushx\n */\nexport class LPushXCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lpushx\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nexport class LRangeCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lrange\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nexport class LRemCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lrem\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nexport class LSetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"lset\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\nexport class LTrimCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"ltrim\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/mget\n */\nexport class MGetCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"mget\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/mset\n */\nexport class MSetCommand extends Command {\n    constructor([kv], opts) {\n        super([\n            \"mset\",\n            ...Object.entries(kv).flatMap(([key, value]) => [key, value]),\n        ], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/msetnx\n */\nexport class MSetNXCommand extends Command {\n    constructor([kv], opts) {\n        super([\"msetnx\", ...Object.entries(kv).flatMap((_) => _)], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/persist\n */\nexport class PersistCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"persist\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/pexpire\n */\nexport class PExpireCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"pexpire\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/pexpireat\n */\nexport class PExpireAtCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"pexpireat\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/ping\n */\nexport class PingCommand extends Command {\n    constructor(cmd, opts) {\n        const command = [\"ping\"];\n        if (typeof cmd !== \"undefined\" && typeof cmd[0] !== \"undefined\") {\n            command.push(cmd[0]);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/psetex\n */\nexport class PSetEXCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"psetex\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/pttl\n */\nexport class PTtlCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"pttl\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/publish\n */\nexport class PublishCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"publish\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/randomkey\n */\nexport class RandomKeyCommand extends Command {\n    constructor(opts) {\n        super([\"randomkey\"], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/rename\n */\nexport class RenameCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"rename\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/renamenx\n */\nexport class RenameNXCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"renamenx\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/rpop\n */\nexport class RPopCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"rpop\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/rpush\n */\nexport class RPushCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"rpush\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/rpushx\n */\nexport class RPushXCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"rpushx\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sadd\n */\nexport class SAddCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sadd\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/scan\n */\nexport class ScanCommand extends Command {\n    constructor([cursor, opts], cmdOpts) {\n        const command = [\"scan\", cursor];\n        if (opts?.match) {\n            command.push(\"match\", opts.match);\n        }\n        if (typeof opts?.count === \"number\") {\n            command.push(\"count\", opts.count);\n        }\n        if (opts?.type && opts.type.length > 0) {\n            command.push(\"type\", opts.type);\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/scard\n */\nexport class SCardCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"scard\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/script-exists\n */\nexport class ScriptExistsCommand extends Command {\n    constructor(hashes, opts) {\n        super([\"script\", \"exists\", ...hashes], {\n            deserialize: (result) => result,\n            ...opts,\n        });\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/script-flush\n */\nexport class ScriptFlushCommand extends Command {\n    constructor([opts], cmdOpts) {\n        const cmd = [\"script\", \"flush\"];\n        if (opts?.sync) {\n            cmd.push(\"sync\");\n        }\n        else if (opts?.async) {\n            cmd.push(\"async\");\n        }\n        super(cmd, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/script-load\n */\nexport class ScriptLoadCommand extends Command {\n    constructor(args, opts) {\n        super([\"script\", \"load\", ...args], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sdiff\n */\nexport class SDiffCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sdiff\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sdiffstore\n */\nexport class SDiffStoreCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sdiffstore\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/set\n */\nexport class SetCommand extends Command {\n    constructor([key, value, opts], cmdOpts) {\n        const command = [\"set\", key, value];\n        if (opts) {\n            if (\"nx\" in opts && opts.nx) {\n                command.push(\"nx\");\n            }\n            else if (\"xx\" in opts && opts.xx) {\n                command.push(\"xx\");\n            }\n            if (\"get\" in opts && opts.get) {\n                command.push(\"get\");\n            }\n            if (\"ex\" in opts && typeof opts.ex === \"number\") {\n                command.push(\"ex\", opts.ex);\n            }\n            else if (\"px\" in opts && typeof opts.px === \"number\") {\n                command.push(\"px\", opts.px);\n            }\n            else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n                command.push(\"exat\", opts.exat);\n            }\n            else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n                command.push(\"pxat\", opts.pxat);\n            }\n            else if (\"keepTtl\" in opts && opts.keepTtl) {\n                command.push(\"keepTtl\", opts.keepTtl);\n            }\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/setbit\n */\nexport class SetBitCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"setbit\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/setex\n */\nexport class SetExCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"setex\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/setnx\n */\nexport class SetNxCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"setnx\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/setrange\n */\nexport class SetRangeCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"setrange\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sinter\n */\nexport class SInterCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sinter\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sinterstore\n */\nexport class SInterStoreCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sinterstore\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sismember\n */\nexport class SIsMemberCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sismember\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/smembers\n */\nexport class SMembersCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"smembers\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/smismember\n */\nexport class SMIsMemberCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"smismember\", cmd[0], ...cmd[1]], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/smove\n */\nexport class SMoveCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"smove\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/spop\n */\nexport class SPopCommand extends Command {\n    constructor([key, count], opts) {\n        const command = [\"spop\", key];\n        if (typeof count === \"number\") {\n            command.push(count);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/srandmember\n */\nexport class SRandMemberCommand extends Command {\n    constructor([key, count], opts) {\n        const command = [\"srandmember\", key];\n        if (typeof count === \"number\") {\n            command.push(count);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/srem\n */\nexport class SRemCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"srem\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sscan\n */\nexport class SScanCommand extends Command {\n    constructor([key, cursor, opts], cmdOpts) {\n        const command = [\"sscan\", key, cursor];\n        if (opts?.match) {\n            command.push(\"match\", opts.match);\n        }\n        if (typeof opts?.count === \"number\") {\n            command.push(\"count\", opts.count);\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/strlen\n */\nexport class StrLenCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"strlen\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sunion\n */\nexport class SUnionCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sunion\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/sunionstore\n */\nexport class SUnionStoreCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"sunionstore\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/time\n */\nexport class TimeCommand extends Command {\n    constructor(opts) {\n        super([\"time\"], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/touch\n */\nexport class TouchCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"touch\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/ttl\n */\nexport class TtlCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"ttl\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/type\n */\nexport class TypeCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"type\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/unlink\n */\nexport class UnlinkCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"unlink\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zadd\n */\nexport class ZAddCommand extends Command {\n    constructor([key, arg1, ...arg2], opts) {\n        const command = [\"zadd\", key];\n        if (\"nx\" in arg1 && arg1.nx) {\n            command.push(\"nx\");\n        }\n        else if (\"xx\" in arg1 && arg1.xx) {\n            command.push(\"xx\");\n        }\n        if (\"ch\" in arg1 && arg1.ch) {\n            command.push(\"ch\");\n        }\n        if (\"incr\" in arg1 && arg1.incr) {\n            command.push(\"incr\");\n        }\n        if (\"score\" in arg1 && \"member\" in arg1) {\n            command.push(arg1.score, arg1.member);\n        }\n        command.push(...arg2.flatMap(({ score, member }) => [score, member]));\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zcard\n */\nexport class ZCardCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zcard\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zcount\n */\nexport class ZCountCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zcount\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zincrby\n */\nexport class ZIncrByCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zincrby\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zInterstore\n */\nexport class ZInterStoreCommand extends Command {\n    constructor([destination, numKeys, keyOrKeys, opts], cmdOpts) {\n        const command = [\"zinterstore\", destination, numKeys];\n        if (Array.isArray(keyOrKeys)) {\n            command.push(...keyOrKeys);\n        }\n        else {\n            command.push(keyOrKeys);\n        }\n        if (opts) {\n            if (\"weights\" in opts && opts.weights) {\n                command.push(\"weights\", ...opts.weights);\n            }\n            else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n                command.push(\"weights\", opts.weight);\n            }\n            if (\"aggregate\" in opts) {\n                command.push(\"aggregate\", opts.aggregate);\n            }\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zlexcount\n */\nexport class ZLexCountCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zlexcount\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zpopmax\n */\nexport class ZPopMaxCommand extends Command {\n    constructor([key, count], opts) {\n        const command = [\"zpopmax\", key];\n        if (typeof count === \"number\") {\n            command.push(count);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zpopmin\n */\nexport class ZPopMinCommand extends Command {\n    constructor([key, count], opts) {\n        const command = [\"zpopmin\", key];\n        if (typeof count === \"number\") {\n            command.push(count);\n        }\n        super(command, opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zrange\n */\nexport class ZRangeCommand extends Command {\n    constructor([key, min, max, opts], cmdOpts) {\n        const command = [\"zrange\", key, min, max];\n        // Either byScore or byLex is allowed\n        if (opts?.byScore) {\n            command.push(\"byscore\");\n        }\n        if (opts?.byLex) {\n            command.push(\"bylex\");\n        }\n        if (opts?.rev) {\n            command.push(\"rev\");\n        }\n        if (typeof opts?.count !== \"undefined\" && typeof opts?.offset !== \"undefined\") {\n            command.push(\"limit\", opts.offset, opts.count);\n        }\n        if (opts?.withScores) {\n            command.push(\"withscores\");\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n *  @see https://redis.io/commands/zrank\n */\nexport class ZRankCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zrank\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zrem\n */\nexport class ZRemCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zrem\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zremrangebylex\n */\nexport class ZRemRangeByLexCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zremrangebylex\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zremrangebyrank\n */\nexport class ZRemRangeByRankCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zremrangebyrank\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zremrangebyscore\n */\nexport class ZRemRangeByScoreCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zremrangebyscore\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n *  @see https://redis.io/commands/zrevrank\n */\nexport class ZRevRankCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zrevrank\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zscan\n */\nexport class ZScanCommand extends Command {\n    constructor([key, cursor, opts], cmdOpts) {\n        const command = [\"zscan\", key, cursor];\n        if (opts?.match) {\n            command.push(\"match\", opts.match);\n        }\n        if (typeof opts?.count === \"number\") {\n            command.push(\"count\", opts.count);\n        }\n        super(command, cmdOpts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zscore\n */\nexport class ZScoreCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zscore\", ...cmd], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zunionstore\n */\nexport class ZUnionStoreCommand extends Command {\n    constructor([destination, numKeys, keyOrKeys, opts], cmdOpts) {\n        const command = [\"zunionstore\", destination, numKeys];\n        if (Array.isArray(keyOrKeys)) {\n            command.push(...keyOrKeys);\n        }\n        else {\n            command.push(keyOrKeys);\n        }\n        if (opts) {\n            if (\"weights\" in opts && opts.weights) {\n                command.push(\"weights\", ...opts.weights);\n            }\n            else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n                command.push(\"weights\", opts.weight);\n            }\n            if (\"aggregate\" in opts) {\n                command.push(\"aggregate\", opts.aggregate);\n            }\n        }\n        super(command, cmdOpts);\n    }\n}\n", "export * from \"./append.js\";\nexport * from \"./bitcount.js\";\nexport * from \"./bitop.js\";\nexport * from \"./bitpos.js\";\nexport * from \"./command.js\";\nexport * from \"./dbsize.js\";\nexport * from \"./decr.js\";\nexport * from \"./decrby.js\";\nexport * from \"./del.js\";\nexport * from \"./echo.js\";\nexport * from \"./eval.js\";\nexport * from \"./evalsha.js\";\nexport * from \"./exists.js\";\nexport * from \"./expire.js\";\nexport * from \"./expireat.js\";\nexport * from \"./flushall.js\";\nexport * from \"./flushdb.js\";\nexport * from \"./get.js\";\nexport * from \"./getbit.js\";\nexport * from \"./getdel.js\";\nexport * from \"./getrange.js\";\nexport * from \"./getset.js\";\nexport * from \"./hdel.js\";\nexport * from \"./hexists.js\";\nexport * from \"./hget.js\";\nexport * from \"./hgetall.js\";\nexport * from \"./hincrby.js\";\nexport * from \"./hincrbyfloat.js\";\nexport * from \"./hkeys.js\";\nexport * from \"./hlen.js\";\nexport * from \"./hmget.js\";\nexport * from \"./hmset.js\";\nexport * from \"./hrandfield.js\";\nexport * from \"./hscan.js\";\nexport * from \"./hset.js\";\nexport * from \"./hsetnx.js\";\nexport * from \"./hstrlen.js\";\nexport * from \"./hvals.js\";\nexport * from \"./incr.js\";\nexport * from \"./incrby.js\";\nexport * from \"./incrbyfloat.js\";\nexport * from \"./json_arrappend.js\";\nexport * from \"./json_arrindex.js\";\nexport * from \"./json_arrinsert.js\";\nexport * from \"./json_arrlen.js\";\nexport * from \"./json_arrpop.js\";\nexport * from \"./json_arrtrim.js\";\nexport * from \"./json_clear.js\";\nexport * from \"./json_del.js\";\nexport * from \"./json_forget.js\";\nexport * from \"./json_get.js\";\nexport * from \"./json_mget.js\";\nexport * from \"./json_numincrby.js\";\nexport * from \"./json_nummultby.js\";\nexport * from \"./json_objkeys.js\";\nexport * from \"./json_objlen.js\";\nexport * from \"./json_resp.js\";\nexport * from \"./json_set.js\";\nexport * from \"./json_strappend.js\";\nexport * from \"./json_strlen.js\";\nexport * from \"./json_toggle.js\";\nexport * from \"./json_type.js\";\nexport * from \"./keys.js\";\nexport * from \"./lindex.js\";\nexport * from \"./linsert.js\";\nexport * from \"./llen.js\";\nexport * from \"./lmove.js\";\nexport * from \"./lpop.js\";\nexport * from \"./lpos.js\";\nexport * from \"./lpush.js\";\nexport * from \"./lpushx.js\";\nexport * from \"./lrange.js\";\nexport * from \"./lrem.js\";\nexport * from \"./lset.js\";\nexport * from \"./ltrim.js\";\nexport * from \"./mget.js\";\nexport * from \"./mset.js\";\nexport * from \"./msetnx.js\";\nexport * from \"./persist.js\";\nexport * from \"./pexpire.js\";\nexport * from \"./pexpireat.js\";\nexport * from \"./ping.js\";\nexport * from \"./psetex.js\";\nexport * from \"./pttl.js\";\nexport * from \"./publish.js\";\nexport * from \"./randomkey.js\";\nexport * from \"./rename.js\";\nexport * from \"./renamenx.js\";\nexport * from \"./rpop.js\";\nexport * from \"./rpush.js\";\nexport * from \"./rpushx.js\";\nexport * from \"./sadd.js\";\nexport * from \"./scan.js\";\nexport * from \"./scard.js\";\nexport * from \"./script_exists.js\";\nexport * from \"./script_flush.js\";\nexport * from \"./script_load.js\";\nexport * from \"./sdiff.js\";\nexport * from \"./sdiffstore.js\";\nexport * from \"./set.js\";\nexport * from \"./setbit.js\";\nexport * from \"./setex.js\";\nexport * from \"./setnx.js\";\nexport * from \"./setrange.js\";\nexport * from \"./sinter.js\";\nexport * from \"./sinterstore.js\";\nexport * from \"./sismember.js\";\nexport * from \"./smembers.js\";\nexport * from \"./smismember.js\";\nexport * from \"./smove.js\";\nexport * from \"./spop.js\";\nexport * from \"./srandmember.js\";\nexport * from \"./srem.js\";\nexport * from \"./sscan.js\";\nexport * from \"./strlen.js\";\nexport * from \"./sunion.js\";\nexport * from \"./sunionstore.js\";\nexport * from \"./time.js\";\nexport * from \"./touch.js\";\nexport * from \"./ttl.js\";\nexport * from \"./type.js\";\nexport * from \"./unlink.js\";\nexport * from \"./zadd.js\";\nexport * from \"./zcard.js\";\nexport * from \"./zcount.js\";\nexport * from \"./zincrby.js\";\nexport * from \"./zinterstore.js\";\nexport * from \"./zlexcount.js\";\nexport * from \"./zpopmax.js\";\nexport * from \"./zpopmin.js\";\nexport * from \"./zrange.js\";\nexport * from \"./zrank.js\";\nexport * from \"./zrem.js\";\nexport * from \"./zremrangebylex.js\";\nexport * from \"./zremrangebyrank.js\";\nexport * from \"./zremrangebyscore.js\";\nexport * from \"./zrevrank.js\";\nexport * from \"./zscan.js\";\nexport * from \"./zscore.js\";\nexport * from \"./zunionstore.js\";\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zmscore\n */\nexport class ZMScoreCommand extends Command {\n    constructor(cmd, opts) {\n        const [key, members] = cmd;\n        super([\"zmscore\", key, ...members], opts);\n    }\n}\n", "import { Command } from \"./command.js\";\n/**\n * @see https://redis.io/commands/zdiffstore\n */\nexport class ZDiffStoreCommand extends Command {\n    constructor(cmd, opts) {\n        super([\"zdiffstore\", ...cmd], opts);\n    }\n}\n", "import { AppendCommand, BitCountCommand, BitOpCommand, BitPosCommand, DBSizeCommand, DecrByCommand, DecrCommand, DelCommand, EchoCommand, EvalCommand, EvalshaCommand, ExistsCommand, ExpireAtCommand, ExpireCommand, FlushAllCommand, FlushDBCommand, GetBitCommand, GetCommand, GetDelCommand, GetRangeCommand, GetSetCommand, HDelCommand, HExistsCommand, HGetAllCommand, HGetCommand, HIncrByCommand, HIncrByFloatCommand, HKeysCommand, HLenCommand, HMGetCommand, HMSetCommand, HScanCommand, HSetCommand, HSetNXCommand, HStrLenCommand, HValsCommand, IncrByCommand, IncrByFloatCommand, IncrCommand, JsonArrAppendCommand, JsonArrIndexCommand, JsonArrInsertCommand, JsonArrLenCommand, JsonArrPopCommand, JsonArrTrimCommand, JsonClearCommand, JsonDelCommand, JsonForgetCommand, JsonGetCommand, JsonMGetCommand, JsonNumIncrByCommand, JsonNumMultByCommand, JsonObjKeysCommand, JsonObjLenCommand, JsonRespCommand, JsonSetCommand, JsonStrAppendCommand, JsonStrLenCommand, JsonToggleCommand, JsonTypeCommand, KeysCommand, LIndexCommand, LInsertCommand, LLenCommand, LMoveCommand, LPopCommand, LPosCommand, LPushCommand, LPushXCommand, LRangeCommand, LRemCommand, LSetCommand, LTrimCommand, MGetCommand, MSetCommand, MSetNXCommand, PersistCommand, PExpireAtCommand, PExpireCommand, PingCommand, PSetEXCommand, PTtlCommand, PublishCommand, RandomKeyCommand, RenameCommand, RenameNXCommand, RPopCommand, RPushCommand, RPushXCommand, SAddCommand, ScanCommand, SCardCommand, ScriptExistsCommand, ScriptFlushCommand, ScriptLoadCommand, SDiffCommand, SDiffStoreCommand, SetBitCommand, SetCommand, SetExCommand, SetNxCommand, SetRangeCommand, SInterCommand, SInterStoreCommand, SIsMemberCommand, SMembersCommand, SMIsMemberCommand, SMoveCommand, SPopCommand, SRandMemberCommand, SRemCommand, SScanCommand, StrLenCommand, SUnionCommand, SUnionStoreCommand, TimeCommand, TouchCommand, TtlCommand, TypeCommand, UnlinkCommand, ZAddCommand, ZCardCommand, ZCountCommand, ZIncrByCommand, ZInterStoreCommand, ZLexCountCommand, ZPopMaxCommand, ZPopMinCommand, ZRangeCommand, ZRankCommand, ZRemCommand, ZRemRangeByLexCommand, ZRemRangeByRankCommand, ZRemRangeByScoreCommand, ZRevRankCommand, ZScanCommand, ZScoreCommand, ZUnionStoreCommand, } from \"./commands/mod.js\";\nimport { UpstashError } from \"./error.js\";\nimport { ZMScoreCommand } from \"./commands/zmscore.js\";\nimport { HRandFieldCommand } from \"./commands/hrandfield.js\";\nimport { ZDiffStoreCommand } from \"./commands/zdiffstore.js\";\n/**\n * Upstash REST API supports command pipelining to send multiple commands in\n * batch, instead of sending each command one by one and waiting for a response.\n * When using pipelines, several commands are sent using a single HTTP request,\n * and a single JSON array response is returned. Each item in the response array\n * corresponds to the command in the same order within the pipeline.\n *\n * **NOTE:**\n *\n * Execution of the pipeline is not atomic. Even though each command in\n * the pipeline will be executed in order, commands sent by other clients can\n * interleave with the pipeline.\n *\n * **Examples:**\n *\n * ```ts\n *  const p = redis.pipeline() // or redis.multi()\n * p.set(\"key\",\"value\")\n * p.get(\"key\")\n * const res = await p.exec()\n * ```\n *\n * You can also chain commands together\n * ```ts\n * const p = redis.pipeline()\n * const res = await p.set(\"key\",\"value\").get(\"key\").exec()\n * ```\n *\n * Return types are inferred if all commands are chained, but you can still\n * override the response type manually:\n * ```ts\n *  redis.pipeline()\n *   .set(\"key\", { greeting: \"hello\"})\n *   .get(\"key\")\n *   .exec<[\"OK\", { greeting: string } ]>()\n *\n * ```\n */\nexport class Pipeline {\n    constructor(opts) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"commands\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"commandOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"multiExec\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * Send the pipeline request to upstash.\n         *\n         * Returns an array with the results of all pipelined commands.\n         *\n         * If all commands are statically chained from start to finish, types are inferred. You can still define a return type manually if necessary though:\n         * ```ts\n         * const p = redis.pipeline()\n         * p.get(\"key\")\n         * const result = p.exec<[{ greeting: string }]>()\n         * ```\n         */\n        Object.defineProperty(this, \"exec\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: async () => {\n                if (this.commands.length === 0) {\n                    throw new Error(\"Pipeline is empty\");\n                }\n                const path = this.multiExec ? [\"multi-exec\"] : [\"pipeline\"];\n                const res = (await this.client.request({\n                    path,\n                    body: Object.values(this.commands).map((c) => c.command),\n                }));\n                return res.map(({ error, result }, i) => {\n                    if (error) {\n                        throw new UpstashError(`Command ${i + 1} [ ${this.commands[i].command[0]} ] failed: ${error}`);\n                    }\n                    return this.commands[i].deserialize(result);\n                });\n            }\n        });\n        /**\n         * @see https://redis.io/commands/append\n         */\n        Object.defineProperty(this, \"append\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new AppendCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/bitcount\n         */\n        Object.defineProperty(this, \"bitcount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new BitCountCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/bitop\n         */\n        Object.defineProperty(this, \"bitop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (op, destinationKey, sourceKey, ...sourceKeys) => this.chain(new BitOpCommand([op, destinationKey, sourceKey, ...sourceKeys], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/bitpos\n         */\n        Object.defineProperty(this, \"bitpos\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new BitPosCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zdiffstore\n         */\n        Object.defineProperty(this, \"zdiffstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZDiffStoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/dbsize\n         */\n        Object.defineProperty(this, \"dbsize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => this.chain(new DBSizeCommand(this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/decr\n         */\n        Object.defineProperty(this, \"decr\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new DecrCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/decrby\n         */\n        Object.defineProperty(this, \"decrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new DecrByCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/del\n         */\n        Object.defineProperty(this, \"del\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new DelCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/echo\n         */\n        Object.defineProperty(this, \"echo\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new EchoCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/eval\n         */\n        Object.defineProperty(this, \"eval\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new EvalCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/evalsha\n         */\n        Object.defineProperty(this, \"evalsha\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new EvalshaCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/exists\n         */\n        Object.defineProperty(this, \"exists\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ExistsCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/expire\n         */\n        Object.defineProperty(this, \"expire\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ExpireCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/expireat\n         */\n        Object.defineProperty(this, \"expireat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ExpireAtCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/flushall\n         */\n        Object.defineProperty(this, \"flushall\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (args) => this.chain(new FlushAllCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/flushdb\n         */\n        Object.defineProperty(this, \"flushdb\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new FlushDBCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/get\n         */\n        Object.defineProperty(this, \"get\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new GetCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/getbit\n         */\n        Object.defineProperty(this, \"getbit\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new GetBitCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/getdel\n         */\n        Object.defineProperty(this, \"getdel\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new GetDelCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/getrange\n         */\n        Object.defineProperty(this, \"getrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new GetRangeCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/getset\n         */\n        Object.defineProperty(this, \"getset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, value) => this.chain(new GetSetCommand([key, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hdel\n         */\n        Object.defineProperty(this, \"hdel\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HDelCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hexists\n         */\n        Object.defineProperty(this, \"hexists\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HExistsCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hget\n         */\n        Object.defineProperty(this, \"hget\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HGetCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hgetall\n         */\n        Object.defineProperty(this, \"hgetall\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HGetAllCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hincrby\n         */\n        Object.defineProperty(this, \"hincrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HIncrByCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hincrbyfloat\n         */\n        Object.defineProperty(this, \"hincrbyfloat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HIncrByFloatCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hkeys\n         */\n        Object.defineProperty(this, \"hkeys\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HKeysCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hlen\n         */\n        Object.defineProperty(this, \"hlen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HLenCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hmget\n         */\n        Object.defineProperty(this, \"hmget\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HMGetCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hmset\n         */\n        Object.defineProperty(this, \"hmset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, kv) => this.chain(new HMSetCommand([key, kv], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hrandfield\n         */\n        Object.defineProperty(this, \"hrandfield\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, count, withValues) => this.chain(new HRandFieldCommand([key, count, withValues], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hscan\n         */\n        Object.defineProperty(this, \"hscan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HScanCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hset\n         */\n        Object.defineProperty(this, \"hset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, kv) => this.chain(new HSetCommand([key, kv], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hsetnx\n         */\n        Object.defineProperty(this, \"hsetnx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, field, value) => this.chain(new HSetNXCommand([key, field, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hstrlen\n         */\n        Object.defineProperty(this, \"hstrlen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HStrLenCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/hvals\n         */\n        Object.defineProperty(this, \"hvals\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new HValsCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/incr\n         */\n        Object.defineProperty(this, \"incr\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new IncrCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/incrby\n         */\n        Object.defineProperty(this, \"incrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new IncrByCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/incrbyfloat\n         */\n        Object.defineProperty(this, \"incrbyfloat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new IncrByFloatCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/keys\n         */\n        Object.defineProperty(this, \"keys\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new KeysCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lindex\n         */\n        Object.defineProperty(this, \"lindex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LIndexCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/linsert\n         */\n        Object.defineProperty(this, \"linsert\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, direction, pivot, value) => this.chain(new LInsertCommand([key, direction, pivot, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/llen\n         */\n        Object.defineProperty(this, \"llen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LLenCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lmove\n         */\n        Object.defineProperty(this, \"lmove\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LMoveCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lpop\n         */\n        Object.defineProperty(this, \"lpop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LPopCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lpos\n         */\n        Object.defineProperty(this, \"lpos\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LPosCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lpush\n         */\n        Object.defineProperty(this, \"lpush\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => this.chain(new LPushCommand([key, ...elements], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lpushx\n         */\n        Object.defineProperty(this, \"lpushx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => this.chain(new LPushXCommand([key, ...elements], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lrange\n         */\n        Object.defineProperty(this, \"lrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LRangeCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lrem\n         */\n        Object.defineProperty(this, \"lrem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, count, value) => this.chain(new LRemCommand([key, count, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/lset\n         */\n        Object.defineProperty(this, \"lset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, index, value) => this.chain(new LSetCommand([key, index, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/ltrim\n         */\n        Object.defineProperty(this, \"ltrim\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new LTrimCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/mget\n         */\n        Object.defineProperty(this, \"mget\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new MGetCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/mset\n         */\n        Object.defineProperty(this, \"mset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (kv) => this.chain(new MSetCommand([kv], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/msetnx\n         */\n        Object.defineProperty(this, \"msetnx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (kv) => this.chain(new MSetNXCommand([kv], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/persist\n         */\n        Object.defineProperty(this, \"persist\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new PersistCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/pexpire\n         */\n        Object.defineProperty(this, \"pexpire\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new PExpireCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/pexpireat\n         */\n        Object.defineProperty(this, \"pexpireat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new PExpireAtCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/ping\n         */\n        Object.defineProperty(this, \"ping\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (args) => this.chain(new PingCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/psetex\n         */\n        Object.defineProperty(this, \"psetex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ttl, value) => this.chain(new PSetEXCommand([key, ttl, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/pttl\n         */\n        Object.defineProperty(this, \"pttl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new PTtlCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/publish\n         */\n        Object.defineProperty(this, \"publish\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new PublishCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/randomkey\n         */\n        Object.defineProperty(this, \"randomkey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => this.chain(new RandomKeyCommand(this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/rename\n         */\n        Object.defineProperty(this, \"rename\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new RenameCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/renamenx\n         */\n        Object.defineProperty(this, \"renamenx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new RenameNXCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/rpop\n         */\n        Object.defineProperty(this, \"rpop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new RPopCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/rpush\n         */\n        Object.defineProperty(this, \"rpush\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => this.chain(new RPushCommand([key, ...elements], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/rpushx\n         */\n        Object.defineProperty(this, \"rpushx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => this.chain(new RPushXCommand([key, ...elements], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sadd\n         */\n        Object.defineProperty(this, \"sadd\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...members) => this.chain(new SAddCommand([key, ...members], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/scan\n         */\n        Object.defineProperty(this, \"scan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ScanCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/scard\n         */\n        Object.defineProperty(this, \"scard\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SCardCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/script-exists\n         */\n        Object.defineProperty(this, \"scriptExists\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ScriptExistsCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/script-flush\n         */\n        Object.defineProperty(this, \"scriptFlush\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ScriptFlushCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/script-load\n         */\n        Object.defineProperty(this, \"scriptLoad\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ScriptLoadCommand(args, this.commandOptions))\n        });\n        /*)*\n         * @see https://redis.io/commands/sdiff\n         */\n        Object.defineProperty(this, \"sdiff\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SDiffCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sdiffstore\n         */\n        Object.defineProperty(this, \"sdiffstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SDiffStoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/set\n         */\n        Object.defineProperty(this, \"set\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, value, opts) => this.chain(new SetCommand([key, value, opts], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/setbit\n         */\n        Object.defineProperty(this, \"setbit\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SetBitCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/setex\n         */\n        Object.defineProperty(this, \"setex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ttl, value) => this.chain(new SetExCommand([key, ttl, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/setnx\n         */\n        Object.defineProperty(this, \"setnx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, value) => this.chain(new SetNxCommand([key, value], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/setrange\n         */\n        Object.defineProperty(this, \"setrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SetRangeCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sinter\n         */\n        Object.defineProperty(this, \"sinter\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SInterCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sinterstore\n         */\n        Object.defineProperty(this, \"sinterstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SInterStoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sismember\n         */\n        Object.defineProperty(this, \"sismember\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => this.chain(new SIsMemberCommand([key, member], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/smembers\n         */\n        Object.defineProperty(this, \"smembers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SMembersCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/smismember\n         */\n        Object.defineProperty(this, \"smismember\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, members) => this.chain(new SMIsMemberCommand([key, members], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/smove\n         */\n        Object.defineProperty(this, \"smove\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (source, destination, member) => this.chain(new SMoveCommand([source, destination, member], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/spop\n         */\n        Object.defineProperty(this, \"spop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SPopCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/srandmember\n         */\n        Object.defineProperty(this, \"srandmember\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SRandMemberCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/srem\n         */\n        Object.defineProperty(this, \"srem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...members) => this.chain(new SRemCommand([key, ...members], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sscan\n         */\n        Object.defineProperty(this, \"sscan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SScanCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/strlen\n         */\n        Object.defineProperty(this, \"strlen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new StrLenCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sunion\n         */\n        Object.defineProperty(this, \"sunion\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SUnionCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/sunionstore\n         */\n        Object.defineProperty(this, \"sunionstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new SUnionStoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/time\n         */\n        Object.defineProperty(this, \"time\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => this.chain(new TimeCommand(this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/touch\n         */\n        Object.defineProperty(this, \"touch\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new TouchCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/ttl\n         */\n        Object.defineProperty(this, \"ttl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new TtlCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/type\n         */\n        Object.defineProperty(this, \"type\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new TypeCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/unlink\n         */\n        Object.defineProperty(this, \"unlink\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new UnlinkCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zadd\n         */\n        Object.defineProperty(this, \"zadd\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => {\n                if (\"score\" in args[1]) {\n                    return this.chain(new ZAddCommand([args[0], args[1], ...args.slice(2)], this.commandOptions));\n                }\n                return this.chain(new ZAddCommand([args[0], args[1], ...args.slice(2)], this.commandOptions));\n            }\n        });\n        /**\n         * @see https://redis.io/commands/zcard\n         */\n        Object.defineProperty(this, \"zcard\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZCardCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zcount\n         */\n        Object.defineProperty(this, \"zcount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZCountCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zincrby\n         */\n        Object.defineProperty(this, \"zincrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, increment, member) => this.chain(new ZIncrByCommand([key, increment, member], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zinterstore\n         */\n        Object.defineProperty(this, \"zinterstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZInterStoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zlexcount\n         */\n        Object.defineProperty(this, \"zlexcount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZLexCountCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zmscore\n         */\n        Object.defineProperty(this, \"zmscore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZMScoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zpopmax\n         */\n        Object.defineProperty(this, \"zpopmax\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZPopMaxCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zpopmin\n         */\n        Object.defineProperty(this, \"zpopmin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZPopMinCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zrange\n         */\n        Object.defineProperty(this, \"zrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZRangeCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zrank\n         */\n        Object.defineProperty(this, \"zrank\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => this.chain(new ZRankCommand([key, member], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zrem\n         */\n        Object.defineProperty(this, \"zrem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...members) => this.chain(new ZRemCommand([key, ...members], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zremrangebylex\n         */\n        Object.defineProperty(this, \"zremrangebylex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZRemRangeByLexCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zremrangebyrank\n         */\n        Object.defineProperty(this, \"zremrangebyrank\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZRemRangeByRankCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zremrangebyscore\n         */\n        Object.defineProperty(this, \"zremrangebyscore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZRemRangeByScoreCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zrevrank\n         */\n        Object.defineProperty(this, \"zrevrank\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => this.chain(new ZRevRankCommand([key, member], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zscan\n         */\n        Object.defineProperty(this, \"zscan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZScanCommand(args, this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zscore\n         */\n        Object.defineProperty(this, \"zscore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => this.chain(new ZScoreCommand([key, member], this.commandOptions))\n        });\n        /**\n         * @see https://redis.io/commands/zunionstore\n         */\n        Object.defineProperty(this, \"zunionstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => this.chain(new ZUnionStoreCommand(args, this.commandOptions))\n        });\n        this.client = opts.client;\n        this.commands = []; // the TCommands generic in the class definition is only used for carrying through chained command types and should never be explicitly set when instantiating the class\n        this.commandOptions = opts.commandOptions;\n        this.multiExec = opts.multiExec ?? false;\n    }\n    /**\n     * Pushes a command into the pipeline and returns a chainable instance of the\n     * pipeline\n     */\n    chain(command) {\n        this.commands.push(command);\n        return this; // TS thinks we're returning Pipeline<[]> here, because we're not creating a new instance of the class, hence the cast\n    }\n    /**\n     * @see https://redis.io/commands/?group=json\n     */\n    get json() {\n        return {\n            /**\n             * @see https://redis.io/commands/json.arrappend\n             */\n            arrappend: (...args) => this.chain(new JsonArrAppendCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.arrindex\n             */\n            arrindex: (...args) => this.chain(new JsonArrIndexCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.arrinsert\n             */\n            arrinsert: (...args) => this.chain(new JsonArrInsertCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.arrlen\n             */\n            arrlen: (...args) => this.chain(new JsonArrLenCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.arrpop\n             */\n            arrpop: (...args) => this.chain(new JsonArrPopCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.arrtrim\n             */\n            arrtrim: (...args) => this.chain(new JsonArrTrimCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.clear\n             */\n            clear: (...args) => this.chain(new JsonClearCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.del\n             */\n            del: (...args) => this.chain(new JsonDelCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.forget\n             */\n            forget: (...args) => this.chain(new JsonForgetCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.get\n             */\n            get: (...args) => this.chain(new JsonGetCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.mget\n             */\n            mget: (...args) => this.chain(new JsonMGetCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.numincrby\n             */\n            numincrby: (...args) => this.chain(new JsonNumIncrByCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.nummultby\n             */\n            nummultby: (...args) => this.chain(new JsonNumMultByCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.objkeys\n             */\n            objkeys: (...args) => this.chain(new JsonObjKeysCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.objlen\n             */\n            objlen: (...args) => this.chain(new JsonObjLenCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.resp\n             */\n            resp: (...args) => this.chain(new JsonRespCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.set\n             */\n            set: (...args) => this.chain(new JsonSetCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.strappend\n             */\n            strappend: (...args) => this.chain(new JsonStrAppendCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.strlen\n             */\n            strlen: (...args) => this.chain(new JsonStrLenCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.toggle\n             */\n            toggle: (...args) => this.chain(new JsonToggleCommand(args, this.commandOptions)),\n            /**\n             * @see https://redis.io/commands/json.type\n             */\n            type: (...args) => this.chain(new JsonTypeCommand(args, this.commandOptions)),\n        };\n    }\n}\n", "function getLengths(b64) {\n    const len = b64.length;\n    // if (len % 4 > 0) {\n    //   throw new TypeError(\"Invalid string. Length must be a multiple of 4\");\n    // }\n    // Trim off extra bytes after placeholder bytes are found\n    // See: https://github.com/beatgammit/base64-js/issues/42\n    let validLen = b64.indexOf(\"=\");\n    if (validLen === -1) {\n        validLen = len;\n    }\n    const placeHoldersLen = validLen === len ? 0 : 4 - (validLen % 4);\n    return [validLen, placeHoldersLen];\n}\nexport function init(lookup, revLookup, urlsafe = false) {\n    function _byteLength(validLen, placeHoldersLen) {\n        return Math.floor(((validLen + placeHoldersLen) * 3) / 4 - placeHoldersLen);\n    }\n    function tripletToBase64(num) {\n        return (lookup[(num >> 18) & 0x3f] +\n            lookup[(num >> 12) & 0x3f] +\n            lookup[(num >> 6) & 0x3f] +\n            lookup[num & 0x3f]);\n    }\n    function encodeChunk(buf, start, end) {\n        const out = new Array((end - start) / 3);\n        for (let i = start, curTriplet = 0; i < end; i += 3) {\n            out[curTriplet++] = tripletToBase64((buf[i] << 16) + (buf[i + 1] << 8) + buf[i + 2]);\n        }\n        return out.join(\"\");\n    }\n    return {\n        // base64 is 4/3 + up to two characters of the original data\n        byteLength(b64) {\n            return _byteLength.apply(null, getLengths(b64));\n        },\n        toUint8Array(b64) {\n            const [validLen, placeHoldersLen] = getLengths(b64);\n            const buf = new Uint8Array(_byteLength(validLen, placeHoldersLen));\n            // If there are placeholders, only get up to the last complete 4 chars\n            const len = placeHoldersLen ? validLen - 4 : validLen;\n            let tmp;\n            let curByte = 0;\n            let i;\n            for (i = 0; i < len; i += 4) {\n                tmp = (revLookup[b64.charCodeAt(i)] << 18) |\n                    (revLookup[b64.charCodeAt(i + 1)] << 12) |\n                    (revLookup[b64.charCodeAt(i + 2)] << 6) |\n                    revLookup[b64.charCodeAt(i + 3)];\n                buf[curByte++] = (tmp >> 16) & 0xff;\n                buf[curByte++] = (tmp >> 8) & 0xff;\n                buf[curByte++] = tmp & 0xff;\n            }\n            if (placeHoldersLen === 2) {\n                tmp = (revLookup[b64.charCodeAt(i)] << 2) |\n                    (revLookup[b64.charCodeAt(i + 1)] >> 4);\n                buf[curByte++] = tmp & 0xff;\n            }\n            else if (placeHoldersLen === 1) {\n                tmp = (revLookup[b64.charCodeAt(i)] << 10) |\n                    (revLookup[b64.charCodeAt(i + 1)] << 4) |\n                    (revLookup[b64.charCodeAt(i + 2)] >> 2);\n                buf[curByte++] = (tmp >> 8) & 0xff;\n                buf[curByte++] = tmp & 0xff;\n            }\n            return buf;\n        },\n        fromUint8Array(buf) {\n            const maxChunkLength = 16383; // Must be multiple of 3\n            const len = buf.length;\n            const extraBytes = len % 3; // If we have 1 byte left, pad 2 bytes\n            const len2 = len - extraBytes;\n            const parts = new Array(Math.ceil(len2 / maxChunkLength) + (extraBytes ? 1 : 0));\n            let curChunk = 0;\n            let chunkEnd;\n            // Go through the array every three bytes, we'll deal with trailing stuff later\n            for (let i = 0; i < len2; i += maxChunkLength) {\n                chunkEnd = i + maxChunkLength;\n                parts[curChunk++] = encodeChunk(buf, i, chunkEnd > len2 ? len2 : chunkEnd);\n            }\n            let tmp;\n            // Pad the end with zeros, but make sure to not forget the extra bytes\n            if (extraBytes === 1) {\n                tmp = buf[len2];\n                parts[curChunk] = lookup[tmp >> 2] + lookup[(tmp << 4) & 0x3f];\n                if (!urlsafe)\n                    parts[curChunk] += \"==\";\n            }\n            else if (extraBytes === 2) {\n                tmp = (buf[len2] << 8) | (buf[len2 + 1] & 0xff);\n                parts[curChunk] = lookup[tmp >> 10] +\n                    lookup[(tmp >> 4) & 0x3f] +\n                    lookup[(tmp << 2) & 0x3f];\n                if (!urlsafe)\n                    parts[curChunk] += \"=\";\n            }\n            return parts.join(\"\");\n        },\n    };\n}\n", "import { init } from \"./base.js\";\nconst lookup = [];\nconst revLookup = [];\nconst code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\nfor (let i = 0, l = code.length; i < l; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\nexport const { byteLength, toUint8Array, fromUint8Array } = init(lookup, revLookup, true);\n", "import { toUint8Array, fromUint8Array } from \"../../../deno.land/x/base64@v0.2.1/base64url.js\";\nconst decoder = new TextDecoder();\nconst encoder = new TextEncoder();\n/** Serializes a Uint8Array to a hexadecimal string. */\nfunction toHexString(buf) {\n    return buf.reduce((hex, byte) => `${hex}${byte < 16 ? \"0\" : \"\"}${byte.toString(16)}`, \"\");\n}\n/** Deserializes a Uint8Array from a hexadecimal string. */\nfunction fromHexString(hex) {\n    const len = hex.length;\n    if (len % 2 || !/^[0-9a-fA-F]+$/.test(hex)) {\n        throw new TypeError(\"Invalid hex string.\");\n    }\n    hex = hex.toLowerCase();\n    const buf = new Uint8Array(Math.floor(len / 2));\n    const end = len / 2;\n    for (let i = 0; i < end; ++i) {\n        buf[i] = parseInt(hex.substr(i * 2, 2), 16);\n    }\n    return buf;\n}\n/** Decodes a Uint8Array to utf8-, base64-, or hex-encoded string. */\nexport function decode(buf, encoding = \"utf8\") {\n    if (/^utf-?8$/i.test(encoding)) {\n        return decoder.decode(buf);\n    }\n    else if (/^base64$/i.test(encoding)) {\n        return fromUint8Array(buf);\n    }\n    else if (/^hex(?:adecimal)?$/i.test(encoding)) {\n        return toHexString(buf);\n    }\n    else {\n        throw new TypeError(\"Unsupported string encoding.\");\n    }\n}\nexport function encode(str, encoding = \"utf8\") {\n    if (/^utf-?8$/i.test(encoding)) {\n        return encoder.encode(str);\n    }\n    else if (/^base64$/i.test(encoding)) {\n        return toUint8Array(str);\n    }\n    else if (/^hex(?:adecimal)?$/i.test(encoding)) {\n        return fromHexString(str);\n    }\n    else {\n        throw new TypeError(\"Unsupported string encoding.\");\n    }\n}\n", "export { encode, decode } from \"../../../denopkg.com/chiefbiiko/std-encoding@v1.0.0/mod.js\";\n", "import { encode, decode } from \"./deps.js\";\nfunction rotl(x, n) {\n    return (x << n) | (x >>> (32 - n));\n}\n/** Byte length of a SHA1 digest. */\nexport const BYTES = 20;\n/**  A class representation of the SHA1 algorithm. */\nexport class SHA1 {\n    /** Creates a SHA1 instance. */\n    constructor() {\n        Object.defineProperty(this, \"hashSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: BYTES\n        });\n        Object.defineProperty(this, \"_buf\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Uint8Array(64)\n        });\n        Object.defineProperty(this, \"_bufIdx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_count\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_K\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Uint32Array([0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6])\n        });\n        Object.defineProperty(this, \"_H\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_finalized\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.init();\n    }\n    /** Reduces the four input numbers to a single one. */\n    static F(t, b, c, d) {\n        if (t <= 19) {\n            return (b & c) | (~b & d);\n        }\n        else if (t <= 39) {\n            return b ^ c ^ d;\n        }\n        else if (t <= 59) {\n            return (b & c) | (b & d) | (c & d);\n        }\n        else {\n            return b ^ c ^ d;\n        }\n    }\n    /** Initializes a hash instance. */\n    init() {\n        // prettier-ignore\n        this._H = new Uint32Array([\n            0x67452301, 0xEFCDAB89, 0x98BADCFE, 0x10325476, 0xC3D2E1F0\n        ]);\n        this._bufIdx = 0;\n        this._count = new Uint32Array(2);\n        this._buf.fill(0);\n        this._finalized = false;\n        return this;\n    }\n    /** Updates a hash with additional message data. */\n    update(msg, inputEncoding) {\n        if (msg === null) {\n            throw new TypeError(\"msg must be a string or Uint8Array.\");\n        }\n        else if (typeof msg === \"string\") {\n            msg = encode(msg, inputEncoding);\n        }\n        // process the msg as many times as possible, the rest is stored in the buffer\n        // message is processed in 512 bit (64 byte chunks)\n        for (let i = 0; i < msg.length; i++) {\n            this._buf[this._bufIdx++] = msg[i];\n            if (this._bufIdx === 64) {\n                this.transform();\n                this._bufIdx = 0;\n            }\n        }\n        // counter update (number of message bits)\n        const c = this._count;\n        if ((c[0] += msg.length << 3) < msg.length << 3) {\n            c[1]++;\n        }\n        c[1] += msg.length >>> 29;\n        return this;\n    }\n    /** Finalizes a hash with additional message data. */\n    digest(outputEncoding) {\n        if (this._finalized) {\n            throw new Error(\"digest has already been called.\");\n        }\n        this._finalized = true;\n        // append '1'\n        const b = this._buf;\n        let idx = this._bufIdx;\n        b[idx++] = 0x80;\n        // zeropad up to byte pos 56\n        while (idx !== 56) {\n            if (idx === 64) {\n                this.transform();\n                idx = 0;\n            }\n            b[idx++] = 0;\n        }\n        // append length in bits\n        const c = this._count;\n        b[56] = (c[1] >>> 24) & 0xff;\n        b[57] = (c[1] >>> 16) & 0xff;\n        b[58] = (c[1] >>> 8) & 0xff;\n        b[59] = (c[1] >>> 0) & 0xff;\n        b[60] = (c[0] >>> 24) & 0xff;\n        b[61] = (c[0] >>> 16) & 0xff;\n        b[62] = (c[0] >>> 8) & 0xff;\n        b[63] = (c[0] >>> 0) & 0xff;\n        this.transform();\n        // return the hash as byte array (20 bytes)\n        const hash = new Uint8Array(BYTES);\n        for (let i = 0; i < 5; i++) {\n            hash[(i << 2) + 0] = (this._H[i] >>> 24) & 0xff;\n            hash[(i << 2) + 1] = (this._H[i] >>> 16) & 0xff;\n            hash[(i << 2) + 2] = (this._H[i] >>> 8) & 0xff;\n            hash[(i << 2) + 3] = (this._H[i] >>> 0) & 0xff;\n        }\n        // clear internal states and prepare for new hash\n        this.init();\n        return outputEncoding ? decode(hash, outputEncoding) : hash;\n    }\n    /** Performs one transformation cycle. */\n    transform() {\n        const h = this._H;\n        let a = h[0];\n        let b = h[1];\n        let c = h[2];\n        let d = h[3];\n        let e = h[4];\n        // convert byte buffer to words\n        const w = new Uint32Array(80);\n        for (let i = 0; i < 16; i++) {\n            w[i] =\n                this._buf[(i << 2) + 3] |\n                    (this._buf[(i << 2) + 2] << 8) |\n                    (this._buf[(i << 2) + 1] << 16) |\n                    (this._buf[i << 2] << 24);\n        }\n        for (let t = 0; t < 80; t++) {\n            if (t >= 16) {\n                w[t] = rotl(w[t - 3] ^ w[t - 8] ^ w[t - 14] ^ w[t - 16], 1);\n            }\n            const tmp = (rotl(a, 5) +\n                SHA1.F(t, b, c, d) +\n                e +\n                w[t] +\n                this._K[Math.floor(t / 20)]) |\n                0;\n            e = d;\n            d = c;\n            c = rotl(b, 30);\n            b = a;\n            a = tmp;\n        }\n        h[0] = (h[0] + a) | 0;\n        h[1] = (h[1] + b) | 0;\n        h[2] = (h[2] + c) | 0;\n        h[3] = (h[3] + d) | 0;\n        h[4] = (h[4] + e) | 0;\n    }\n}\n/** Generates a SHA1 hash of the input data. */\nexport function sha1(msg, inputEncoding, outputEncoding) {\n    return new SHA1().update(msg, inputEncoding).digest(outputEncoding);\n}\n", "import { sha1 as digest } from \"../deps/deno.land/x/sha1@v1.0.3/mod.js\";\n/**\n * Creates a new script.\n *\n * Scripts offer the ability to optimistically try to execute a script without having to send the\n * entire script to the server. If the script is loaded on the server, it tries again by sending\n * the entire script. Afterwards, the script is cached on the server.\n *\n * @example\n * ```ts\n * const redis = new Redis({...})\n *\n * const script = redis.createScript<string>(\"return ARGV[1];\")\n * const arg1 = await script.eval([], [\"Hello World\"])\n * assertEquals(arg1, \"Hello World\")\n * ```\n */\nexport class Script {\n    constructor(redis, script) {\n        Object.defineProperty(this, \"script\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"sha1\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"redis\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.redis = redis;\n        this.sha1 = this.digest(script);\n        this.script = script;\n    }\n    /**\n     * Send an `EVAL` command to redis.\n     */\n    async eval(keys, args) {\n        return await this.redis.eval(this.script, keys, args);\n    }\n    /**\n     * Calculates the sha1 hash of the script and then calls `EVALSHA`.\n     */\n    async evalsha(keys, args) {\n        return await this.redis.evalsha(this.sha1, keys, args);\n    }\n    /**\n     * Optimistically try to run `EVALSHA` first.\n     * If the script is not loaded in redis, it will fall back and try again with `EVAL`.\n     *\n     * Following calls will be able to use the cached script\n     */\n    async exec(keys, args) {\n        const res = await this.redis.evalsha(this.sha1, keys, args).catch(async (err) => {\n            if (err instanceof Error &&\n                err.message.toLowerCase().includes(\"noscript\")) {\n                return await this.redis.eval(this.script, keys, args);\n            }\n            throw err;\n        });\n        return res;\n    }\n    /**\n     * Compute the sha1 hash of the script and return its hex representation.\n     */\n    digest(s) {\n        const hash = digest(s, \"utf8\", \"hex\");\n        return typeof hash === \"string\" ? hash : new TextDecoder().decode(hash);\n    }\n}\n", "import { AppendCommand, BitCountCommand, BitOpCommand, BitPosCommand, DBSizeCommand, DecrByCommand, DecrCommand, DelCommand, EchoCommand, EvalCommand, EvalshaCommand, ExistsCommand, ExpireAtCommand, ExpireCommand, FlushAllCommand, FlushDBCommand, GetBitCommand, GetCommand, GetDelCommand, GetRangeCommand, GetSetCommand, HDelCommand, HExistsCommand, HGetAllCommand, HGetCommand, HIncrByCommand, HIncrByFloatCommand, HKeysCommand, HLenCommand, HMGetCommand, HMSetCommand, HRandFieldCommand, HScanCommand, HSetCommand, HSetNXCommand, HStrLenCommand, HValsCommand, IncrByCommand, IncrByFloatCommand, IncrCommand, JsonArrAppendCommand, JsonArrIndexCommand, JsonArrInsertCommand, JsonArrLenCommand, JsonArrPopCommand, JsonArrTrimCommand, JsonClearCommand, JsonDelCommand, JsonForgetCommand, JsonGetCommand, JsonMGetCommand, JsonNumIncrByCommand, JsonNumMultByCommand, JsonObjKeysCommand, JsonObjLenCommand, JsonRespCommand, JsonSetCommand, JsonStrAppendCommand, JsonStrLenCommand, JsonToggleCommand, JsonTypeCommand, KeysCommand, LIndexCommand, LInsertCommand, LLenCommand, LMoveCommand, LPopCommand, LPosCommand, LPushCommand, LPushXCommand, LRangeCommand, LRemCommand, LSetCommand, LTrimCommand, MGetCommand, MSetCommand, MSetNXCommand, PersistCommand, PExpireAtCommand, PExpireCommand, PingCommand, PSetEXCommand, PTtlCommand, PublishCommand, RandomKeyCommand, RenameCommand, RenameNXCommand, RPopCommand, RPushCommand, RPushXCommand, SAddCommand, ScanCommand, SCardCommand, ScriptExistsCommand, ScriptFlushCommand, ScriptLoadCommand, SDiffCommand, SDiffStoreCommand, SetBitCommand, SetCommand, SetExCommand, SetNxCommand, SetRangeCommand, SInterCommand, SInterStoreCommand, SIsMemberCommand, SMembersCommand, SMIsMemberCommand, SMoveCommand, SPopCommand, SRandMemberCommand, SRemCommand, SScanCommand, StrLenCommand, SUnionCommand, SUnionStoreCommand, TimeCommand, TouchCommand, TtlCommand, TypeCommand, UnlinkCommand, ZAddCommand, ZCardCommand, ZCountCommand, ZIncrByCommand, ZInterStoreCommand, ZLexCountCommand, ZPopMaxCommand, ZPopMinCommand, ZRangeCommand, ZRankCommand, ZRemCommand, ZRemRangeByLexCommand, ZRemRangeByRankCommand, ZRemRangeByScoreCommand, ZRevRankCommand, ZScanCommand, ZScoreCommand, ZUnionStoreCommand, } from \"./commands/mod.js\";\nimport { Pipeline } from \"./pipeline.js\";\nimport { Script } from \"./script.js\";\nimport { ZMScoreCommand } from \"./commands/zmscore.js\";\nimport { ZDiffStoreCommand } from \"./commands/zdiffstore.js\";\n/**\n * Serverless redis client for upstash.\n */\nexport class Redis {\n    /**\n     * Create a new redis client\n     *\n     * @example\n     * ```typescript\n     * const redis = new Redis({\n     *  url: \"<UPSTASH_REDIS_REST_URL>\",\n     *  token: \"<UPSTASH_REDIS_REST_TOKEN>\",\n     * });\n     * ```\n     */\n    constructor(client, opts) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"opts\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"enableTelemetry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * Wrap a new middleware around the HTTP client.\n         */\n        Object.defineProperty(this, \"use\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (middleware) => {\n                const makeRequest = this.client.request.bind(this.client);\n                this.client.request = (req) => middleware(req, makeRequest);\n            }\n        });\n        /**\n         * Technically this is not private, we can hide it from intellisense by doing this\n         */\n        Object.defineProperty(this, \"addTelemetry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (telemetry) => {\n                if (!this.enableTelemetry) {\n                    return;\n                }\n                try {\n                    // @ts-ignore - The `Requester` interface does not know about this method but it will be there\n                    // as long as the user uses the standard HttpClient\n                    this.client.mergeTelemetry(telemetry);\n                }\n                catch {\n                    // ignore\n                }\n            }\n        });\n        /**\n         * Create a new pipeline that allows you to send requests in bulk.\n         *\n         * @see {@link Pipeline}\n         */\n        Object.defineProperty(this, \"pipeline\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => new Pipeline({\n                client: this.client,\n                commandOptions: this.opts,\n                multiExec: false,\n            })\n        });\n        /**\n         * Create a new transaction to allow executing multiple steps atomically.\n         *\n         * All the commands in a transaction are serialized and executed sequentially. A request sent by\n         * another client will never be served in the middle of the execution of a Redis Transaction. This\n         * guarantees that the commands are executed as a single isolated operation.\n         *\n         * @see {@link Pipeline}\n         */\n        Object.defineProperty(this, \"multi\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => new Pipeline({\n                client: this.client,\n                commandOptions: this.opts,\n                multiExec: true,\n            })\n        });\n        /**\n         * @see https://redis.io/commands/append\n         */\n        Object.defineProperty(this, \"append\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new AppendCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/bitcount\n         */\n        Object.defineProperty(this, \"bitcount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new BitCountCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/bitop\n         */\n        Object.defineProperty(this, \"bitop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (op, destinationKey, sourceKey, ...sourceKeys) => new BitOpCommand([op, destinationKey, sourceKey, ...sourceKeys], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/bitpos\n         */\n        Object.defineProperty(this, \"bitpos\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new BitPosCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/dbsize\n         */\n        Object.defineProperty(this, \"dbsize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => new DBSizeCommand(this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/decr\n         */\n        Object.defineProperty(this, \"decr\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new DecrCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/decrby\n         */\n        Object.defineProperty(this, \"decrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new DecrByCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/del\n         */\n        Object.defineProperty(this, \"del\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new DelCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/echo\n         */\n        Object.defineProperty(this, \"echo\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new EchoCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/eval\n         */\n        Object.defineProperty(this, \"eval\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new EvalCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/evalsha\n         */\n        Object.defineProperty(this, \"evalsha\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new EvalshaCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/exists\n         */\n        Object.defineProperty(this, \"exists\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ExistsCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/expire\n         */\n        Object.defineProperty(this, \"expire\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ExpireCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/expireat\n         */\n        Object.defineProperty(this, \"expireat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ExpireAtCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/flushall\n         */\n        Object.defineProperty(this, \"flushall\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (args) => new FlushAllCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/flushdb\n         */\n        Object.defineProperty(this, \"flushdb\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new FlushDBCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/get\n         */\n        Object.defineProperty(this, \"get\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new GetCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/getbit\n         */\n        Object.defineProperty(this, \"getbit\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new GetBitCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/getdel\n         */\n        Object.defineProperty(this, \"getdel\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new GetDelCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/getrange\n         */\n        Object.defineProperty(this, \"getrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new GetRangeCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/getset\n         */\n        Object.defineProperty(this, \"getset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, value) => new GetSetCommand([key, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hdel\n         */\n        Object.defineProperty(this, \"hdel\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HDelCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hexists\n         */\n        Object.defineProperty(this, \"hexists\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HExistsCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hget\n         */\n        Object.defineProperty(this, \"hget\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HGetCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hgetall\n         */\n        Object.defineProperty(this, \"hgetall\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HGetAllCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hincrby\n         */\n        Object.defineProperty(this, \"hincrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HIncrByCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hincrbyfloat\n         */\n        Object.defineProperty(this, \"hincrbyfloat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HIncrByFloatCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hkeys\n         */\n        Object.defineProperty(this, \"hkeys\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HKeysCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hlen\n         */\n        Object.defineProperty(this, \"hlen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HLenCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hmget\n         */\n        Object.defineProperty(this, \"hmget\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HMGetCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hmset\n         */\n        Object.defineProperty(this, \"hmset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, kv) => new HMSetCommand([key, kv], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hrandfield\n         */\n        Object.defineProperty(this, \"hrandfield\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, count, withValues) => new HRandFieldCommand([key, count, withValues], this.opts)\n                .exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hscan\n         */\n        Object.defineProperty(this, \"hscan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HScanCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hset\n         */\n        Object.defineProperty(this, \"hset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, kv) => new HSetCommand([key, kv], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hsetnx\n         */\n        Object.defineProperty(this, \"hsetnx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, field, value) => new HSetNXCommand([key, field, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hstrlen\n         */\n        Object.defineProperty(this, \"hstrlen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HStrLenCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/hvals\n         */\n        Object.defineProperty(this, \"hvals\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new HValsCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/incr\n         */\n        Object.defineProperty(this, \"incr\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new IncrCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/incrby\n         */\n        Object.defineProperty(this, \"incrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new IncrByCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/incrbyfloat\n         */\n        Object.defineProperty(this, \"incrbyfloat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new IncrByFloatCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/keys\n         */\n        Object.defineProperty(this, \"keys\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new KeysCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lindex\n         */\n        Object.defineProperty(this, \"lindex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LIndexCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/linsert\n         */\n        Object.defineProperty(this, \"linsert\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, direction, pivot, value) => new LInsertCommand([key, direction, pivot, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/llen\n         */\n        Object.defineProperty(this, \"llen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LLenCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lmove\n         */\n        Object.defineProperty(this, \"lmove\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LMoveCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lpop\n         */\n        Object.defineProperty(this, \"lpop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LPopCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lpos\n         */\n        Object.defineProperty(this, \"lpos\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LPosCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lpush\n         */\n        Object.defineProperty(this, \"lpush\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => new LPushCommand([key, ...elements], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lpushx\n         */\n        Object.defineProperty(this, \"lpushx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => new LPushXCommand([key, ...elements], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lrange\n         */\n        Object.defineProperty(this, \"lrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LRangeCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lrem\n         */\n        Object.defineProperty(this, \"lrem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, count, value) => new LRemCommand([key, count, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/lset\n         */\n        Object.defineProperty(this, \"lset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, index, value) => new LSetCommand([key, index, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/ltrim\n         */\n        Object.defineProperty(this, \"ltrim\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new LTrimCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/mget\n         */\n        Object.defineProperty(this, \"mget\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new MGetCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/mset\n         */\n        Object.defineProperty(this, \"mset\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (kv) => new MSetCommand([kv], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/msetnx\n         */\n        Object.defineProperty(this, \"msetnx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (kv) => new MSetNXCommand([kv], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/persist\n         */\n        Object.defineProperty(this, \"persist\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new PersistCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/pexpire\n         */\n        Object.defineProperty(this, \"pexpire\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new PExpireCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/pexpireat\n         */\n        Object.defineProperty(this, \"pexpireat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new PExpireAtCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/ping\n         */\n        Object.defineProperty(this, \"ping\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (args) => new PingCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/psetex\n         */\n        Object.defineProperty(this, \"psetex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ttl, value) => new PSetEXCommand([key, ttl, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/pttl\n         */\n        Object.defineProperty(this, \"pttl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new PTtlCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/publish\n         */\n        Object.defineProperty(this, \"publish\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new PublishCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/randomkey\n         */\n        Object.defineProperty(this, \"randomkey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => new RandomKeyCommand().exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/rename\n         */\n        Object.defineProperty(this, \"rename\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new RenameCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/renamenx\n         */\n        Object.defineProperty(this, \"renamenx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new RenameNXCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/rpop\n         */\n        Object.defineProperty(this, \"rpop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new RPopCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/rpush\n         */\n        Object.defineProperty(this, \"rpush\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => new RPushCommand([key, ...elements], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/rpushx\n         */\n        Object.defineProperty(this, \"rpushx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...elements) => new RPushXCommand([key, ...elements], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sadd\n         */\n        Object.defineProperty(this, \"sadd\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...members) => new SAddCommand([key, ...members], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/scan\n         */\n        Object.defineProperty(this, \"scan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ScanCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/scard\n         */\n        Object.defineProperty(this, \"scard\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SCardCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/script-exists\n         */\n        Object.defineProperty(this, \"scriptExists\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ScriptExistsCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/script-flush\n         */\n        Object.defineProperty(this, \"scriptFlush\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ScriptFlushCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/script-load\n         */\n        Object.defineProperty(this, \"scriptLoad\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ScriptLoadCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sdiff\n         */\n        Object.defineProperty(this, \"sdiff\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SDiffCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sdiffstore\n         */\n        Object.defineProperty(this, \"sdiffstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SDiffStoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/set\n         */\n        Object.defineProperty(this, \"set\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, value, opts) => new SetCommand([key, value, opts], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/setbit\n         */\n        Object.defineProperty(this, \"setbit\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SetBitCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/setex\n         */\n        Object.defineProperty(this, \"setex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ttl, value) => new SetExCommand([key, ttl, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/setnx\n         */\n        Object.defineProperty(this, \"setnx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, value) => new SetNxCommand([key, value], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/setrange\n         */\n        Object.defineProperty(this, \"setrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SetRangeCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sinter\n         */\n        Object.defineProperty(this, \"sinter\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SInterCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sinterstore\n         */\n        Object.defineProperty(this, \"sinterstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SInterStoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sismember\n         */\n        Object.defineProperty(this, \"sismember\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => new SIsMemberCommand([key, member], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/smismember\n         */\n        Object.defineProperty(this, \"smismember\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, members) => new SMIsMemberCommand([key, members], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/smembers\n         */\n        Object.defineProperty(this, \"smembers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SMembersCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/smove\n         */\n        Object.defineProperty(this, \"smove\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (source, destination, member) => new SMoveCommand([source, destination, member], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/spop\n         */\n        Object.defineProperty(this, \"spop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SPopCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/srandmember\n         */\n        Object.defineProperty(this, \"srandmember\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SRandMemberCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/srem\n         */\n        Object.defineProperty(this, \"srem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...members) => new SRemCommand([key, ...members], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sscan\n         */\n        Object.defineProperty(this, \"sscan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SScanCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/strlen\n         */\n        Object.defineProperty(this, \"strlen\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new StrLenCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sunion\n         */\n        Object.defineProperty(this, \"sunion\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SUnionCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/sunionstore\n         */\n        Object.defineProperty(this, \"sunionstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new SUnionStoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/time\n         */\n        Object.defineProperty(this, \"time\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => new TimeCommand().exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/touch\n         */\n        Object.defineProperty(this, \"touch\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new TouchCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/ttl\n         */\n        Object.defineProperty(this, \"ttl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new TtlCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/type\n         */\n        Object.defineProperty(this, \"type\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new TypeCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/unlink\n         */\n        Object.defineProperty(this, \"unlink\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new UnlinkCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zadd\n         */\n        Object.defineProperty(this, \"zadd\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => {\n                if (\"score\" in args[1]) {\n                    return new ZAddCommand([args[0], args[1], ...args.slice(2)], this.opts).exec(this.client);\n                }\n                return new ZAddCommand([args[0], args[1], ...args.slice(2)], this.opts).exec(this.client);\n            }\n        });\n        /**\n         * @see https://redis.io/commands/zcard\n         */\n        Object.defineProperty(this, \"zcard\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZCardCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zcount\n         */\n        Object.defineProperty(this, \"zcount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZCountCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zdiffstore\n         */\n        Object.defineProperty(this, \"zdiffstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZDiffStoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zincrby\n         */\n        Object.defineProperty(this, \"zincrby\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, increment, member) => new ZIncrByCommand([key, increment, member], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zinterstore\n         */\n        Object.defineProperty(this, \"zinterstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZInterStoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zlexcount\n         */\n        Object.defineProperty(this, \"zlexcount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZLexCountCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zmscore\n         */\n        Object.defineProperty(this, \"zmscore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZMScoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zpopmax\n         */\n        Object.defineProperty(this, \"zpopmax\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZPopMaxCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zpopmin\n         */\n        Object.defineProperty(this, \"zpopmin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZPopMinCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zrange\n         */\n        Object.defineProperty(this, \"zrange\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZRangeCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zrank\n         */\n        Object.defineProperty(this, \"zrank\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => new ZRankCommand([key, member], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zrem\n         */\n        Object.defineProperty(this, \"zrem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, ...members) => new ZRemCommand([key, ...members], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zremrangebylex\n         */\n        Object.defineProperty(this, \"zremrangebylex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZRemRangeByLexCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zremrangebyrank\n         */\n        Object.defineProperty(this, \"zremrangebyrank\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZRemRangeByRankCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zremrangebyscore\n         */\n        Object.defineProperty(this, \"zremrangebyscore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZRemRangeByScoreCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zrevrank\n         */\n        Object.defineProperty(this, \"zrevrank\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => new ZRevRankCommand([key, member], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zscan\n         */\n        Object.defineProperty(this, \"zscan\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZScanCommand(args, this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zscore\n         */\n        Object.defineProperty(this, \"zscore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (key, member) => new ZScoreCommand([key, member], this.opts).exec(this.client)\n        });\n        /**\n         * @see https://redis.io/commands/zunionstore\n         */\n        Object.defineProperty(this, \"zunionstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (...args) => new ZUnionStoreCommand(args, this.opts).exec(this.client)\n        });\n        this.client = client;\n        this.opts = opts;\n        this.enableTelemetry = opts?.enableTelemetry ?? true;\n    }\n    get json() {\n        return {\n            /**\n             * @see https://redis.io/commands/json.arrappend\n             */\n            arrappend: (...args) => new JsonArrAppendCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.arrindex\n             */\n            arrindex: (...args) => new JsonArrIndexCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.arrinsert\n             */\n            arrinsert: (...args) => new JsonArrInsertCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.arrlen\n             */\n            arrlen: (...args) => new JsonArrLenCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.arrpop\n             */\n            arrpop: (...args) => new JsonArrPopCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.arrtrim\n             */\n            arrtrim: (...args) => new JsonArrTrimCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.clear\n             */\n            clear: (...args) => new JsonClearCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.del\n             */\n            del: (...args) => new JsonDelCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.forget\n             */\n            forget: (...args) => new JsonForgetCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.get\n             */\n            get: (...args) => new JsonGetCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.mget\n             */\n            mget: (...args) => new JsonMGetCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.numincrby\n             */\n            numincrby: (...args) => new JsonNumIncrByCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.nummultby\n             */\n            nummultby: (...args) => new JsonNumMultByCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.objkeys\n             */\n            objkeys: (...args) => new JsonObjKeysCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.objlen\n             */\n            objlen: (...args) => new JsonObjLenCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.resp\n             */\n            resp: (...args) => new JsonRespCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.set\n             */\n            set: (...args) => new JsonSetCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.strappend\n             */\n            strappend: (...args) => new JsonStrAppendCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.strlen\n             */\n            strlen: (...args) => new JsonStrLenCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.toggle\n             */\n            toggle: (...args) => new JsonToggleCommand(args, this.opts).exec(this.client),\n            /**\n             * @see https://redis.io/commands/json.type\n             */\n            type: (...args) => new JsonTypeCommand(args, this.opts).exec(this.client),\n        };\n    }\n    createScript(script) {\n        return new Script(this, script);\n    }\n}\n", "import { UpstashError } from \"./error.js\";\nexport class HttpClient {\n    constructor(config) {\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"options\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"retry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.options = {\n            backend: config.options?.backend,\n            agent: config.agent,\n            responseEncoding: config.responseEncoding ?? \"base64\",\n            cache: config.cache,\n        };\n        this.baseUrl = config.baseUrl.replace(/\\/$/, \"\");\n        this.headers = {\n            \"Content-Type\": \"application/json\",\n            ...config.headers,\n        };\n        if (this.options.responseEncoding === \"base64\") {\n            this.headers[\"Upstash-Encoding\"] = \"base64\";\n        }\n        if (typeof config?.retry === \"boolean\" && config?.retry === false) {\n            this.retry = {\n                attempts: 1,\n                backoff: () => 0,\n            };\n        }\n        else {\n            this.retry = {\n                attempts: config?.retry?.retries ?? 5,\n                backoff: config?.retry?.backoff ??\n                    ((retryCount) => Math.exp(retryCount) * 50),\n            };\n        }\n    }\n    mergeTelemetry(telemetry) {\n        function merge(obj, key, value) {\n            if (!value) {\n                return obj;\n            }\n            if (obj[key]) {\n                obj[key] = [obj[key], value].join(\",\");\n            }\n            else {\n                obj[key] = value;\n            }\n            return obj;\n        }\n        this.headers = merge(this.headers, \"Upstash-Telemetry-Runtime\", telemetry.runtime);\n        this.headers = merge(this.headers, \"Upstash-Telemetry-Platform\", telemetry.platform);\n        this.headers = merge(this.headers, \"Upstash-Telemetry-Sdk\", telemetry.sdk);\n    }\n    async request(req) {\n        const requestOptions = {\n            cache: this.options.cache,\n            method: \"POST\",\n            headers: this.headers,\n            body: JSON.stringify(req.body),\n            keepalive: true,\n            agent: this.options?.agent,\n            /**\n             * Fastly specific\n             */\n            backend: this.options?.backend,\n        };\n        let res = null;\n        let error = null;\n        for (let i = 0; i <= this.retry.attempts; i++) {\n            try {\n                res = await fetch([this.baseUrl, ...(req.path ?? [])].join(\"/\"), requestOptions);\n                break;\n            }\n            catch (err) {\n                error = err;\n                await new Promise((r) => setTimeout(r, this.retry.backoff(i)));\n            }\n        }\n        if (!res) {\n            throw error ?? new Error(\"Exhausted all retries\");\n        }\n        const body = (await res.json());\n        if (!res.ok) {\n            throw new UpstashError(body.error);\n        }\n        if (this.options?.responseEncoding === \"base64\") {\n            return Array.isArray(body) ? body.map(decode) : decode(body);\n        }\n        return body;\n    }\n}\nfunction base64decode(b64) {\n    let dec = \"\";\n    try {\n        /**\n         * Using only atob() is not enough because it doesn't work with unicode characters\n         */\n        const binString = atob(b64);\n        const size = binString.length;\n        const bytes = new Uint8Array(size);\n        for (let i = 0; i < size; i++) {\n            bytes[i] = binString.charCodeAt(i);\n        }\n        dec = new TextDecoder().decode(bytes);\n    }\n    catch {\n        dec = b64;\n    }\n    return dec;\n    // try {\n    //   return decodeURIComponent(dec);\n    // } catch {\n    //   return dec;\n    // }\n}\nfunction decode(raw) {\n    let result = undefined;\n    switch (typeof raw.result) {\n        case \"undefined\":\n            return raw;\n        case \"number\": {\n            result = raw.result;\n            break;\n        }\n        case \"object\": {\n            if (Array.isArray(raw.result)) {\n                result = raw.result.map((v) => typeof v === \"string\"\n                    ? base64decode(v)\n                    : Array.isArray(v)\n                        ? v.map(base64decode)\n                        : v);\n            }\n            else {\n                // If it's not an array it must be null\n                // Apparently null is an object in javascript\n                result = null;\n            }\n            break;\n        }\n        case \"string\": {\n            result = raw.result === \"OK\" ? \"OK\" : base64decode(raw.result);\n            break;\n        }\n        default:\n            break;\n    }\n    return { result, error: raw.error };\n}\n", "export const VERSION = \"v1.22.0\";\n", "// deno-lint-ignore-file\nimport * as core from \"../pkg/redis.js\";\nimport { HttpClient, } from \"../pkg/http.js\";\nimport { VERSION } from \"../version.js\";\n/**\n * Workaround for nodejs 14, where atob is not included in the standardlib\n */\nif (typeof atob === \"undefined\") {\n    global.atob = function (b64) {\n        return Buffer.from(b64, \"base64\").toString(\"utf-8\");\n    };\n}\n/**\n * Serverless redis client for upstash.\n */\nexport class Redis extends core.Redis {\n    constructor(configOrRequester) {\n        if (\"request\" in configOrRequester) {\n            super(configOrRequester);\n            return;\n        }\n        if (configOrRequester.url.startsWith(\" \") ||\n            configOrRequester.url.endsWith(\" \") ||\n            /\\r|\\n/.test(configOrRequester.url)) {\n            console.warn(\"The redis url contains whitespace or newline, which can cause errors!\");\n        }\n        if (configOrRequester.token.startsWith(\" \") ||\n            configOrRequester.token.endsWith(\" \") ||\n            /\\r|\\n/.test(configOrRequester.token)) {\n            console.warn(\"The redis token contains whitespace or newline, which can cause errors!\");\n        }\n        const client = new HttpClient({\n            baseUrl: configOrRequester.url,\n            retry: configOrRequester.retry,\n            headers: { authorization: `Bearer ${configOrRequester.token}` },\n            agent: configOrRequester.agent,\n            responseEncoding: configOrRequester.responseEncoding,\n            cache: configOrRequester.cache || \"no-store\",\n        });\n        super(client, {\n            automaticDeserialization: configOrRequester.automaticDeserialization,\n            enableTelemetry: !process.env.UPSTASH_DISABLE_TELEMETRY,\n        });\n        this.addTelemetry({\n            runtime: typeof EdgeRuntime === \"string\"\n                ? \"edge-light\"\n                : `node@${process.version}`,\n            platform: process.env.VERCEL\n                ? \"vercel\"\n                : process.env.AWS_REGION\n                    ? \"aws\"\n                    : \"unknown\",\n            sdk: `@upstash/redis@${VERSION}`,\n        });\n    }\n    /**\n     * Create a new Upstash Redis instance from environment variables.\n     *\n     * Use this to automatically load connection secrets from your environment\n     * variables. For instance when using the Vercel integration.\n     *\n     * This tries to load `UPSTASH_REDIS_REST_URL` and `UPSTASH_REDIS_REST_TOKEN` from\n     * your environment using `process.env`.\n     */\n    static fromEnv(config) {\n        // @ts-ignore process will be defined in node\n        if (typeof process?.env === \"undefined\") {\n            throw new Error('Unable to get environment variables, `process.env` is undefined. If you are deploying to cloudflare, please import from \"@upstash/redis/cloudflare\" instead');\n        }\n        // @ts-ignore process will be defined in node\n        const url = process?.env[\"UPSTASH_REDIS_REST_URL\"];\n        if (!url) {\n            throw new Error(\"Unable to find environment variable: `UPSTASH_REDIS_REST_URL`\");\n        }\n        // @ts-ignore process will be defined in node\n        const token = process?.env[\"UPSTASH_REDIS_REST_TOKEN\"];\n        if (!token) {\n            throw new Error(\"Unable to find environment variable: `UPSTASH_REDIS_REST_TOKEN`\");\n        }\n        return new Redis({ ...config, url, token });\n    }\n}\n", "export * from \"./analytics\";\n", "import { Redis } from \"@upstash/redis\";\n\nexport type Event = {\n  time?: number;\n  [key: string]: string | number | boolean | undefined;\n};\n\nclass Key {\n  constructor(public readonly prefix: string, public readonly table: string, public readonly bucket: number) {}\n\n  public toString() {\n    return [this.prefix, this.table, this.bucket].join(\":\");\n  }\n  static fromString(key: string) {\n    const [prefix, table, bucket] = key.split(\":\");\n    return new Key(prefix, table, parseInt(bucket));\n  }\n}\n\nexport type Window = `${number}${\"s\" | \"m\" | \"h\" | \"d\"}`;\n\nexport type AnalyticsConfig = {\n  redis: Redis;\n  /**\n   * Configure the bucket size for analytics. All events inside the window will be stored inside\n   * the same bucket. This reduces the number of keys that need to be scanned when aggregating\n   * and reduces your cost.\n   *\n   * Must be either a string in the format of `1s`, `2m`, `3h`, `4d` or a number of milliseconds.\n   */\n  window: Window | number;\n  prefix?: string;\n\n  /**\n   * Configure the retention period for analytics. All events older than the retention period will\n   * be deleted. This reduces the number of keys that need to be scanned when aggregating.\n   *\n   * Can either be a string in the format of `1s`, `2m`, `3h`, `4d` or a number of milliseconds.\n   * 0, negative or undefined means that the retention is disabled.\n   *\n   * @default Disabled\n   *\n   * Buckets are evicted when they are read, not when they are written. This is much cheaper since\n   * it only requires a single command to ingest data.\n   */\n  retention?: Window | number;\n};\n\nclass Cache<TValue> {\n  private readonly cache: Map<string, { value: TValue; createdAt: number }>;\n  private readonly ttl: number;\n  constructor(ttl: number) {\n    this.cache = new Map();\n    this.ttl = ttl;\n\n    setInterval(() => {\n      const now = Date.now();\n      for (const [key, { createdAt }] of this.cache) {\n        if (now - createdAt > this.ttl) {\n          this.cache.delete(key);\n        }\n      }\n    }, this.ttl * 10);\n  }\n\n  public get(key: string): TValue | null {\n    const data = this.cache.get(key);\n    if (!data) {\n      return null;\n    }\n    if (Date.now() - data.createdAt > this.ttl) {\n      this.cache.delete(key);\n      return null;\n    }\n    return data.value;\n  }\n\n  public set(key: string, value: TValue) {\n    this.cache.set(key, { createdAt: Date.now(), value });\n  }\n}\n\nexport class Analytics {\n  private readonly redis: Redis;\n  private readonly prefix: string;\n  private readonly bucketSize: number;\n  private readonly retention?: number;\n\n  private readonly cache = new Cache<Record<string, number>>(60000);\n\n  constructor(config: AnalyticsConfig) {\n    this.redis = config.redis;\n    this.prefix = config.prefix ?? \"@upstash/analytics\";\n    this.bucketSize = this.parseWindow(config.window);\n    this.retention = config.retention ? this.parseWindow(config.retention) : undefined;\n  }\n\n  private validateTableName(table: string) {\n    const regex = /^[a-zA-Z0-9_-]+$/;\n    if (!regex.test(table)) {\n      throw new Error(\n        `Invalid table name: ${table}. Table names can only contain letters, numbers, dashes and underscores.`,\n      );\n    }\n  }\n\n  /**\n   * Parses the window string into a number of milliseconds\n   */\n  private parseWindow(window: Window | number): number {\n    if (typeof window === \"number\") {\n      if (window <= 0) {\n        throw new Error(`Invalid window: ${window}`);\n      }\n      return window;\n    }\n    const regex = /^(\\d+)([smhd])$/;\n    if (!regex.test(window)) {\n      throw new Error(`Invalid window: ${window}`);\n    }\n    const [, valueStr, unit] = window.match(regex)!;\n    const value = parseInt(valueStr);\n    switch (unit) {\n      case \"s\":\n        return value * 1000;\n      case \"m\":\n        return value * 1000 * 60;\n      case \"h\":\n        return value * 1000 * 60 * 60;\n      case \"d\":\n        return value * 1000 * 60 * 60 * 24;\n      default:\n        throw new Error(`Invalid window unit: ${unit}`);\n    }\n  }\n\n  /**\n   * Ingest a new event\n   * @param table\n   * @param event\n   */\n  public async ingest(table: string, ...events: Event[]): Promise<void> {\n    this.validateTableName(table);\n    await Promise.all(\n      events.map(async (event) => {\n        const time = event.time ?? Date.now();\n        // Bucket is a unix timestamp in milliseconds marking the beginning of a day\n        const bucket = Math.floor(time / this.bucketSize) * this.bucketSize;\n        const key = [this.prefix, table, bucket].join(\":\");\n\n        await this.redis.hincrby(\n          key,\n          JSON.stringify({\n            ...event,\n            time: undefined,\n          }),\n          1,\n        );\n      }),\n    );\n  }\n\n  private async loadBuckets(\n    table: string,\n    opts: {\n      scan?: boolean;\n      range: [number, number];\n    },\n  ): Promise<{ key: string; hash: Record<string, number> }[]> {\n    this.validateTableName(table);\n    const now = Date.now();\n\n    const keys: string[] = [];\n    if (opts.scan) {\n      let cursor = 0;\n      const match = [this.prefix, table, \"*\"].join(\":\");\n      do {\n        const [nextCursor, found] = await this.redis.scan(cursor, {\n          match,\n        });\n\n        cursor = nextCursor;\n        for (const key of found) {\n          const timestamp = parseInt(key.split(\":\").pop()!);\n          // Delete keys that are older than the retention period\n          if (this.retention && timestamp < now - this.retention) {\n            await this.redis.del(key);\n            continue;\n          }\n          // Take all the keys that at least overlap with the given range\n          if (timestamp >= opts.range[0] || timestamp <= opts.range[1]) {\n            keys.push(key);\n          }\n        }\n      } while (cursor !== 0);\n    } else {\n      let t = Math.floor(now / this.bucketSize) * this.bucketSize;\n      while (t > opts.range[1]) {\n        t -= this.bucketSize;\n      }\n      while (t >= opts.range[0]) {\n        keys.push([this.prefix, table, t].join(\":\"));\n        t -= this.bucketSize;\n      }\n    }\n    const loadKeys: string[] = [];\n    const buckets: { key: string; hash: Record<string, number> }[] = [];\n    for (const key of keys) {\n      const cached = this.cache.get(key);\n      if (cached) {\n        buckets.push({\n          key,\n          hash: cached,\n        });\n      } else {\n        loadKeys.push(key);\n      }\n    }\n\n    const p = this.redis.pipeline();\n    for (const key of loadKeys) {\n      p.hgetall(key);\n    }\n    const res = loadKeys.length > 0 ? await p.exec<(Record<string, number> | null)[]>() : [];\n    for (let i = 0; i < loadKeys.length; i++) {\n      const key = loadKeys[i];\n      const hash = res[i];\n      if (hash) {\n        this.cache.set(key, hash);\n      }\n      buckets.push({\n        key,\n        hash: hash ?? {},\n      });\n    }\n\n    return buckets.sort((a, b) => a.hash.time - b.hash.time);\n  }\n  /**\n   * Returns the number of events per bucket\n   */\n  async count(\n    table: string,\n    opts: {\n      range: [number, number];\n    },\n  ): Promise<{ time: number; count: number }[]> {\n    this.validateTableName(table);\n\n    const buckets = await this.loadBuckets(table, { range: opts.range });\n\n    return await Promise.all(\n      buckets.map(async ({ key, hash }) => {\n        const timestamp = parseInt(key.split(\":\").pop()!);\n        return {\n          time: timestamp,\n          count: Object.values(hash).reduce((acc, curr) => acc + curr, 0),\n        };\n      }),\n    );\n  }\n\n  /**\n   * Builds a timeseries of the aggreagated value\n   *\n   * @param aggregateBy - The field to aggregate by\n   * @param cutoff - Timestamp in milliseconds to limit the aggregation to `cutoff` until now\n   * @returns\n   */\n  async aggregateBy<TAggregateBy extends keyof Omit<Event, \"time\">>(\n    table: string,\n    aggregateBy: TAggregateBy,\n    opts: {\n      /**\n       * The range of timestamps to query. If not specified, all buckets are loaded.\n       * The range is inclusive.\n       * The first element is the start of the range, the second element is the end of the range.\n       *\n       * In milliseconds\n       */\n      range: [number, number];\n    },\n  ): Promise<({ time: number } & Record<string, Record<string, number>>)[]> {\n    this.validateTableName(table);\n\n    const buckets = await this.loadBuckets(table, { range: opts.range });\n\n    const days = await Promise.all(\n      buckets.map(async ({ key, hash }) => {\n        const day = { time: Key.fromString(key).bucket } as { time: number } & Record<\n          TAggregateBy,\n          Record<string, number>\n        >;\n\n        for (const [field, count] of Object.entries(hash)) {\n          const r = JSON.parse(field) as Record<TAggregateBy, unknown>;\n          for (const [k, v] of Object.entries(r) as [TAggregateBy, string][]) {\n            const agg = r[aggregateBy];\n            // @ts-ignore\n            if (!day[agg]) {\n              // @ts-ignore\n              day[agg] = {};\n            }\n            if (k === aggregateBy) {\n              continue;\n            }\n            // @ts-ignore\n            if (!day[agg][v]) {\n              // @ts-ignore\n              day[agg][v] = 0;\n            }\n            // @ts-ignore\n            day[agg][v] += count;\n          }\n        }\n        return day;\n      }),\n    );\n    return days;\n  }\n\n  async query<TWhere extends keyof Omit<Event, \"time\">, TFilter extends keyof Omit<Event, \"time\">>(\n    table: string,\n    opts: {\n      where?: Record<TWhere, unknown>;\n      filter?: TFilter[];\n      /**\n       * The range of timestamps to query.\n       * The range is inclusive.\n       * The first element is the start of the range, the second element is the end of the range.\n       *\n       * In milliseconds\n       */\n      range: [number, number];\n    },\n  ): Promise<{ time: number; [key: keyof Omit<Event, \"time\">]: number }[]> {\n    this.validateTableName(table);\n    const buckets = await this.loadBuckets(table, { range: opts.range });\n\n    const days = await Promise.all(\n      buckets.map(async ({ key, hash }) => {\n        const day = { time: Key.fromString(key).bucket } as { time: number } & {\n          [key: keyof Omit<Event, \"time\">]: Record<string, number>;\n        };\n\n        for (const [field, count] of Object.entries(hash)) {\n          const r = JSON.parse(field);\n\n          let skip = false;\n          if (opts?.where) {\n            for (const [requiredKey, requiredValue] of Object.entries(opts.where)) {\n              if (!(requiredKey in r)) {\n                skip = true;\n                break;\n              }\n              if (r[requiredKey] !== requiredValue) {\n                skip = true;\n                break;\n              }\n            }\n          }\n          if (skip) {\n            continue;\n          }\n          for (const [k, v] of Object.entries(r) as [string, string][]) {\n            // @ts-ignore\n            if (opts?.filter && !opts.filter.includes(k)) {\n              continue;\n            }\n            if (!day[k]) {\n              day[k] = {};\n            }\n            if (!day[k][v]) {\n              day[k][v] = 0;\n            }\n            day[k][v] += count;\n          }\n        }\n        return day;\n      }),\n    );\n    return days as any;\n  }\n}\n", "import { Analytics } from \"./analytics\";\nimport type { AnalyticsConfig } from \"./analytics\";\nimport { MultiRegionRatelimit } from \"./multi\";\nimport type { MultiRegionRatelimitConfig } from \"./multi\";\nimport { RegionRatelimit as Ratelimit } from \"./single\";\nimport type { RegionRatelimitConfig as RatelimitConfig } from \"./single\";\nimport type { Algorithm } from \"./types\";\n\nexport {\n  Ratelimit,\n  RatelimitConfig,\n  MultiRegionRatelimit,\n  MultiRegionRatelimitConfig,\n  Algorithm,\n  Analytics,\n  AnalyticsConfig,\n};\n", "import { Analytics as CoreAnalytics } from \"@upstash/core-analytics\";\nimport type { Redis } from \"./types\";\n\nexport type Geo = {\n  country?: string;\n  city?: string;\n  region?: string;\n  ip?: string;\n};\nexport type Event = Geo & {\n  identifier: string;\n  time: number;\n  success: boolean;\n};\n\nexport type AnalyticsConfig = {\n  redis: Redis;\n  prefix?: string;\n};\n\n/**\n * The Analytics package is experimental and can change at any time.\n */\nexport class Analytics {\n  private readonly analytics: CoreAnalytics;\n  private readonly table = \"events\";\n\n  constructor(config: AnalyticsConfig) {\n    this.analytics = new CoreAnalytics({\n      // @ts-expect-error we need to fix the types in core-analytics, it should only require the methods it needs, not the whole sdk\n      redis: config.redis,\n      window: \"1h\",\n      prefix: config.prefix ?? \"@upstash/ratelimit\",\n      retention: \"90d\",\n    });\n  }\n\n  /**\n   * Try to extract the geo information from the request\n   *\n   * This handles Vercel's `req.geo` and  and Cloudflare's `request.cf` properties\n   * @param req\n   * @returns\n   */\n  public extractGeo(req: { geo?: Geo; cf?: Geo }): Geo {\n    if (typeof req.geo !== \"undefined\") {\n      return req.geo;\n    }\n    if (typeof req.cf !== \"undefined\") {\n      return req.cf;\n    }\n\n    return {};\n  }\n\n  public async record(event: Event): Promise<void> {\n    await this.analytics.ingest(this.table, event);\n  }\n\n  async series<TFilter extends keyof Omit<Event, \"time\">>(\n    filter: TFilter,\n    cutoff: number,\n  ): Promise<({ time: number } & Record<string, number>)[]> {\n    const records = await this.analytics.query(this.table, {\n      filter: [filter],\n      range: [cutoff, Date.now()],\n    });\n    return records;\n  }\n  public async getUsage(cutoff = 0): Promise<Record<string, { success: number; blocked: number }>> {\n    const records = await this.analytics.aggregateBy(this.table, \"identifier\", {\n      range: [cutoff, Date.now()],\n    });\n    const usage = {} as Record<string, { success: number; blocked: number }>;\n    for (const bucket of records) {\n      for (const [k, v] of Object.entries(bucket)) {\n        if (k === \"time\") {\n          continue;\n        }\n\n        if (!usage[k]) {\n          usage[k] = { success: 0, blocked: 0 };\n        }\n        // @ts-ignore\n        usage[k].success += v[\"true\"] ?? 0;\n        // @ts-ignore\n        usage[k].blocked += v[\"false\"] ?? 0;\n      }\n    }\n    return usage;\n  }\n}\n", "import { EphemeralCache } from \"./types\";\n\nexport class Cache implements EphemeralCache {\n  /**\n   * Stores identifier -> reset (in milliseconds)\n   */\n  private readonly cache: Map<string, number>;\n\n  constructor(cache: Map<string, number>) {\n    this.cache = cache;\n  }\n\n  public isBlocked(identifier: string): { blocked: boolean; reset: number } {\n    if (!this.cache.has(identifier)) {\n      return { blocked: false, reset: 0 };\n    }\n    const reset = this.cache.get(identifier)!;\n    if (reset < Date.now()) {\n      this.cache.delete(identifier);\n      return { blocked: false, reset: 0 };\n    }\n\n    return { blocked: true, reset: reset };\n  }\n\n  public blockUntil(identifier: string, reset: number): void {\n    this.cache.set(identifier, reset);\n  }\n\n  public set(key: string, value: number): void {\n    this.cache.set(key, value);\n  }\n  public get(key: string): number | null {\n    return this.cache.get(key) || null;\n  }\n\n  public incr(key: string): number {\n    let value = this.cache.get(key) ?? 0;\n    value += 1;\n    this.cache.set(key, value);\n    return value;\n  }\n}\n", "type Unit = \"ms\" | \"s\" | \"m\" | \"h\" | \"d\";\nexport type Duration = `${number} ${Unit}` | `${number}${Unit}`;\n\n/**\n * Convert a human readable duration to milliseconds\n */\nexport function ms(d: Duration): number {\n  const match = d.match(/^(\\d+)\\s?(ms|s|m|h|d)$/);\n  if (!match) {\n    throw new Error(`Unable to parse window size: ${d}`);\n  }\n  const time = parseInt(match[1]);\n  const unit = match[2] as Unit;\n\n  switch (unit) {\n    case \"ms\":\n      return time;\n    case \"s\":\n      return time * 1000;\n    case \"m\":\n      return time * 1000 * 60;\n    case \"h\":\n      return time * 1000 * 60 * 60;\n    case \"d\":\n      return time * 1000 * 60 * 60 * 24;\n\n    default:\n      throw new Error(`Unable to parse window size: ${d}`);\n  }\n}\n", "import { Analytics, Geo } from \"./analytics\";\nimport { Cache } from \"./cache\";\nimport type { Algorithm, Context, RatelimitResponse } from \"./types\";\n\nexport class TimeoutError extends Error {\n  constructor() {\n    super(\"Timeout\");\n    this.name = \"TimeoutError\";\n  }\n}\nexport type RatelimitConfig<TContext> = {\n  /**\n   * The ratelimiter function to use.\n   *\n   * Choose one of the predefined ones or implement your own.\n   * Available algorithms are exposed via static methods:\n   * - Ratelimiter.fixedWindow\n   * - Ratelimiter.slidingLogs\n   * - Ratelimiter.slidingWindow\n   * - Ratelimiter.tokenBucket\n   */\n\n  limiter: Algorithm<TContext>;\n\n  ctx: TContext;\n  /**\n   * All keys in redis are prefixed with this.\n   *\n   * @default `@upstash/ratelimit`\n   */\n  prefix?: string;\n\n  /**\n   * If enabled, the ratelimiter will keep a global cache of identifiers, that have\n   * exhausted their ratelimit. In serverless environments this is only possible if\n   * you create the ratelimiter instance outside of your handler function. While the\n   * function is still hot, the ratelimiter can block requests without having to\n   * request data from redis, thus saving time and money.\n   *\n   * Whenever an identifier has exceeded its limit, the ratelimiter will add it to an\n   * internal list together with its reset timestamp. If the same identifier makes a\n   * new request before it is reset, we can immediately reject it.\n   *\n   * Set to `false` to disable.\n   *\n   * If left undefined, a map is created automatically, but it can only work\n   * if the map or the  ratelimit instance is created outside your serverless function handler.\n   */\n  ephemeralCache?: Map<string, number> | false;\n\n  /**\n   * If set, the ratelimiter will allow requests to pass after this many milliseconds.\n   *\n   * Use this if you want to allow requests in case of network problems\n   *\n   * @default 5000\n   */\n  timeout?: number;\n\n  /**\n   * If enabled, the ratelimiter will store analytics data in redis, which you can check out at\n   * https://upstash.com/ratelimit\n   *\n   * @default false\n   */\n  analytics?: boolean;\n};\n\n/**\n * Ratelimiter using serverless redis from https://upstash.com/\n *\n * @example\n * ```ts\n * const { limit } = new Ratelimit({\n *    redis: Redis.fromEnv(),\n *    limiter: Ratelimit.slidingWindow(\n *      10,     // Allow 10 requests per window of 30 minutes\n *      \"30 m\", // interval of 30 minutes\n *    ),\n * })\n *\n * ```\n */\nexport abstract class Ratelimit<TContext extends Context> {\n  protected readonly limiter: Algorithm<TContext>;\n\n  protected readonly ctx: TContext;\n\n  protected readonly prefix: string;\n\n  protected readonly timeout: number;\n  protected readonly analytics?: Analytics;\n  constructor(config: RatelimitConfig<TContext>) {\n    this.ctx = config.ctx;\n    this.limiter = config.limiter;\n    this.timeout = config.timeout ?? 5000;\n    this.prefix = config.prefix ?? \"@upstash/ratelimit\";\n    this.analytics = config.analytics\n      ? new Analytics({\n          redis: Array.isArray(this.ctx.redis) ? this.ctx.redis[0] : this.ctx.redis,\n          prefix: this.prefix,\n        })\n      : undefined;\n\n    if (config.ephemeralCache instanceof Map) {\n      this.ctx.cache = new Cache(config.ephemeralCache);\n    } else if (typeof config.ephemeralCache === \"undefined\") {\n      this.ctx.cache = new Cache(new Map());\n    }\n  }\n\n  /**\n   * Determine if a request should pass or be rejected based on the identifier and previously chosen ratelimit.\n   *\n   * Use this if you want to reject all requests that you can not handle right now.\n   *\n   * @example\n   * ```ts\n   *  const ratelimit = new Ratelimit({\n   *    redis: Redis.fromEnv(),\n   *    limiter: Ratelimit.slidingWindow(10, \"10 s\")\n   *  })\n   *\n   *  const { success } = await ratelimit.limit(id)\n   *  if (!success){\n   *    return \"Nope\"\n   *  }\n   *  return \"Yes\"\n   * ```\n   */\n  public limit = async (identifier: string, req?: { geo?: Geo }): Promise<RatelimitResponse> => {\n    const key = [this.prefix, identifier].join(\":\");\n    let timeoutId: any = null;\n    try {\n      const arr: Promise<RatelimitResponse>[] = [this.limiter(this.ctx, key)];\n      if (this.timeout > 0) {\n        arr.push(\n          new Promise((resolve) => {\n            timeoutId = setTimeout(() => {\n              resolve({\n                success: true,\n                limit: 0,\n                remaining: 0,\n                reset: 0,\n                pending: Promise.resolve(),\n              });\n            }, this.timeout);\n          }),\n        );\n      }\n\n      const res = await Promise.race(arr);\n      if (this.analytics) {\n        try {\n          const geo = req ? this.analytics.extractGeo(req) : undefined;\n          const analyticsP = this.analytics\n            .record({\n              identifier,\n              time: Date.now(),\n              success: res.success,\n              ...geo,\n            })\n            .catch((err) => {\n              console.warn(\"Failed to record analytics\", err);\n            });\n          res.pending = Promise.all([res.pending, analyticsP]);\n        } catch (err) {\n          console.warn(\"Failed to record analytics\", err);\n        }\n      }\n      return res;\n    } finally {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    }\n  };\n\n  /**\n   * Block until the request may pass or timeout is reached.\n   *\n   * This method returns a promise that resolves as soon as the request may be processed\n   * or after the timeoue has been reached.\n   *\n   * Use this if you want to delay the request until it is ready to get processed.\n   *\n   * @example\n   * ```ts\n   *  const ratelimit = new Ratelimit({\n   *    redis: Redis.fromEnv(),\n   *    limiter: Ratelimit.slidingWindow(10, \"10 s\")\n   *  })\n   *\n   *  const { success } = await ratelimit.blockUntilReady(id, 60_000)\n   *  if (!success){\n   *    return \"Nope\"\n   *  }\n   *  return \"Yes\"\n   * ```\n   */\n  public blockUntilReady = async (\n    /**\n     * An identifier per user or api.\n     * Choose a userID, or api token, or ip address.\n     *\n     * If you want to limit your api across all users, you can set a constant string.\n     */\n    identifier: string,\n    /**\n     * Maximum duration to wait in milliseconds.\n     * After this time the request will be denied.\n     */\n    timeout: number,\n  ): Promise<RatelimitResponse> => {\n    if (timeout <= 0) {\n      throw new Error(\"timeout must be positive\");\n    }\n    let res: RatelimitResponse;\n\n    const deadline = Date.now() + timeout;\n    while (true) {\n      res = await this.limit(identifier);\n      if (res.success) {\n        break;\n      }\n      if (res.reset === 0) {\n        throw new Error(\"This should not happen\");\n      }\n\n      const wait = Math.min(res.reset, deadline) - Date.now();\n      await new Promise((r) => setTimeout(r, wait));\n\n      if (Date.now() > deadline) {\n        break;\n      }\n    }\n    return res!;\n  };\n}\n", "import { Cache } from \"./cache\";\nimport type { Duration } from \"./duration\";\nimport { ms } from \"./duration\";\nimport { Ratelimit } from \"./ratelimit\";\nimport type { Algorithm, MultiRegionContext } from \"./types\";\nimport type { Redis } from \"./types\";\n\nfunction randomId(): string {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < 16; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\nexport type MultiRegionRatelimitConfig = {\n  /**\n   * Instances of `@upstash/redis`\n   * @see https://github.com/upstash/upstash-redis#quick-start\n   */\n  redis: Redis[];\n  /**\n   * The ratelimiter function to use.\n   *\n   * Choose one of the predefined ones or implement your own.\n   * Available algorithms are exposed via static methods:\n   * - MultiRegionRatelimit.fixedWindow\n   */\n  limiter: Algorithm<MultiRegionContext>;\n  /**\n   * All keys in redis are prefixed with this.\n   *\n   * @default `@upstash/ratelimit`\n   */\n  prefix?: string;\n\n  /**\n   * If enabled, the ratelimiter will keep a global cache of identifiers, that have\n   * exhausted their ratelimit. In serverless environments this is only possible if\n   * you create the ratelimiter instance outside of your handler function. While the\n   * function is still hot, the ratelimiter can block requests without having to\n   * request data from redis, thus saving time and money.\n   *\n   * Whenever an identifier has exceeded its limit, the ratelimiter will add it to an\n   * internal list together with its reset timestamp. If the same identifier makes a\n   * new request before it is reset, we can immediately reject it.\n   *\n   * Set to `false` to disable.\n   *\n   * If left undefined, a map is created automatically, but it can only work\n   * if the map or th ratelimit instance is created outside your serverless function handler.\n   */\n  ephemeralCache?: Map<string, number> | false;\n\n  /**\n   * If set, the ratelimiter will allow requests to pass after this many milliseconds.\n   *\n   * Use this if you want to allow requests in case of network problems\n   */\n  timeout?: number;\n\n  /**\n   * If enabled, the ratelimiter will store analytics data in redis, which you can check out at\n   * https://console.upstash.com/ratelimit\n   *\n   * @default true\n   */\n  analytics?: boolean;\n};\n\n/**\n * Ratelimiter using serverless redis from https://upstash.com/\n *\n * @example\n * ```ts\n * const { limit } = new MultiRegionRatelimit({\n *    redis: Redis.fromEnv(),\n *    limiter: MultiRegionRatelimit.fixedWindow(\n *      10,     // Allow 10 requests per window of 30 minutes\n *      \"30 m\", // interval of 30 minutes\n *    )\n * })\n *\n * ```\n */\nexport class MultiRegionRatelimit extends Ratelimit<MultiRegionContext> {\n  /**\n   * Create a new Ratelimit instance by providing a `@upstash/redis` instance and the algorithn of your choice.\n   */\n  constructor(config: MultiRegionRatelimitConfig) {\n    super({\n      prefix: config.prefix,\n      limiter: config.limiter,\n      timeout: config.timeout,\n      analytics: config.analytics,\n      ctx: {\n        redis: config.redis,\n        cache: config.ephemeralCache ? new Cache(config.ephemeralCache) : undefined,\n      },\n    });\n  }\n\n  /**\n   * Each requests inside a fixed time increases a counter.\n   * Once the counter reaches a maxmimum allowed number, all further requests are\n   * rejected.\n   *\n   * **Pro:**\n   *\n   * - Newer requests are not starved by old ones.\n   * - Low storage cost.\n   *\n   * **Con:**\n   *\n   * A burst of requests near the boundary of a window can result in a very\n   * high request rate because two windows will be filled with requests quickly.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - A fixed timeframe\n   */\n  static fixedWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<MultiRegionContext> {\n    const windowDuration = ms(window);\n    const script = `\n    local key     = KEYS[1]\n    local id      = ARGV[1]\n    local window  = ARGV[2]\n    \n    redis.call(\"SADD\", key, id)\n    local members = redis.call(\"SMEMBERS\", key)\n    if #members == 1 then\n    -- The first time this key is set, the value will be 1.\n    -- So we only need the expire command once\n      redis.call(\"PEXPIRE\", key, window)\n    end\n    \n    return members\n`;\n\n    return async function (ctx: MultiRegionContext, identifier: string) {\n      if (ctx.cache) {\n        const { blocked, reset } = ctx.cache.isBlocked(identifier);\n        if (blocked) {\n          return {\n            success: false,\n            limit: tokens,\n            remaining: 0,\n            reset: reset,\n            pending: Promise.resolve(),\n          };\n        }\n      }\n\n      const requestID = randomId();\n      const bucket = Math.floor(Date.now() / windowDuration);\n      const key = [identifier, bucket].join(\":\");\n\n      const dbs: { redis: Redis; request: Promise<string[]> }[] = ctx.redis.map((redis) => ({\n        redis,\n        request: redis.eval(script, [key], [requestID, windowDuration]) as Promise<string[]>,\n      }));\n\n      const firstResponse = await Promise.any(dbs.map((s) => s.request));\n\n      const usedTokens = firstResponse.length;\n\n      const remaining = tokens - usedTokens - 1;\n\n      /**\n       * If the length between two databases does not match, we sync the two databases\n       */\n      async function sync() {\n        const individualIDs = await Promise.all(dbs.map((s) => s.request));\n        const allIDs = Array.from(new Set(individualIDs.flatMap((_) => _)).values());\n\n        for (const db of dbs) {\n          const ids = await db.request;\n          /**\n           * If the bucket in this db is already full, it doesn't matter which ids it contains.\n           * So we do not have to sync.\n           */\n          if (ids.length >= tokens) {\n            continue;\n          }\n          const diff = allIDs.filter((id) => !ids.includes(id));\n          /**\n           * Don't waste a request if there is nothing to send\n           */\n          if (diff.length === 0) {\n            continue;\n          }\n\n          await db.redis.sadd(key, ...allIDs);\n        }\n      }\n\n      /**\n       * Do not await sync. This should not run in the critical path.\n       */\n\n      const success = remaining > 0;\n      const reset = (bucket + 1) * windowDuration;\n\n      if (ctx.cache && !success) {\n        ctx.cache.blockUntil(identifier, reset);\n      }\n      return {\n        success,\n        limit: tokens,\n        remaining,\n        reset,\n        pending: sync(),\n      };\n    };\n  }\n\n  /**\n   * Combined approach of `slidingLogs` and `fixedWindow` with lower storage\n   * costs than `slidingLogs` and improved boundary behavior by calcualting a\n   * weighted score between two windows.\n   *\n   * **Pro:**\n   *\n   * Good performance allows this to scale to very high loads.\n   *\n   * **Con:**\n   *\n   * Nothing major.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - The duration in which the user can max X requests.\n   */\n  static slidingWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<MultiRegionContext> {\n    const windowSize = ms(window);\n    const script = `\n      local currentKey  = KEYS[1]           -- identifier including prefixes\n      local previousKey = KEYS[2]           -- key of the previous bucket\n      local tokens      = tonumber(ARGV[1]) -- tokens per window\n      local now         = ARGV[2]           -- current timestamp in milliseconds\n      local window      = ARGV[3]           -- interval in milliseconds\n      local requestID   = ARGV[4]           -- uuid for this request\n\n\n      local currentMembers = redis.call(\"SMEMBERS\", currentKey)\n      local requestsInCurrentWindow = #currentMembers\n      local previousMembers = redis.call(\"SMEMBERS\", previousKey)\n      local requestsInPreviousWindow = #previousMembers\n\n      local percentageInCurrent = ( now % window) / window\n      if requestsInPreviousWindow * ( 1 - percentageInCurrent ) + requestsInCurrentWindow >= tokens then\n        return {currentMembers, previousMembers}\n      end\n\n      redis.call(\"SADD\", currentKey, requestID)\n      table.insert(currentMembers, requestID)\n      if requestsInCurrentWindow == 0 then \n        -- The first time this key is set, the value will be 1.\n        -- So we only need the expire command once\n        redis.call(\"PEXPIRE\", currentKey, window * 2 + 1000) -- Enough time to overlap with a new window + 1 second\n      end\n      return {currentMembers, previousMembers}\n      `;\n    const windowDuration = ms(window);\n\n    return async function (ctx: MultiRegionContext, identifier: string) {\n      if (ctx.cache) {\n        const { blocked, reset } = ctx.cache.isBlocked(identifier);\n        if (blocked) {\n          return {\n            success: false,\n            limit: tokens,\n            remaining: 0,\n            reset: reset,\n            pending: Promise.resolve(),\n          };\n        }\n      }\n\n      const requestID = randomId();\n      const now = Date.now();\n\n      const currentWindow = Math.floor(now / windowSize);\n      const currentKey = [identifier, currentWindow].join(\":\");\n      const previousWindow = currentWindow - windowSize;\n      const previousKey = [identifier, previousWindow].join(\":\");\n\n      const dbs: { redis: Redis; request: Promise<[string[], string[]]> }[] = ctx.redis.map((redis) => ({\n        redis,\n        request: redis.eval(script, [currentKey, previousKey], [tokens, now, windowDuration, requestID]) as Promise<\n          [string[], string[]]\n        >,\n      }));\n\n      const percentageInCurrent = (now % windowDuration) / windowDuration;\n      const [current, previous] = await Promise.any(dbs.map((s) => s.request));\n\n      const usedTokens = previous.length * (1 - percentageInCurrent) + current.length;\n\n      const remaining = tokens - usedTokens;\n\n      /**\n       * If a database differs from the consensus, we sync it\n       */\n      async function sync() {\n        const [individualIDs] = await Promise.all(dbs.map((s) => s.request));\n        const allIDs = Array.from(new Set(individualIDs.flatMap((_) => _)).values());\n\n        for (const db of dbs) {\n          const [ids] = await db.request;\n          /**\n           * If the bucket in this db is already full, it doesn't matter which ids it contains.\n           * So we do not have to sync.\n           */\n          if (ids.length >= tokens) {\n            continue;\n          }\n          const diff = allIDs.filter((id) => !ids.includes(id));\n          /**\n           * Don't waste a request if there is nothing to send\n           */\n          if (diff.length === 0) {\n            continue;\n          }\n\n          await db.redis.sadd(currentKey, ...allIDs);\n        }\n      }\n\n      const success = remaining > 0;\n      const reset = (currentWindow + 1) * windowDuration;\n      if (ctx.cache && !success) {\n        ctx.cache.blockUntil(identifier, reset);\n      }\n      return {\n        success,\n        limit: tokens,\n        remaining,\n        reset,\n        pending: sync(),\n      };\n    };\n  }\n}\n", "import type { Duration } from \"./duration\";\nimport { ms } from \"./duration\";\nimport type { Algorithm, RegionContext } from \"./types\";\nimport type { Redis } from \"./types\";\n\nimport { Ratelimit } from \"./ratelimit\";\nexport type RegionRatelimitConfig = {\n  /**\n   * Instance of `@upstash/redis`\n   * @see https://github.com/upstash/upstash-redis#quick-start\n   */\n  redis: Redis;\n  /**\n   * The ratelimiter function to use.\n   *\n   * Choose one of the predefined ones or implement your own.\n   * Available algorithms are exposed via static methods:\n   * - Ratelimiter.fixedWindow\n   * - Ratelimiter.slidingLogs\n   * - Ratelimiter.slidingWindow\n   * - Ratelimiter.tokenBucket\n   */\n  limiter: Algorithm<RegionContext>;\n  /**\n   * All keys in redis are prefixed with this.\n   *\n   * @default `@upstash/ratelimit`\n   */\n  prefix?: string;\n\n  /**\n   * If enabled, the ratelimiter will keep a global cache of identifiers, that have\n   * exhausted their ratelimit. In serverless environments this is only possible if\n   * you create the ratelimiter instance outside of your handler function. While the\n   * function is still hot, the ratelimiter can block requests without having to\n   * request data from redis, thus saving time and money.\n   *\n   * Whenever an identifier has exceeded its limit, the ratelimiter will add it to an\n   * internal list together with its reset timestamp. If the same identifier makes a\n   * new request before it is reset, we can immediately reject it.\n   *\n   * Set to `false` to disable.\n   *\n   * If left undefined, a map is created automatically, but it can only work\n   * if the map or the ratelimit instance is created outside your serverless function handler.\n   */\n  ephemeralCache?: Map<string, number> | false;\n\n  /**\n   * If set, the ratelimiter will allow requests to pass after this many milliseconds.\n   *\n   * Use this if you want to allow requests in case of network problems\n   */\n  timeout?: number;\n\n  /**\n   * If enabled, the ratelimiter will store analytics data in redis, which you can check out at\n   * https://upstash.com/ratelimit\n   *\n   * @default true\n   */\n  analytics?: boolean;\n};\n\n/**\n * Ratelimiter using serverless redis from https://upstash.com/\n *\n * @example\n * ```ts\n * const { limit } = new Ratelimit({\n *    redis: Redis.fromEnv(),\n *    limiter: Ratelimit.slidingWindow(\n *      \"30 m\", // interval of 30 minutes\n *      10,     // Allow 10 requests per window of 30 minutes\n *    )\n * })\n *\n * ```\n */\nexport class RegionRatelimit extends Ratelimit<RegionContext> {\n  /**\n   * Create a new Ratelimit instance by providing a `@upstash/redis` instance and the algorithn of your choice.\n   */\n\n  constructor(config: RegionRatelimitConfig) {\n    super({\n      prefix: config.prefix,\n      limiter: config.limiter,\n      timeout: config.timeout,\n      analytics: config.analytics,\n      ctx: {\n        redis: config.redis,\n      },\n      ephemeralCache: config.ephemeralCache,\n    });\n  }\n\n  /**\n   * Each requests inside a fixed time increases a counter.\n   * Once the counter reaches a maxmimum allowed number, all further requests are\n   * rejected.\n   *\n   * **Pro:**\n   *\n   * - Newer requests are not starved by old ones.\n   * - Low storage cost.\n   *\n   * **Con:**\n   *\n   * A burst of requests near the boundary of a window can result in a very\n   * high request rate because two windows will be filled with requests quickly.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - A fixed timeframe\n   */\n  static fixedWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<RegionContext> {\n    const windowDuration = ms(window);\n\n    const script = `\n    local key     = KEYS[1]\n    local window  = ARGV[1]\n    \n    local r = redis.call(\"INCR\", key)\n    if r == 1 then \n    -- The first time this key is set, the value will be 1.\n    -- So we only need the expire command once\n    redis.call(\"PEXPIRE\", key, window)\n    end\n    \n    return r\n    `;\n\n    return async function (ctx: RegionContext, identifier: string) {\n      const bucket = Math.floor(Date.now() / windowDuration);\n      const key = [identifier, bucket].join(\":\");\n\n      if (ctx.cache) {\n        const { blocked, reset } = ctx.cache.isBlocked(identifier);\n        if (blocked) {\n          return {\n            success: false,\n            limit: tokens,\n            remaining: 0,\n            reset: reset,\n            pending: Promise.resolve(),\n          };\n        }\n      }\n      const usedTokensAfterUpdate = (await ctx.redis.eval(script, [key], [windowDuration])) as number;\n\n      const success = usedTokensAfterUpdate <= tokens;\n      const reset = (bucket + 1) * windowDuration;\n      if (ctx.cache && !success) {\n        ctx.cache.blockUntil(identifier, reset);\n      }\n\n      return {\n        success,\n        limit: tokens,\n        remaining: tokens - usedTokensAfterUpdate,\n        reset,\n        pending: Promise.resolve(),\n      };\n    };\n  }\n\n  /**\n   * Combined approach of `slidingLogs` and `fixedWindow` with lower storage\n   * costs than `slidingLogs` and improved boundary behavior by calcualting a\n   * weighted score between two windows.\n   *\n   * **Pro:**\n   *\n   * Good performance allows this to scale to very high loads.\n   *\n   * **Con:**\n   *\n   * Nothing major.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - The duration in which the user can max X requests.\n   */\n  static slidingWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<RegionContext> {\n    const script = `\n      local currentKey  = KEYS[1]           -- identifier including prefixes\n      local previousKey = KEYS[2]           -- key of the previous bucket\n      local tokens      = tonumber(ARGV[1]) -- tokens per window\n      local now         = ARGV[2]           -- current timestamp in milliseconds\n      local window      = ARGV[3]           -- interval in milliseconds\n\n      local requestsInCurrentWindow = redis.call(\"GET\", currentKey)\n      if requestsInCurrentWindow == false then\n        requestsInCurrentWindow = -1\n      end\n\n\n      local requestsInPreviousWindow = redis.call(\"GET\", previousKey)\n      if requestsInPreviousWindow == false then\n        requestsInPreviousWindow = 0\n      end\n      local percentageInCurrent = ( now % window) / window\n      if requestsInPreviousWindow * ( 1 - percentageInCurrent ) + requestsInCurrentWindow >= tokens then\n        return -1\n      end\n\n      local newValue = redis.call(\"INCR\", currentKey)\n      if newValue == 1 then \n        -- The first time this key is set, the value will be 1.\n        -- So we only need the expire command once\n        redis.call(\"PEXPIRE\", currentKey, window * 2 + 1000) -- Enough time to overlap with a new window + 1 second\n      end\n      return tokens - newValue\n      `;\n    const windowSize = ms(window);\n    return async function (ctx: RegionContext, identifier: string) {\n      const now = Date.now();\n\n      const currentWindow = Math.floor(now / windowSize);\n      const currentKey = [identifier, currentWindow].join(\":\");\n      const previousWindow = currentWindow - windowSize;\n      const previousKey = [identifier, previousWindow].join(\":\");\n\n      if (ctx.cache) {\n        const { blocked, reset } = ctx.cache.isBlocked(identifier);\n        if (blocked) {\n          return {\n            success: false,\n            limit: tokens,\n            remaining: 0,\n            reset: reset,\n            pending: Promise.resolve(),\n          };\n        }\n      }\n\n      const remaining = (await ctx.redis.eval(script, [currentKey, previousKey], [tokens, now, windowSize])) as number;\n\n      const success = remaining >= 0;\n      const reset = (currentWindow + 1) * windowSize;\n      if (ctx.cache && !success) {\n        ctx.cache.blockUntil(identifier, reset);\n      }\n      return {\n        success,\n        limit: tokens,\n        remaining: Math.max(0, remaining),\n        reset,\n        pending: Promise.resolve(),\n      };\n    };\n  }\n\n  /**\n   * You have a bucket filled with `{maxTokens}` tokens that refills constantly\n   * at `{refillRate}` per `{interval}`.\n   * Every request will remove one token from the bucket and if there is no\n   * token to take, the request is rejected.\n   *\n   * **Pro:**\n   *\n   * - Bursts of requests are smoothed out and you can process them at a constant\n   * rate.\n   * - Allows to set a higher initial burst limit by setting `maxTokens` higher\n   * than `refillRate`\n   */\n  static tokenBucket(\n    /**\n     * How many tokens are refilled per `interval`\n     *\n     * An interval of `10s` and refillRate of 5 will cause a new token to be added every 2 seconds.\n     */\n    refillRate: number,\n    /**\n     * The interval for the `refillRate`\n     */\n    interval: Duration,\n    /**\n     * Maximum number of tokens.\n     * A newly created bucket starts with this many tokens.\n     * Useful to allow higher burst limits.\n     */\n    maxTokens: number,\n  ): Algorithm<RegionContext> {\n    const script = `\n        local key         = KEYS[1]           -- identifier including prefixes\n        local maxTokens   = tonumber(ARGV[1]) -- maximum number of tokens\n        local interval    = tonumber(ARGV[2]) -- size of the window in milliseconds\n        local refillRate  = tonumber(ARGV[3]) -- how many tokens are refilled after each interval\n        local now         = tonumber(ARGV[4]) -- current timestamp in milliseconds\n        local remaining   = 0\n        \n        local bucket = redis.call(\"HMGET\", key, \"updatedAt\", \"tokens\")\n        \n        if bucket[1] == false then\n          -- The bucket does not exist yet, so we create it and add a ttl.\n          remaining = maxTokens - 1\n          \n          redis.call(\"HMSET\", key, \"updatedAt\", now, \"tokens\", remaining)\n          redis.call(\"PEXPIRE\", key, interval)\n  \n          return {remaining, now + interval}\n        end\n\n        -- The bucket does exist\n  \n        local updatedAt = tonumber(bucket[1])\n        local tokens = tonumber(bucket[2])\n  \n        if now >= updatedAt + interval then\n          remaining = math.min(maxTokens, tokens + refillRate) - 1\n          \n          redis.call(\"HMSET\", key, \"updatedAt\", now, \"tokens\", remaining)\n          return {remaining, now + interval}\n        end\n  \n        if tokens > 0 then\n          remaining = tokens - 1\n          redis.call(\"HMSET\", key, \"updatedAt\", now, \"tokens\", remaining)\n        end\n  \n        return {remaining, updatedAt + interval}\n       `;\n\n    const intervalDuration = ms(interval);\n    return async function (ctx: RegionContext, identifier: string) {\n      if (ctx.cache) {\n        const { blocked, reset } = ctx.cache.isBlocked(identifier);\n        if (blocked) {\n          return {\n            success: false,\n            limit: maxTokens,\n            remaining: 0,\n            reset: reset,\n            pending: Promise.resolve(),\n          };\n        }\n      }\n\n      const now = Date.now();\n      const key = [identifier, Math.floor(now / intervalDuration)].join(\":\");\n\n      const [remaining, reset] = (await ctx.redis.eval(\n        script,\n        [key],\n        [maxTokens, intervalDuration, refillRate, now],\n      )) as [number, number];\n\n      const success = remaining > 0;\n      if (ctx.cache && !success) {\n        ctx.cache.blockUntil(identifier, reset);\n      }\n\n      return {\n        success,\n        limit: maxTokens,\n        remaining,\n        reset,\n        pending: Promise.resolve(),\n      };\n    };\n  }\n\n  /**\n   * cachedFixedWindow first uses the local cache to decide if a request may pass and then updates\n   * it asynchronously.\n   * This is experimental and not yet recommended for production use.\n   *\n   * @experimental\n   *\n   * Each requests inside a fixed time increases a counter.\n   * Once the counter reaches a maxmimum allowed number, all further requests are\n   * rejected.\n   *\n   * **Pro:**\n   *\n   * - Newer requests are not starved by old ones.\n   * - Low storage cost.\n   *\n   * **Con:**\n   *\n   * A burst of requests near the boundary of a window can result in a very\n   * high request rate because two windows will be filled with requests quickly.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - A fixed timeframe\n   */\n  static cachedFixedWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<RegionContext> {\n    const windowDuration = ms(window);\n\n    const script = `\n      local key     = KEYS[1]\n      local window  = ARGV[1]\n      \n      local r = redis.call(\"INCR\", key)\n      if r == 1 then \n      -- The first time this key is set, the value will be 1.\n      -- So we only need the expire command once\n      redis.call(\"PEXPIRE\", key, window)\n      end\n      \n      return r\n      `;\n\n    return async function (ctx: RegionContext, identifier: string) {\n      if (!ctx.cache) {\n        throw new Error(\"This algorithm requires a cache\");\n      }\n      const bucket = Math.floor(Date.now() / windowDuration);\n      const key = [identifier, bucket].join(\":\");\n      const reset = (bucket + 1) * windowDuration;\n\n      const hit = typeof ctx.cache.get(key) === \"number\";\n      if (hit) {\n        const cachedTokensAfterUpdate = ctx.cache.incr(key);\n        const success = cachedTokensAfterUpdate < tokens;\n\n        const pending = success\n          ? ctx.redis.eval(script, [key], [windowDuration]).then((t) => {\n              ctx.cache!.set(key, t as number);\n            })\n          : Promise.resolve();\n\n        return {\n          success,\n          limit: tokens,\n          remaining: tokens - cachedTokensAfterUpdate,\n          reset: reset,\n          pending,\n        };\n      }\n\n      const usedTokensAfterUpdate = (await ctx.redis.eval(script, [key], [windowDuration])) as number;\n      ctx.cache.set(key, usedTokensAfterUpdate);\n      const remaining = tokens - usedTokensAfterUpdate;\n\n      return {\n        success: remaining >= 0,\n        limit: tokens,\n        remaining,\n        reset: reset,\n        pending: Promise.resolve(),\n      };\n    };\n  }\n}\n", "class HttpError {\n  /**\n   * @param {number} status\n   * @param {{message: string} extends App.Error ? (App.Error | string | undefined) : App.Error} body\n   */\n  constructor(status, body) {\n    this.status = status;\n    if (typeof body === \"string\") {\n      this.body = { message: body };\n    } else if (body) {\n      this.body = body;\n    } else {\n      this.body = { message: `Error: ${status}` };\n    }\n  }\n  toString() {\n    return JSON.stringify(this.body);\n  }\n}\nclass Redirect {\n  /**\n   * @param {300 | 301 | 302 | 303 | 304 | 305 | 306 | 307 | 308} status\n   * @param {string} location\n   */\n  constructor(status, location) {\n    this.status = status;\n    this.location = location;\n  }\n}\nclass ActionFailure {\n  /**\n   * @param {number} status\n   * @param {T} [data]\n   */\n  constructor(status, data) {\n    this.status = status;\n    this.data = data;\n  }\n}\nfunction error(status, body) {\n  if (isNaN(status) || status < 400 || status > 599) {\n    throw new Error(`HTTP error status codes must be between 400 and 599 \u2014 ${status} is invalid`);\n  }\n  return new HttpError(status, body);\n}\nfunction redirect(status, location) {\n  if (isNaN(status) || status < 300 || status > 308) {\n    throw new Error(\"Invalid status code\");\n  }\n  return new Redirect(status, location);\n}\nfunction json(data, init) {\n  const body = JSON.stringify(data);\n  const headers = new Headers(init?.headers);\n  if (!headers.has(\"content-length\")) {\n    headers.set(\"content-length\", encoder.encode(body).byteLength.toString());\n  }\n  if (!headers.has(\"content-type\")) {\n    headers.set(\"content-type\", \"application/json\");\n  }\n  return new Response(body, {\n    ...init,\n    headers\n  });\n}\nconst encoder = new TextEncoder();\nfunction text(body, init) {\n  const headers = new Headers(init?.headers);\n  if (!headers.has(\"content-length\")) {\n    const encoded = encoder.encode(body);\n    headers.set(\"content-length\", encoded.byteLength.toString());\n    return new Response(encoded, {\n      ...init,\n      headers\n    });\n  }\n  return new Response(body, {\n    ...init,\n    headers\n  });\n}\nexport {\n  ActionFailure as A,\n  HttpError as H,\n  Redirect as R,\n  error as e,\n  json as j,\n  redirect as r,\n  text as t\n};\n", "/**\n * Add Google login to your page.\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/google\n * ```\n *\n * #### Configuration\n *```js\n * import Auth from \"@auth/core\"\n * import Google from \"@auth/core/providers/google\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [Google({ clientId: GOOGLE_CLIENT_ID, clientSecret: GOOGLE_CLIENT_SECRET })],\n * })\n * ```\n *\n * ### Resources\n *\n *  - [Google OAuth documentation](https://developers.google.com/identity/protocols/oauth2)\n *  - [Google OAuth Configuration](https://console.developers.google.com/apis/credentials)\n *\n * ### Notes\n *\n * By default, Auth.js assumes that the Google provider is\n * based on the [Open ID Connect](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *\n *\n * The \"Authorized redirect URIs\" used when creating the credentials must include your full domain and end in the callback path. For example;\n *\n * - For production: `https://{YOUR_DOMAIN}/api/auth/callback/google`\n * - For development: `http://localhost:3000/api/auth/callback/google`\n *\n * :::warning\n * Google only provides Refresh Token to an application the first time a user signs in.\n *\n * To force Google to re-issue a Refresh Token, the user needs to remove the application from their account and sign in again:\n * https://myaccount.google.com/permissions\n *\n * Alternatively, you can also pass options in the `params` object of `authorization` which will force the Refresh Token to always be provided on sign in, however this will ask all users to confirm if they wish to grant your application access every time they sign in.\n *\n * If you need access to the RefreshToken or AccessToken for a Google account and you are not using a database to persist user accounts, this may be something you need to do.\n *\n * ```js title=\"pages/api/auth/[...nextauth].js\"\n * const options = {\n *   providers: [\n *     GoogleProvider({\n *       clientId: process.env.GOOGLE_ID,\n *       clientSecret: process.env.GOOGLE_SECRET,\n *       authorization: {\n *         params: {\n *           prompt: \"consent\",\n *           access_type: \"offline\",\n *           response_type: \"code\"\n *         }\n *       }\n *     })\n *   ],\n * }\n * ```\n *\n * :::\n *\n * :::tip\n * Google also returns a `email_verified` boolean property in the OAuth profile.\n *\n * You can use this property to restrict access to people with verified accounts at a particular domain.\n *\n * ```js\n * const options = {\n *   ...\n *   callbacks: {\n *     async signIn({ account, profile }) {\n *       if (account.provider === \"google\") {\n *         return profile.email_verified && profile.email.endsWith(\"@example.com\")\n *       }\n *       return true // Do different verification for other providers that don't have `email_verified`\n *     },\n *   }\n *   ...\n * }\n * ```\n *\n * :::\n * :::tip\n *\n * The Google provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/google.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/providers/custom-provider#override-default-options).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */\nexport default function Google(options) {\n    return {\n        id: \"google\",\n        name: \"Google\",\n        type: \"oidc\",\n        issuer: \"https://accounts.google.com\",\n        style: {\n            logo: \"/google.svg\",\n            logoDark: \"/google.svg\",\n            bgDark: \"#fff\",\n            bg: \"#fff\",\n            text: \"#000\",\n            textDark: \"#000\",\n        },\n        options,\n    };\n}\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SessionStore_instances, _SessionStore_chunks, _SessionStore_option, _SessionStore_logger, _SessionStore_chunk, _SessionStore_clean;\n// Uncomment to recalculate the estimated size\n// of an empty session cookie\n// import { serialize } from \"cookie\"\n// console.log(\n//   \"Cookie estimated to be \",\n//   serialize(`__Secure.next-auth.session-token.0`, \"\", {\n//     expires: new Date(),\n//     httpOnly: true,\n//     maxAge: Number.MAX_SAFE_INTEGER,\n//     path: \"/\",\n//     sameSite: \"strict\",\n//     secure: true,\n//     domain: \"example.com\",\n//   }).length,\n//   \" bytes\"\n// )\nconst ALLOWED_COOKIE_SIZE = 4096;\n// Based on commented out section above\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 163;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\n/**\n * Use secure cookies if the site uses HTTPS\n * This being conditional allows cookies to work non-HTTPS development URLs\n * Honour secure cookie option, which sets 'secure' and also adds '__Secure-'\n * prefix, but enable them by default if the site URL is HTTPS; but not for\n * non-HTTPS URLs like http://localhost which are used in development).\n * For more on prefixes see https://googlechrome.github.io/samples/cookie-prefixes/\n *\n * @TODO Review cookie settings (names, options)\n */\nexport function defaultCookies(useSecureCookies) {\n    const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n    return {\n        // default cookie options\n        sessionToken: {\n            name: `${cookiePrefix}next-auth.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        callbackUrl: {\n            name: `${cookiePrefix}next-auth.callback-url`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        csrfToken: {\n            // Default to __Host- for CSRF token for additional protection if using useSecureCookies\n            // NB: The `__Host-` prefix is stricter than the `__Secure-` prefix.\n            name: `${useSecureCookies ? \"__Host-\" : \"\"}next-auth.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        pkceCodeVerifier: {\n            name: `${cookiePrefix}next-auth.pkce.code_verifier`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n        state: {\n            name: `${cookiePrefix}next-auth.state`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n        nonce: {\n            name: `${cookiePrefix}next-auth.nonce`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n    };\n}\nexport class SessionStore {\n    constructor(option, req, logger) {\n        _SessionStore_instances.add(this);\n        _SessionStore_chunks.set(this, {});\n        _SessionStore_option.set(this, void 0);\n        _SessionStore_logger.set(this, void 0);\n        __classPrivateFieldSet(this, _SessionStore_logger, logger, \"f\");\n        __classPrivateFieldSet(this, _SessionStore_option, option, \"f\");\n        const { cookies } = req;\n        const { name: cookieName } = option;\n        if (typeof cookies?.getAll === \"function\") {\n            // Next.js ^v13.0.1 (Edge Env)\n            for (const { name, value } of cookies.getAll()) {\n                if (name.startsWith(cookieName)) {\n                    __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n                }\n            }\n        }\n        else if (cookies instanceof Map) {\n            for (const name of cookies.keys()) {\n                if (name.startsWith(cookieName))\n                    __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = cookies.get(name);\n            }\n        }\n        else {\n            for (const name in cookies) {\n                if (name.startsWith(cookieName))\n                    __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = cookies[name];\n            }\n        }\n    }\n    /**\n     * The JWT Session or database Session ID\n     * constructed from the cookie chunks.\n     */\n    get value() {\n        // Sort the chunks by their keys before joining\n        const sortedKeys = Object.keys(__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")).sort((a, b) => {\n            const aSuffix = parseInt(a.split(\".\")[1] || \"0\");\n            const bSuffix = parseInt(b.split(\".\")[1] || \"0\");\n            return aSuffix - bSuffix;\n        });\n        // Use the sorted keys to join the chunks in the correct order\n        return sortedKeys.map(key => __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[key]).join(\"\");\n    }\n    /**\n     * Given a cookie value, return new cookies, chunked, to fit the allowed cookie size.\n     * If the cookie has changed from chunked to unchunked or vice versa,\n     * it deletes the old cookies as well.\n     */\n    chunk(value, options) {\n        // Assume all cookies should be cleaned by default\n        const cookies = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this);\n        // Calculate new chunks\n        const chunked = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_chunk).call(this, {\n            name: __classPrivateFieldGet(this, _SessionStore_option, \"f\").name,\n            value,\n            options: { ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options, ...options },\n        });\n        // Update stored chunks / cookies\n        for (const chunk of chunked) {\n            cookies[chunk.name] = chunk;\n        }\n        return Object.values(cookies);\n    }\n    /** Returns a list of cookies that should be cleaned. */\n    clean() {\n        return Object.values(__classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this));\n    }\n}\n_SessionStore_chunks = new WeakMap(), _SessionStore_option = new WeakMap(), _SessionStore_logger = new WeakMap(), _SessionStore_instances = new WeakSet(), _SessionStore_chunk = function _SessionStore_chunk(cookie) {\n    const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n    if (chunkCount === 1) {\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[cookie.name] = cookie.value;\n        return [cookie];\n    }\n    const cookies = [];\n    for (let i = 0; i < chunkCount; i++) {\n        const name = `${cookie.name}.${i}`;\n        const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n        cookies.push({ ...cookie, name, value });\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n    }\n    __classPrivateFieldGet(this, _SessionStore_logger, \"f\").debug(\"CHUNKING_SESSION_COOKIE\", {\n        message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n        emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n        valueSize: cookie.value.length,\n        chunks: cookies.map((c) => c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE),\n    });\n    return cookies;\n}, _SessionStore_clean = function _SessionStore_clean() {\n    const cleanedChunks = {};\n    for (const name in __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")) {\n        delete __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")?.[name];\n        cleanedChunks[name] = {\n            name,\n            value: \"\",\n            options: { ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options, maxAge: 0 },\n        };\n    }\n    return cleanedChunks;\n};\n", "export class AuthError extends Error {\n    constructor(message, cause) {\n        if (message instanceof Error) {\n            super(undefined, {\n                cause: { err: message, ...message.cause, ...cause },\n            });\n        }\n        else if (typeof message === \"string\") {\n            if (cause instanceof Error) {\n                cause = { err: cause, ...cause.cause };\n            }\n            super(message, cause);\n        }\n        else {\n            super(undefined, message);\n        }\n        Error.captureStackTrace?.(this, this.constructor);\n        this.name =\n            message instanceof AuthError ? message.name : this.constructor.name;\n    }\n}\n/**\n * @todo\n * One of the database `Adapter` methods failed.\n */\nexport class AdapterError extends AuthError {\n}\n/** @todo */\nexport class AuthorizedCallbackError extends AuthError {\n}\n/**\n * This error occurs when the user cannot finish the sign-in process.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the error message to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/reference/core/providers_oauth), possible causes are:\n * - The user denied access to the application\n * - There was an error parsing the OAuth Profile:\n *   Check out the provider's `profile` or `userinfo.request` method to make sure\n *   it correctly fetches the user's profile.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * For an [Email provider](https://authjs.dev/reference/core/providers_email), possible causes are:\n * - The provided email/token combination was invalid/missing:\n *   Check if the provider's `sendVerificationRequest` method correctly sends the email.\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n * For a [Credentials provider](https://authjs.dev/reference/core/providers_credentials), possible causes are:\n * - The `authorize` method threw an uncaught error:\n *   Check the provider's `authorize` method.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * :::tip\n * Check out `[auth][cause]` in the error message for more details.\n * It will show the original stack trace.\n * :::\n */\nexport class CallbackRouteError extends AuthError {\n}\n/** @todo */\nexport class ErrorPageLoop extends AuthError {\n}\n/** @todo */\nexport class EventError extends AuthError {\n}\n/** @todo */\nexport class InvalidCallbackUrl extends AuthError {\n}\n/** @todo */\nexport class InvalidEndpoints extends AuthError {\n}\n/** @todo */\nexport class InvalidCheck extends AuthError {\n}\n/** @todo */\nexport class JWTSessionError extends AuthError {\n}\n/** @todo */\nexport class MissingAdapter extends AuthError {\n}\n/** @todo */\nexport class MissingAdapterMethods extends AuthError {\n}\n/** @todo */\nexport class MissingAPIRoute extends AuthError {\n}\n/** @todo */\nexport class MissingAuthorize extends AuthError {\n}\n/**\n * Auth.js requires a secret to be set, but none was not found. This is used to encrypt cookies, JWTs and other sensitive data.\n *\n * :::note\n * If you are using a framework like Next.js, we try to automatically infer the secret from the `AUTH_SECRET` environment variable.\n * Alternatively, you can also explicitly set the [`AuthConfig.secret`](https://authjs.dev/reference/core#secret).\n * :::\n *\n *\n * :::tip\n * You can generate a good secret value:\n *  - On Unix systems: type `openssl rand -hex 32` in the terminal\n *  - Or generate one [online](https://generate-secret.vercel.app/32)\n *\n * :::\n */\nexport class MissingSecret extends AuthError {\n}\n/**\n * @todo\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n */\nexport class OAuthAccountNotLinked extends AuthError {\n}\n/**\n * Thrown when an OAuth provider returns an error during the sign in process.\n * This could happen for example if the user denied access to the application or there was a configuration error.\n *\n * For a full list of possible reasons, check out the specification [Authorization Code Grant: Error Response](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1)\n */\nexport class OAuthCallbackError extends AuthError {\n}\n/** @todo */\nexport class OAuthCreateUserError extends AuthError {\n}\n/**\n * This error occurs during an OAuth sign in attempt when the provdier's\n * response could not be parsed. This could for example happen if the provider's API\n * changed, or the [`OAuth2Config.profile`](https://authjs.dev/reference/core/providers_oauth#profile) method is not implemented correctly.\n */\nexport class OAuthProfileParseError extends AuthError {\n}\n/** @todo */\nexport class SessionTokenError extends AuthError {\n}\n/**\n * This error occurs when the user cannot initiate the sign-in process.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the error message to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/reference/core/providers_oauth), possible causes are:\n * - The Authorization Server is not compliant with the [OAuth 2.0 specifcation](https://www.ietf.org/rfc/rfc6749.html)\n *   Check the details in the error message.\n * - A runtime error occurred in Auth.js. This should be reported as a bug.\n *\n * For an [Email provider](https://authjs.dev/reference/core/providers_email), possible causes are:\n * - The email sent from the client is invalid, could not be normalized by [`EmailConfig.normalizeIdentifier`](https://authjs.dev/reference/core/providers_email#normalizeidentifier)\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n */\nexport class SignInError extends AuthError {\n}\n/** @todo */\nexport class SignOutError extends AuthError {\n}\n/**\n * Auth.js was requested to handle an operation that it does not support.\n *\n * See [`AuthAction`](https://authjs.dev/reference/core/types#authaction) for the supported actions.\n */\nexport class UnknownAction extends AuthError {\n}\n/** @todo */\nexport class UnsupportedStrategy extends AuthError {\n}\n/** @todo */\nexport class UntrustedHost extends AuthError {\n}\n/**\n * The user's email/token combination was invalid.\n * This could be because the email/token combination was not found in the database,\n * or because it token has expired. Ask the user to log in again.\n */\nexport class Verification extends AuthError {\n}\n", "import { defaultCookies } from \"./cookie.js\";\nimport { InvalidCallbackUrl, InvalidEndpoints, MissingAdapter, MissingAdapterMethods, MissingAuthorize, MissingSecret, UnsupportedStrategy, UntrustedHost, } from \"../errors.js\";\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n    try {\n        return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n    }\n    catch {\n        return false;\n    }\n}\nlet hasCredentials = false;\nlet hasEmail = false;\nconst emailMethods = [\n    \"createVerificationToken\",\n    \"useVerificationToken\",\n    \"getUserByEmail\",\n];\nconst sessionMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"getUserByEmail\",\n    \"getUserByAccount\",\n    \"updateUser\",\n    \"linkAccount\",\n    \"createSession\",\n    \"getSessionAndUser\",\n    \"updateSession\",\n    \"deleteSession\",\n];\n/**\n * Verify that the user configured Auth.js correctly.\n * Good place to mention deprecations as well.\n *\n * This is invoked before the init method, so default values are not available yet.\n */\nexport function assertConfig(request, options) {\n    const { url } = request;\n    const warnings = [];\n    if (!warned && options.debug)\n        warnings.push(\"debug-enabled\");\n    if (!options.trustHost) {\n        return new UntrustedHost(`Host must be trusted. URL was: ${request.url}`);\n    }\n    if (!options.secret) {\n        return new MissingSecret(\"Please define a `secret`.\");\n    }\n    const callbackUrlParam = request.query?.callbackUrl;\n    if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.origin)) {\n        return new InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n    }\n    const { callbackUrl: defaultCallbackUrl } = defaultCookies(options.useSecureCookies ?? url.protocol === \"https:\");\n    const callbackUrlCookie = request.cookies?.[options.cookies?.callbackUrl?.name ?? defaultCallbackUrl.name];\n    if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.origin)) {\n        return new InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n    }\n    for (const p of options.providers) {\n        const provider = typeof p === \"function\" ? p() : p;\n        if ((provider.type === \"oauth\" || provider.type === \"oidc\") &&\n            !(provider.issuer ?? provider.options?.issuer)) {\n            const { authorization: a, token: t, userinfo: u } = provider;\n            let key;\n            if (typeof a !== \"string\" && !a?.url)\n                key = \"authorization\";\n            else if (typeof t !== \"string\" && !t?.url)\n                key = \"token\";\n            else if (typeof u !== \"string\" && !u?.url)\n                key = \"userinfo\";\n            if (key) {\n                return new InvalidEndpoints(`Provider \"${provider.id}\" is missing both \\`issuer\\` and \\`${key}\\` endpoint config. At least one of them is required.`);\n            }\n        }\n        if (provider.type === \"credentials\")\n            hasCredentials = true;\n        else if (provider.type === \"email\")\n            hasEmail = true;\n    }\n    if (hasCredentials) {\n        const dbStrategy = options.session?.strategy === \"database\";\n        const onlyCredentials = !options.providers.some((p) => (typeof p === \"function\" ? p() : p).type !== \"credentials\");\n        if (dbStrategy && onlyCredentials) {\n            return new UnsupportedStrategy(\"Signin in with credentials only supported if JWT strategy is enabled\");\n        }\n        const credentialsNoAuthorize = options.providers.some((p) => {\n            const provider = typeof p === \"function\" ? p() : p;\n            return provider.type === \"credentials\" && !provider.authorize;\n        });\n        if (credentialsNoAuthorize) {\n            return new MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n        }\n    }\n    const { adapter, session } = options;\n    if (hasEmail ||\n        session?.strategy === \"database\" ||\n        (!session?.strategy && adapter)) {\n        let methods;\n        if (hasEmail) {\n            if (!adapter)\n                return new MissingAdapter(\"Email login requires an adapter.\");\n            methods = emailMethods;\n        }\n        else {\n            if (!adapter)\n                return new MissingAdapter(\"Database session requires an adapter.\");\n            methods = sessionMethods;\n        }\n        const missing = methods.filter((m) => !adapter[m]);\n        if (missing.length) {\n            return new MissingAdapterMethods(`Required adapter methods were missing: ${missing.join(\", \")}`);\n        }\n    }\n    if (!warned)\n        warned = true;\n    return warnings;\n}\n", "const getGlobal = () => {\n    if (typeof globalThis !== 'undefined')\n        return globalThis;\n    if (typeof self !== 'undefined')\n        return self;\n    if (typeof window !== 'undefined')\n        return window;\n    throw new Error('unable to locate global object');\n};\nexport default async (digest, ikm, salt, info, keylen) => {\n    const { crypto: { subtle }, } = getGlobal();\n    return new Uint8Array(await subtle.deriveBits({\n        name: 'HKDF',\n        hash: `SHA-${digest.substr(3)}`,\n        salt,\n        info,\n    }, await subtle.importKey('raw', ikm, 'HKDF', false, ['deriveBits']), keylen << 3));\n};\n", "import derive from './runtime/hkdf.js';\nfunction normalizeDigest(digest) {\n    switch (digest) {\n        case 'sha256':\n        case 'sha384':\n        case 'sha512':\n        case 'sha1':\n            return digest;\n        default:\n            throw new TypeError('unsupported \"digest\" value');\n    }\n}\nfunction normalizeUint8Array(input, label) {\n    if (typeof input === 'string')\n        return new TextEncoder().encode(input);\n    if (!(input instanceof Uint8Array))\n        throw new TypeError(`\"${label}\"\" must be an instance of Uint8Array or a string`);\n    return input;\n}\nfunction normalizeIkm(input) {\n    const ikm = normalizeUint8Array(input, 'ikm');\n    if (!ikm.byteLength)\n        throw new TypeError(`\"ikm\" must be at least one byte in length`);\n    return ikm;\n}\nfunction normalizeInfo(input) {\n    const info = normalizeUint8Array(input, 'info');\n    if (info.byteLength > 1024) {\n        throw TypeError('\"info\" must not contain more than 1024 bytes');\n    }\n    return info;\n}\nfunction normalizeKeylen(input, digest) {\n    if (typeof input !== 'number' || !Number.isInteger(input) || input < 1) {\n        throw new TypeError('\"keylen\" must be a positive integer');\n    }\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    if (input > 255 * hashlen) {\n        throw new TypeError('\"keylen\" too large');\n    }\n    return input;\n}\nasync function hkdf(digest, ikm, salt, info, keylen) {\n    return derive(normalizeDigest(digest), normalizeIkm(ikm), normalizeUint8Array(salt, 'salt'), normalizeInfo(info), normalizeKeylen(keylen, digest));\n}\nexport { hkdf, hkdf as default };\n", "export default crypto;\nexport const isCryptoKey = (key) => key instanceof CryptoKey;\n", "import crypto from './webcrypto.js';\nconst digest = async (algorithm, data) => {\n    const subtleDigest = `SHA-${algorithm.slice(-3)}`;\n    return new Uint8Array(await crypto.subtle.digest(subtleDigest, data));\n};\nexport default digest;\n", "import digest from '../runtime/digest.js';\nexport const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    buffers.forEach((buffer) => {\n        buf.set(buffer, i);\n        i += buffer.length;\n    });\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await digest('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n", "import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch (_a) {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n", "export class JOSEError extends Error {\n    static get code() {\n        return 'ERR_JOSE_GENERIC';\n    }\n    constructor(message) {\n        var _a;\n        super(message);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        (_a = Error.captureStackTrace) === null || _a === void 0 ? void 0 : _a.call(Error, this, this.constructor);\n    }\n}\nexport class JWTClaimValidationFailed extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexport class JWTExpired extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_EXPIRED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n    static get code() {\n        return 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n    static get code() {\n        return 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n        this.message = 'decryption operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWE_INVALID';\n    }\n}\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWS_INVALID';\n    }\n}\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWT_INVALID';\n    }\n}\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWK_INVALID';\n    }\n}\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWKS_INVALID';\n    }\n}\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n        this.message = 'no applicable key found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n        this.message = 'multiple matching keys found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nexport class JWKSTimeout extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_TIMEOUT';\n        this.message = 'request timed out';\n    }\n    static get code() {\n        return 'ERR_JWKS_TIMEOUT';\n    }\n}\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n        this.message = 'signature verification failed';\n    }\n    static get code() {\n        return 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\n", "import crypto from './webcrypto.js';\nexport default crypto.getRandomValues.bind(crypto);\n", "import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n", "import { JWEInvalid } from '../util/errors.js';\nimport { bitLength } from './iv.js';\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== bitLength(enc)) {\n        throw new JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexport default checkIvLength;\n", "import { JWEInvalid } from '../util/errors.js';\nconst checkCekLength = (cek, expected) => {\n    const actual = cek.byteLength << 3;\n    if (actual !== expected) {\n        throw new JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n    }\n};\nexport default checkCekLength;\n", "const timingSafeEqual = (a, b) => {\n    if (!(a instanceof Uint8Array)) {\n        throw new TypeError('First argument must be a buffer');\n    }\n    if (!(b instanceof Uint8Array)) {\n        throw new TypeError('Second argument must be a buffer');\n    }\n    if (a.length !== b.length) {\n        throw new TypeError('Input buffers must have the same length');\n    }\n    const len = a.length;\n    let out = 0;\n    let i = -1;\n    while (++i < len) {\n        out |= a[i] ^ b[i];\n    }\n    return out === 0;\n};\nexport default timingSafeEqual;\n", "function unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n", "function message(msg, actual, ...types) {\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor && actual.constructor.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport default (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nexport function withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n", "import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    return isCryptoKey(key);\n};\nexport const types = ['CryptoKey'];\n", "import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport timingSafeEqual from './timing_safe_equal.js';\nimport { JOSENotSupported, JWEDecryptionFailed } from '../util/errors.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nasync function cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['decrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const expectedTag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    let macCheckPassed;\n    try {\n        macCheckPassed = timingSafeEqual(tag, expectedTag);\n    }\n    catch (_a) {\n    }\n    if (!macCheckPassed) {\n        throw new JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        plaintext = new Uint8Array(await crypto.subtle.decrypt({ iv, name: 'AES-CBC' }, encKey, ciphertext));\n    }\n    catch (_b) {\n    }\n    if (!plaintext) {\n        throw new JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nasync function gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['decrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'decrypt');\n        encKey = cek;\n    }\n    try {\n        return new Uint8Array(await crypto.subtle.decrypt({\n            additionalData: aad,\n            iv,\n            name: 'AES-GCM',\n            tagLength: 128,\n        }, encKey, concat(ciphertext, tag)));\n    }\n    catch (_a) {\n        throw new JWEDecryptionFailed();\n    }\n}\nconst decrypt = async (enc, cek, ciphertext, iv, tag, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    checkIvLength(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(-3), 10));\n            return cbcDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(1, 4), 10));\n            return gcmDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default decrypt;\n", "import { JOSENotSupported } from '../util/errors.js';\nexport const inflate = async () => {\n    throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.');\n};\nexport const deflate = async () => {\n    throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.');\n};\n", "const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n", "function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n", "const bogusWebCrypto = [\n    { hash: 'SHA-256', name: 'HMAC' },\n    true,\n    ['sign'],\n];\nexport default bogusWebCrypto;\n", "import bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction checkKeySize(key, alg) {\n    if (key.algorithm.length !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction getCryptoKey(key, alg, usage) {\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'AES-KW', true, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nexport const wrap = async (alg, key, cek) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'wrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, cryptoKey, 'AES-KW'));\n};\nexport const unwrap = async (alg, key, encryptedKey) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'unwrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, cryptoKey, 'AES-KW', ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n};\n", "import { encoder, concat, uint32be, lengthAndInput, concatKdf } from '../lib/buffer_utils.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport async function deriveKey(publicKey, privateKey, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    if (!isCryptoKey(publicKey)) {\n        throw new TypeError(invalidKeyInput(publicKey, ...types));\n    }\n    checkEncCryptoKey(publicKey, 'ECDH');\n    if (!isCryptoKey(privateKey)) {\n        throw new TypeError(invalidKeyInput(privateKey, ...types));\n    }\n    checkEncCryptoKey(privateKey, 'ECDH', 'deriveBits');\n    const value = concat(lengthAndInput(encoder.encode(algorithm)), lengthAndInput(apu), lengthAndInput(apv), uint32be(keyLength));\n    let length;\n    if (publicKey.algorithm.name === 'X25519') {\n        length = 256;\n    }\n    else if (publicKey.algorithm.name === 'X448') {\n        length = 448;\n    }\n    else {\n        length =\n            Math.ceil(parseInt(publicKey.algorithm.namedCurve.substr(-3), 10) / 8) << 3;\n    }\n    const sharedSecret = new Uint8Array(await crypto.subtle.deriveBits({\n        name: publicKey.algorithm.name,\n        public: publicKey,\n    }, privateKey, length));\n    return concatKdf(sharedSecret, keyLength, value);\n}\nexport async function generateEpk(key) {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return crypto.subtle.generateKey(key.algorithm, true, ['deriveBits']);\n}\nexport function ecdhAllowed(key) {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return (['P-256', 'P-384', 'P-521'].includes(key.algorithm.namedCurve) ||\n        key.algorithm.name === 'X25519' ||\n        key.algorithm.name === 'X448');\n}\n", "import { JWEInvalid } from '../util/errors.js';\nexport default function checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\n", "import random from './random.js';\nimport { p2s as concatSalt } from '../lib/buffer_utils.js';\nimport { encode as base64url } from './base64url.js';\nimport { wrap, unwrap } from './aeskw.js';\nimport checkP2s from '../lib/check_p2s.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction getCryptoKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'PBKDF2', false, ['deriveBits']);\n    }\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, 'deriveBits', 'deriveKey');\n        return key;\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nasync function deriveKey(p2s, alg, p2c, key) {\n    checkP2s(p2s);\n    const salt = concatSalt(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10);\n    const subtleAlg = {\n        hash: `SHA-${alg.slice(8, 11)}`,\n        iterations: p2c,\n        name: 'PBKDF2',\n        salt,\n    };\n    const wrapAlg = {\n        length: keylen,\n        name: 'AES-KW',\n    };\n    const cryptoKey = await getCryptoKey(key, alg);\n    if (cryptoKey.usages.includes('deriveBits')) {\n        return new Uint8Array(await crypto.subtle.deriveBits(subtleAlg, cryptoKey, keylen));\n    }\n    if (cryptoKey.usages.includes('deriveKey')) {\n        return crypto.subtle.deriveKey(subtleAlg, cryptoKey, wrapAlg, false, ['wrapKey', 'unwrapKey']);\n    }\n    throw new TypeError('PBKDF2 key \"usages\" must include \"deriveBits\" or \"deriveKey\"');\n}\nexport const encrypt = async (alg, key, cek, p2c = 2048, p2s = random(new Uint8Array(16))) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    const encryptedKey = await wrap(alg.slice(-6), derived, cek);\n    return { encryptedKey, p2c, p2s: base64url(p2s) };\n};\nexport const decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    return unwrap(alg.slice(-6), derived, encryptedKey);\n};\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleRsaEs(alg) {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return 'RSA-OAEP';\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n", "import subtleAlgorithm from './subtle_rsaes.js';\nimport bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport checkKeyLength from './check_key_length.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport const encrypt = async (alg, key, cek) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'encrypt', 'wrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('encrypt')) {\n        return new Uint8Array(await crypto.subtle.encrypt(subtleAlgorithm(alg), key, cek));\n    }\n    if (key.usages.includes('wrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, key, subtleAlgorithm(alg)));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"encrypt\" or \"wrapKey\" for this operation');\n};\nexport const decrypt = async (alg, key, encryptedKey) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'decrypt', 'unwrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('decrypt')) {\n        return new Uint8Array(await crypto.subtle.decrypt(subtleAlgorithm(alg), key, encryptedKey));\n    }\n    if (key.usages.includes('unwrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, key, subtleAlgorithm(alg), ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"decrypt\" or \"unwrapKey\" for this operation');\n};\n", "import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n", "export default (b64, descriptor) => {\n    const newlined = (b64.match(/.{1,64}/g) || []).join('\\n');\n    return `-----BEGIN ${descriptor}-----\\n${newlined}\\n-----END ${descriptor}-----`;\n};\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encodeBase64, decodeBase64 } from './base64url.js';\nimport formatPEM from '../lib/format_pem.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { types } from './is_key_like.js';\nconst genericExport = async (keyType, keyFormat, key) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    if (!key.extractable) {\n        throw new TypeError('CryptoKey is not extractable');\n    }\n    if (key.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return formatPEM(encodeBase64(new Uint8Array(await crypto.subtle.exportKey(keyFormat, key))), `${keyType.toUpperCase()} KEY`);\n};\nexport const toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nexport const toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nconst findOid = (keyData, oid, from = 0) => {\n    if (from === 0) {\n        oid.unshift(oid.length);\n        oid.unshift(0x06);\n    }\n    let i = keyData.indexOf(oid[0], from);\n    if (i === -1)\n        return false;\n    const sub = keyData.subarray(i, i + oid.length);\n    if (sub.length !== oid.length)\n        return false;\n    return sub.every((value, index) => value === oid[index]) || findOid(keyData, oid, i + 1);\n};\nconst getNamedCurve = (keyData) => {\n    switch (true) {\n        case findOid(keyData, [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03, 0x01, 0x07]):\n            return 'P-256';\n        case findOid(keyData, [0x2b, 0x81, 0x04, 0x00, 0x22]):\n            return 'P-384';\n        case findOid(keyData, [0x2b, 0x81, 0x04, 0x00, 0x23]):\n            return 'P-521';\n        case findOid(keyData, [0x2b, 0x65, 0x6e]):\n            return 'X25519';\n        case findOid(keyData, [0x2b, 0x65, 0x6f]):\n            return 'X448';\n        case findOid(keyData, [0x2b, 0x65, 0x70]):\n            return 'Ed25519';\n        case findOid(keyData, [0x2b, 0x65, 0x71]):\n            return 'Ed448';\n        default:\n            throw new JOSENotSupported('Invalid or unsupported EC Key Curve or OKP Key Sub Type');\n    }\n};\nconst genericImport = async (replace, keyFormat, pem, alg, options) => {\n    var _a;\n    let algorithm;\n    let keyUsages;\n    const keyData = new Uint8Array(atob(pem.replace(replace, ''))\n        .split('')\n        .map((c) => c.charCodeAt(0)));\n    const isPublic = keyFormat === 'spki';\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n            };\n            keyUsages = isPublic ? ['encrypt', 'wrapKey'] : ['decrypt', 'unwrapKey'];\n            break;\n        case 'ES256':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'ES384':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'ES512':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            const namedCurve = getNamedCurve(keyData);\n            algorithm = namedCurve.startsWith('P-') ? { name: 'ECDH', namedCurve } : { name: namedCurve };\n            keyUsages = isPublic ? [] : ['deriveBits'];\n            break;\n        }\n        case 'EdDSA':\n            algorithm = { name: getNamedCurve(keyData) };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (Algorithm) value');\n    }\n    return crypto.subtle.importKey(keyFormat, keyData, algorithm, (_a = options === null || options === void 0 ? void 0 : options.extractable) !== null && _a !== void 0 ? _a : false, keyUsages);\n};\nexport const fromPKCS8 = (pem, alg, options) => {\n    return genericImport(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g, 'pkcs8', pem, alg, options);\n};\nexport const fromSPKI = (pem, alg, options) => {\n    return genericImport(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g, 'spki', pem, alg, options);\n};\nfunction getElement(seq) {\n    let result = [];\n    let next = 0;\n    while (next < seq.length) {\n        let nextPart = parseElement(seq.subarray(next));\n        result.push(nextPart);\n        next += nextPart.byteLength;\n    }\n    return result;\n}\nfunction parseElement(bytes) {\n    let position = 0;\n    let tag = bytes[0] & 0x1f;\n    position++;\n    if (tag === 0x1f) {\n        tag = 0;\n        while (bytes[position] >= 0x80) {\n            tag = tag * 128 + bytes[position] - 0x80;\n            position++;\n        }\n        tag = tag * 128 + bytes[position] - 0x80;\n        position++;\n    }\n    let length = 0;\n    if (bytes[position] < 0x80) {\n        length = bytes[position];\n        position++;\n    }\n    else if (length === 0x80) {\n        length = 0;\n        while (bytes[position + length] !== 0 || bytes[position + length + 1] !== 0) {\n            if (length > bytes.byteLength) {\n                throw new TypeError('invalid indefinite form length');\n            }\n            length++;\n        }\n        const byteLength = position + length + 2;\n        return {\n            byteLength,\n            contents: bytes.subarray(position, position + length),\n            raw: bytes.subarray(0, byteLength),\n        };\n    }\n    else {\n        let numberOfDigits = bytes[position] & 0x7f;\n        position++;\n        length = 0;\n        for (let i = 0; i < numberOfDigits; i++) {\n            length = length * 256 + bytes[position];\n            position++;\n        }\n    }\n    const byteLength = position + length;\n    return {\n        byteLength,\n        contents: bytes.subarray(position, byteLength),\n        raw: bytes.subarray(0, byteLength),\n    };\n}\nfunction spkiFromX509(buf) {\n    const tbsCertificate = getElement(getElement(parseElement(buf).contents)[0].contents);\n    return encodeBase64(tbsCertificate[tbsCertificate[0].raw[0] === 0xa0 ? 6 : 5].raw);\n}\nfunction getSPKI(x509) {\n    const pem = x509.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\\s)/g, '');\n    const raw = decodeBase64(pem);\n    return formatPEM(spkiFromX509(raw), 'PUBLIC KEY');\n}\nexport const fromX509 = (pem, alg, options) => {\n    let spki;\n    try {\n        spki = getSPKI(pem);\n    }\n    catch (cause) {\n        throw new TypeError('failed to parse the X.509 certificate', { cause });\n    }\n    return fromSPKI(spki, alg, options);\n};\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { decode as base64url } from './base64url.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'oct': {\n            switch (jwk.alg) {\n                case 'HS256':\n                case 'HS384':\n                case 'HS512':\n                    algorithm = { name: 'HMAC', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = ['sign', 'verify'];\n                    break;\n                case 'A128CBC-HS256':\n                case 'A192CBC-HS384':\n                case 'A256CBC-HS512':\n                    throw new JOSENotSupported(`${jwk.alg} keys cannot be imported as CryptoKey instances`);\n                case 'A128GCM':\n                case 'A192GCM':\n                case 'A256GCM':\n                case 'A128GCMKW':\n                case 'A192GCMKW':\n                case 'A256GCMKW':\n                    algorithm = { name: 'AES-GCM' };\n                    keyUsages = ['encrypt', 'decrypt'];\n                    break;\n                case 'A128KW':\n                case 'A192KW':\n                case 'A256KW':\n                    algorithm = { name: 'AES-KW' };\n                    keyUsages = ['wrapKey', 'unwrapKey'];\n                    break;\n                case 'PBES2-HS256+A128KW':\n                case 'PBES2-HS384+A192KW':\n                case 'PBES2-HS512+A256KW':\n                    algorithm = { name: 'PBKDF2' };\n                    keyUsages = ['deriveBits'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'EdDSA':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    var _a, _b;\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        (_a = jwk.ext) !== null && _a !== void 0 ? _a : false,\n        (_b = jwk.key_ops) !== null && _b !== void 0 ? _b : keyUsages,\n    ];\n    if (algorithm.name === 'PBKDF2') {\n        return crypto.subtle.importKey('raw', base64url(jwk.k), ...rest);\n    }\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n", "import { decode as decodeBase64URL } from '../runtime/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg, octAsKeyObject) {\n    var _a;\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            octAsKeyObject !== null && octAsKeyObject !== void 0 ? octAsKeyObject : (octAsKeyObject = jwk.ext !== true);\n            if (octAsKeyObject) {\n                return asKeyObject({ ...jwk, alg, ext: (_a = jwk.ext) !== null && _a !== void 0 ? _a : false });\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n", "import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nconst symmetricTypeCheck = (alg, key) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${types.join(' or ')} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nconst checkKeyType = (alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage);\n    }\n};\nexport default checkKeyType;\n", "import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { types } from './is_key_like.js';\nasync function cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['encrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const ciphertext = new Uint8Array(await crypto.subtle.encrypt({\n        iv,\n        name: 'AES-CBC',\n    }, encKey, plaintext));\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const tag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    return { ciphertext, tag };\n}\nasync function gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['encrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'encrypt');\n        encKey = cek;\n    }\n    const encrypted = new Uint8Array(await crypto.subtle.encrypt({\n        additionalData: aad,\n        iv,\n        name: 'AES-GCM',\n        tagLength: 128,\n    }, encKey, plaintext));\n    const tag = encrypted.slice(-16);\n    const ciphertext = encrypted.slice(0, -16);\n    return { ciphertext, tag };\n}\nconst encrypt = async (enc, plaintext, cek, iv, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    checkIvLength(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(-3), 10));\n            return cbcEncrypt(enc, plaintext, cek, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(1, 4), 10));\n            return gcmEncrypt(enc, plaintext, cek, iv, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default encrypt;\n", "import encrypt from '../runtime/encrypt.js';\nimport decrypt from '../runtime/decrypt.js';\nimport generateIv from './iv.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nexport async function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    iv || (iv = generateIv(jweAlgorithm));\n    const { ciphertext: encryptedKey, tag } = await encrypt(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return { encryptedKey, iv: base64url(iv), tag: base64url(tag) };\n}\nexport async function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return decrypt(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\n", "import { unwrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { decrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { decrypt as rsaEs } from '../runtime/rsaes.js';\nimport { decode as base64url } from '../runtime/base64url.js';\nimport { JOSENotSupported, JWEInvalid } from '../util/errors.js';\nimport { bitLength as cekLength } from '../lib/cek.js';\nimport { importJWK } from '../key/import.js';\nimport checkKeyType from './check_key_type.js';\nimport isObject from './is_object.js';\nimport { unwrap as aesGcmKw } from './aesgcmkw.js';\nasync function decryptKeyManagement(alg, key, encryptedKey, joseHeader, options) {\n    checkKeyType(alg, key, 'decrypt');\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!isObject(joseHeader.epk))\n                throw new JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            if (!ECDH.ecdhAllowed(key))\n                throw new JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await importJWK(joseHeader.epk, alg);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                partyUInfo = base64url(joseHeader.apu);\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                partyVInfo = base64url(joseHeader.apv);\n            }\n            const sharedSecret = await ECDH.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? cekLength(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return aesKw(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return rsaEs(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = (options === null || options === void 0 ? void 0 : options.maxPBES2Count) || 10000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            return pbes2Kw(alg, key, encryptedKey, joseHeader.p2c, base64url(joseHeader.p2s));\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return aesKw(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            const iv = base64url(joseHeader.iv);\n            const tag = base64url(joseHeader.tag);\n            return aesGcmKw(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n}\nexport default decryptKeyManagement;\n", "import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n", "const validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexport default validateAlgorithms;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport decrypt from '../../runtime/decrypt.js';\nimport { inflate } from '../../runtime/zlib.js';\nimport { JOSEAlgNotAllowed, JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport decryptKeyManagement from '../../lib/decrypt_key_management.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport generateCek from '../../lib/cek.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nexport async function flattenedDecrypt(jwe, key, options) {\n    var _a;\n    if (!isObject(jwe)) {\n        throw new JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new JWEInvalid('JOSE Header missing');\n    }\n    if (typeof jwe.iv !== 'string') {\n        throw new JWEInvalid('JWE Initialization Vector missing or incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (typeof jwe.tag !== 'string') {\n        throw new JWEInvalid('JWE Authentication Tag missing or incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !isObject(jwe.header)) {\n        throw new JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !isObject(jwe.unprotected)) {\n        throw new JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = base64url(jwe.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch (_b) {\n            throw new JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    validateCrit(JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        if (!parsedProt || !parsedProt.zip) {\n            throw new JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n        }\n        if (joseHeader.zip !== 'DEF') {\n            throw new JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n        }\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && validateAlgorithms('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        validateAlgorithms('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if (keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        encryptedKey = base64url(jwe.encrypted_key);\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    let cek;\n    try {\n        cek = await decryptKeyManagement(alg, key, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof JWEInvalid || err instanceof JOSENotSupported) {\n            throw err;\n        }\n        cek = generateCek(enc);\n    }\n    const iv = base64url(jwe.iv);\n    const tag = base64url(jwe.tag);\n    const protectedHeader = encoder.encode((_a = jwe.protected) !== null && _a !== void 0 ? _a : '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let plaintext = await decrypt(enc, cek, base64url(jwe.ciphertext), iv, tag, additionalData);\n    if (joseHeader.zip === 'DEF') {\n        plaintext = await ((options === null || options === void 0 ? void 0 : options.inflateRaw) || inflate)(plaintext);\n    }\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        result.additionalAuthenticatedData = base64url(jwe.aad);\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await flattenedDecrypt({\n        ciphertext,\n        iv: (iv || undefined),\n        protected: protectedHeader || undefined,\n        tag: (tag || undefined),\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n", "import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEDecryptionFailed, JWEInvalid } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport async function generalDecrypt(jwe, key, options) {\n    if (!isObject(jwe)) {\n        throw new JWEInvalid('General JWE must be an object');\n    }\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(isObject)) {\n        throw new JWEInvalid('JWE Recipients missing or incorrect type');\n    }\n    if (!jwe.recipients.length) {\n        throw new JWEInvalid('JWE Recipients has no members');\n    }\n    for (const recipient of jwe.recipients) {\n        try {\n            return await flattenedDecrypt({\n                aad: jwe.aad,\n                ciphertext: jwe.ciphertext,\n                encrypted_key: recipient.encrypted_key,\n                header: recipient.header,\n                iv: jwe.iv,\n                protected: jwe.protected,\n                tag: jwe.tag,\n                unprotected: jwe.unprotected,\n            }, key, options);\n        }\n        catch (_a) {\n        }\n    }\n    throw new JWEDecryptionFailed();\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encode as base64url } from './base64url.js';\nimport { types } from './is_key_like.js';\nconst keyToJWK = async (key) => {\n    if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: base64url(key),\n        };\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('non-extractable CryptoKey cannot be exported as a JWK');\n    }\n    const { ext, key_ops, alg, use, ...jwk } = await crypto.subtle.exportKey('jwk', key);\n    return jwk;\n};\nexport default keyToJWK;\n", "import { toSPKI as exportPublic } from '../runtime/asn1.js';\nimport { toPKCS8 as exportPrivate } from '../runtime/asn1.js';\nimport keyToJWK from '../runtime/key_to_jwk.js';\nexport async function exportSPKI(key) {\n    return exportPublic(key);\n}\nexport async function exportPKCS8(key) {\n    return exportPrivate(key);\n}\nexport async function exportJWK(key) {\n    return keyToJWK(key);\n}\n", "import { wrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { encrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { encrypt as rsaEs } from '../runtime/rsaes.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport generateCek, { bitLength as cekLength } from '../lib/cek.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { exportJWK } from '../key/export.js';\nimport checkKeyType from './check_key_type.js';\nimport { wrap as aesGcmKw } from './aesgcmkw.js';\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    checkKeyType(alg, key, 'encrypt');\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = (await ECDH.generateEpk(key)).privateKey);\n            const { x, y, crv, kty } = await exportJWK(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? cekLength(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = base64url(apu);\n            if (apv)\n                parameters.apv = base64url(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || generateCek(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await aesKw(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await rsaEs(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || generateCek(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await pbes2Kw(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await aesKw(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || generateCek(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await aesGcmKw(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexport default encryptKeyManagement;\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport encrypt from '../../runtime/encrypt.js';\nimport { deflate } from '../../runtime/zlib.js';\nimport generateIv from '../../lib/iv.js';\nimport encryptKeyManagement from '../../lib/encrypt_key_management.js';\nimport { JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport const unprotected = Symbol();\nexport class FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        validateCrit(JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            if (!this._protectedHeader || !this._protectedHeader.zip) {\n                throw new JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n            }\n            if (joseHeader.zip !== 'DEF') {\n                throw new JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n            }\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (alg === 'dir') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Encryption');\n            }\n        }\n        else if (alg === 'ECDH-ES') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Key Agreement');\n            }\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await encryptKeyManagement(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else {\n                    if (!this._protectedHeader) {\n                        this.setProtectedHeader(parameters);\n                    }\n                    else {\n                        this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                    }\n                }\n            }\n        }\n        this._iv || (this._iv = generateIv(enc));\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = base64url(this._aad);\n            additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        let ciphertext;\n        let tag;\n        if (joseHeader.zip === 'DEF') {\n            const deflated = await ((options === null || options === void 0 ? void 0 : options.deflateRaw) || deflate)(this._plaintext);\n            ({ ciphertext, tag } = await encrypt(enc, deflated, cek, this._iv, additionalData));\n        }\n        else {\n            ;\n            ({ ciphertext, tag } = await encrypt(enc, this._plaintext, cek, this._iv, additionalData));\n        }\n        const jwe = {\n            ciphertext: base64url(ciphertext),\n            iv: base64url(this._iv),\n            tag: base64url(tag),\n        };\n        if (encryptedKey) {\n            jwe.encrypted_key = base64url(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\n", "import { FlattenedEncrypt, unprotected } from '../flattened/encrypt.js';\nimport { JWEInvalid } from '../../util/errors.js';\nimport generateCek from '../../lib/cek.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport encryptKeyManagement from '../../lib/encrypt_key_management.js';\nimport { encode as base64url } from '../../runtime/base64url.js';\nimport validateCrit from '../../lib/validate_crit.js';\nclass IndividualRecipient {\n    constructor(enc, key, options) {\n        this.parent = enc;\n        this.key = key;\n        this.options = options;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addRecipient(...args) {\n        return this.parent.addRecipient(...args);\n    }\n    encrypt(...args) {\n        return this.parent.encrypt(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nexport class GeneralEncrypt {\n    constructor(plaintext) {\n        this._recipients = [];\n        this._plaintext = plaintext;\n    }\n    addRecipient(key, options) {\n        const recipient = new IndividualRecipient(this, key, { crit: options === null || options === void 0 ? void 0 : options.crit });\n        this._recipients.push(recipient);\n        return recipient;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    async encrypt(options) {\n        var _a, _b, _c;\n        if (!this._recipients.length) {\n            throw new JWEInvalid('at least one recipient must be added');\n        }\n        options = { deflateRaw: options === null || options === void 0 ? void 0 : options.deflateRaw };\n        if (this._recipients.length === 1) {\n            const [recipient] = this._recipients;\n            const flattened = await new FlattenedEncrypt(this._plaintext)\n                .setAdditionalAuthenticatedData(this._aad)\n                .setProtectedHeader(this._protectedHeader)\n                .setSharedUnprotectedHeader(this._unprotectedHeader)\n                .setUnprotectedHeader(recipient.unprotectedHeader)\n                .encrypt(recipient.key, { ...recipient.options, ...options });\n            let jwe = {\n                ciphertext: flattened.ciphertext,\n                iv: flattened.iv,\n                recipients: [{}],\n                tag: flattened.tag,\n            };\n            if (flattened.aad)\n                jwe.aad = flattened.aad;\n            if (flattened.protected)\n                jwe.protected = flattened.protected;\n            if (flattened.unprotected)\n                jwe.unprotected = flattened.unprotected;\n            if (flattened.encrypted_key)\n                jwe.recipients[0].encrypted_key = flattened.encrypted_key;\n            if (flattened.header)\n                jwe.recipients[0].header = flattened.header;\n            return jwe;\n        }\n        let enc;\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            if (!isDisjoint(this._protectedHeader, this._unprotectedHeader, recipient.unprotectedHeader)) {\n                throw new JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n            }\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const { alg } = joseHeader;\n            if (typeof alg !== 'string' || !alg) {\n                throw new JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n            }\n            if (alg === 'dir' || alg === 'ECDH-ES') {\n                throw new JWEInvalid('\"dir\" and \"ECDH-ES\" alg may only be used with a single recipient');\n            }\n            if (typeof joseHeader.enc !== 'string' || !joseHeader.enc) {\n                throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n            }\n            if (!enc) {\n                enc = joseHeader.enc;\n            }\n            else if (enc !== joseHeader.enc) {\n                throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter must be the same for all recipients');\n            }\n            validateCrit(JWEInvalid, new Map(), recipient.options.crit, this._protectedHeader, joseHeader);\n            if (joseHeader.zip !== undefined) {\n                if (!this._protectedHeader || !this._protectedHeader.zip) {\n                    throw new JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n                }\n            }\n        }\n        const cek = generateCek(enc);\n        let jwe = {\n            ciphertext: '',\n            iv: '',\n            recipients: [],\n            tag: '',\n        };\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            const target = {};\n            jwe.recipients.push(target);\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const p2c = joseHeader.alg.startsWith('PBES2') ? 2048 + i : undefined;\n            if (i === 0) {\n                const flattened = await new FlattenedEncrypt(this._plaintext)\n                    .setAdditionalAuthenticatedData(this._aad)\n                    .setContentEncryptionKey(cek)\n                    .setProtectedHeader(this._protectedHeader)\n                    .setSharedUnprotectedHeader(this._unprotectedHeader)\n                    .setUnprotectedHeader(recipient.unprotectedHeader)\n                    .setKeyManagementParameters({ p2c })\n                    .encrypt(recipient.key, {\n                    ...recipient.options,\n                    ...options,\n                    [unprotected]: true,\n                });\n                jwe.ciphertext = flattened.ciphertext;\n                jwe.iv = flattened.iv;\n                jwe.tag = flattened.tag;\n                if (flattened.aad)\n                    jwe.aad = flattened.aad;\n                if (flattened.protected)\n                    jwe.protected = flattened.protected;\n                if (flattened.unprotected)\n                    jwe.unprotected = flattened.unprotected;\n                target.encrypted_key = flattened.encrypted_key;\n                if (flattened.header)\n                    target.header = flattened.header;\n                continue;\n            }\n            const { encryptedKey, parameters } = await encryptKeyManagement(((_a = recipient.unprotectedHeader) === null || _a === void 0 ? void 0 : _a.alg) ||\n                ((_b = this._protectedHeader) === null || _b === void 0 ? void 0 : _b.alg) ||\n                ((_c = this._unprotectedHeader) === null || _c === void 0 ? void 0 : _c.alg), enc, recipient.key, cek, { p2c });\n            target.encrypted_key = base64url(encryptedKey);\n            if (recipient.unprotectedHeader || parameters)\n                target.header = { ...recipient.unprotectedHeader, ...parameters };\n        }\n        return jwe;\n    }\n}\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleDsa(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: alg.slice(-3) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'EdDSA':\n            return { name: algorithm.name };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkSigCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport default function getCryptoKey(alg, key, usage) {\n    if (isCryptoKey(key)) {\n        checkSigCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, ...types));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getVerifyKey from './get_sign_verify_key.js';\nconst verify = async (alg, key, signature, data) => {\n    const cryptoKey = await getVerifyKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch (_a) {\n        return false;\n    }\n};\nexport default verify;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport verify from '../../runtime/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder } from '../../lib/buffer_utils.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport checkKeyType from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nexport async function flattenedVerify(jws, key, options) {\n    var _a;\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = base64url(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch (_b) {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    checkKeyType(alg, key, 'verify');\n    const data = concat(encoder.encode((_a = jws.protected) !== null && _a !== void 0 ? _a : ''), encoder.encode('.'), typeof jws.payload === 'string' ? encoder.encode(jws.payload) : jws.payload);\n    const signature = base64url(jws.signature);\n    const verified = await verify(alg, key, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        payload = base64url(jws.payload);\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport async function generalVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('General JWS must be an object');\n    }\n    if (!Array.isArray(jws.signatures) || !jws.signatures.every(isObject)) {\n        throw new JWSInvalid('JWS Signatures missing or incorrect type');\n    }\n    for (const signature of jws.signatures) {\n        try {\n            return await flattenedVerify({\n                header: signature.header,\n                payload: jws.payload,\n                protected: signature.protected,\n                signature: signature.signature,\n            }, key, options);\n        }\n        catch (_a) {\n        }\n    }\n    throw new JWSSignatureVerificationFailed();\n}\n", "export default (date) => Math.floor(date.getTime() / 1000);\n", "const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[1]);\n    const unit = matched[2].toLowerCase();\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            return Math.round(value);\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            return Math.round(value * minute);\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            return Math.round(value * hour);\n        case 'day':\n        case 'days':\n        case 'd':\n            return Math.round(value * day);\n        case 'week':\n        case 'weeks':\n        case 'w':\n            return Math.round(value * week);\n        default:\n            return Math.round(value * year);\n    }\n};\n", "import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport default (protectedHeader, encodedPayload, options = {}) => {\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', 'typ', 'check_failed');\n    }\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch (_a) {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    if (maxTokenAge !== undefined)\n        requiredClaims.push('iat');\n    if (audience !== undefined)\n        requiredClaims.push('aud');\n    if (subject !== undefined)\n        requiredClaims.push('sub');\n    if (issuer !== undefined)\n        requiredClaims.push('iss');\n    for (const claim of new Set(requiredClaims.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, claim, 'missing');\n        }\n    }\n    if (issuer && !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n", "import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    var _a;\n    const verified = await compactVerify(jwt, key, options);\n    if (((_a = verified.protectedHeader.crit) === null || _a === void 0 ? void 0 : _a.includes('b64')) && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { compactDecrypt } from '../jwe/compact/decrypt.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTClaimValidationFailed } from '../util/errors.js';\nexport async function jwtDecrypt(jwt, key, options) {\n    const decrypted = await compactDecrypt(jwt, key, options);\n    const payload = jwtPayload(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n", "import { FlattenedEncrypt } from '../flattened/encrypt.js';\nexport class CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getSignKey from './get_sign_verify_key.js';\nconst sign = async (alg, key, data) => {\n    const cryptoKey = await getSignKey(alg, key, 'sign');\n    checkKeyLength(alg, cryptoKey);\n    const signature = await crypto.subtle.sign(subtleAlgorithm(alg, cryptoKey.algorithm), cryptoKey, data);\n    return new Uint8Array(signature);\n};\nexport default sign;\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport sign from '../../runtime/sign.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport checkKeyType from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport class FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader)) {\n            throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        checkKeyType(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = encoder.encode(base64url(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        const data = concat(protectedHeader, encoder.encode('.'), payload);\n        const signature = await sign(alg, key, data);\n        const jws = {\n            signature: base64url(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\n", "import { FlattenedSign } from '../flattened/sign.js';\nexport class CompactSign {\n    constructor(payload) {\n        this._flattened = new FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\n", "import { FlattenedSign } from '../flattened/sign.js';\nimport { JWSInvalid } from '../../util/errors.js';\nclass IndividualSignature {\n    constructor(sig, key, options) {\n        this.parent = sig;\n        this.key = key;\n        this.options = options;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addSignature(...args) {\n        return this.parent.addSignature(...args);\n    }\n    sign(...args) {\n        return this.parent.sign(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nexport class GeneralSign {\n    constructor(payload) {\n        this._signatures = [];\n        this._payload = payload;\n    }\n    addSignature(key, options) {\n        const signature = new IndividualSignature(this, key, options);\n        this._signatures.push(signature);\n        return signature;\n    }\n    async sign() {\n        if (!this._signatures.length) {\n            throw new JWSInvalid('at least one signature must be added');\n        }\n        const jws = {\n            signatures: [],\n            payload: '',\n        };\n        for (let i = 0; i < this._signatures.length; i++) {\n            const signature = this._signatures[i];\n            const flattened = new FlattenedSign(this._payload);\n            flattened.setProtectedHeader(signature.protectedHeader);\n            flattened.setUnprotectedHeader(signature.unprotectedHeader);\n            const { payload, ...rest } = await flattened.sign(signature.key, signature.options);\n            if (i === 0) {\n                jws.payload = payload;\n            }\n            else if (jws.payload !== payload) {\n                throw new JWSInvalid('inconsistent use of JWS Unencoded Payload (RFC7797)');\n            }\n            jws.signatures.push(rest);\n        }\n        return jws;\n    }\n}\n", "import epoch from '../lib/epoch.js';\nimport isObject from '../lib/is_object.js';\nimport secs from '../lib/secs.js';\nexport class ProduceJWT {\n    constructor(payload) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: input };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: input };\n        }\n        else {\n            this._payload = { ...this._payload, exp: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: epoch(new Date()) };\n        }\n        else {\n            this._payload = { ...this._payload, iat: input };\n        }\n        return this;\n    }\n}\n", "import { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class SignJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        var _a;\n        const sig = new CompactSign(encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray((_a = this._protectedHeader) === null || _a === void 0 ? void 0 : _a.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\n", "import { CompactEncrypt } from '../jwe/compact/encrypt.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class EncryptJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this._replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this._replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this._replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new CompactEncrypt(encoder.encode(JSON.stringify(this._payload)));\n        if (this._replicateIssuerAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, iss: this._payload.iss };\n        }\n        if (this._replicateSubjectAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, sub: this._payload.sub };\n        }\n        if (this._replicateAudienceAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, aud: this._payload.aud };\n        }\n        enc.setProtectedHeader(this._protectedHeader);\n        if (this._iv) {\n            enc.setInitializationVector(this._iv);\n        }\n        if (this._cek) {\n            enc.setContentEncryptionKey(this._cek);\n        }\n        if (this._keyManagementParameters) {\n            enc.setKeyManagementParameters(this._keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\n", "import digest from '../runtime/digest.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport { JOSENotSupported, JWKInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new JWKInvalid(`${description} missing or invalid`);\n    }\n};\nexport async function calculateJwkThumbprint(jwk, digestAlgorithm) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = encoder.encode(JSON.stringify(components));\n    return base64url(await digest(digestAlgorithm, data));\n}\nexport async function calculateJwkThumbprintUri(jwk, digestAlgorithm) {\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    const thumbprint = await calculateJwkThumbprint(jwk, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\n", "import { importJWK } from '../key/import.js';\nimport isObject from '../lib/is_object.js';\nimport { JWSInvalid } from '../util/errors.js';\nexport async function EmbeddedJWK(protectedHeader, token) {\n    const joseHeader = {\n        ...protectedHeader,\n        ...token === null || token === void 0 ? void 0 : token.header,\n    };\n    if (!isObject(joseHeader.jwk)) {\n        throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n    const key = await importJWK({ ...joseHeader.jwk, ext: true }, joseHeader.alg, true);\n    if (key instanceof Uint8Array || key.type !== 'public') {\n        throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n    return key;\n}\n", "import { importJWK } from '../key/import.js';\nimport { JWKSInvalid, JOSENotSupported, JWKSNoMatchingKey, JWKSMultipleMatchingKeys, } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nexport function isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return isObject(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nexport class LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token === null || token === void 0 ? void 0 : token.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new JWKSNoMatchingKey();\n        }\n        else if (length !== 1) {\n            const error = new JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch (_a) {\n                        continue;\n                    }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await importJWK({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nexport function createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\n", "import { JOSEError, JWKSTimeout } from '../util/errors.js';\nconst fetchJwks = async (url, timeout, options) => {\n    let controller;\n    let id;\n    let timedOut = false;\n    if (typeof AbortController === 'function') {\n        controller = new AbortController();\n        id = setTimeout(() => {\n            timedOut = true;\n            controller.abort();\n        }, timeout);\n    }\n    const response = await fetch(url.href, {\n        signal: controller ? controller.signal : undefined,\n        redirect: 'manual',\n        headers: options.headers,\n    }).catch((err) => {\n        if (timedOut)\n            throw new JWKSTimeout();\n        throw err;\n    });\n    if (id !== undefined)\n        clearTimeout(id);\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch (_a) {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexport default fetchJwks;\n", "import fetchJwks from '../runtime/fetch_jwks.js';\nimport { JWKSInvalid, JWKSNoMatchingKey } from '../util/errors.js';\nimport { isJWKSLike, LocalJWKSet } from './local.js';\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nclass RemoteJWKSet extends LocalJWKSet {\n    constructor(url, options) {\n        super({ keys: [] });\n        this._jwks = undefined;\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options === null || options === void 0 ? void 0 : options.agent, headers: options === null || options === void 0 ? void 0 : options.headers };\n        this._timeoutDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.timeoutDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.cooldownDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof (options === null || options === void 0 ? void 0 : options.cacheMaxAge) === 'number' ? options === null || options === void 0 ? void 0 : options.cacheMaxAge : 600000;\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._jwks || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await super.getKey(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return super.getKey(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        this._pendingFetch || (this._pendingFetch = fetchJwks(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            if (!isJWKSLike(json)) {\n                throw new JWKSInvalid('JSON Web Key Set malformed');\n            }\n            this._jwks = { keys: json.keys };\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nexport function createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\n", "import * as base64url from '../runtime/base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { ProduceJWT } from './produce.js';\nexport class UnsecuredJWT extends ProduceJWT {\n    encode() {\n        const header = base64url.encode(JSON.stringify({ alg: 'none' }));\n        const payload = base64url.encode(JSON.stringify(this._payload));\n        return `${header}.${payload}.`;\n    }\n    static decode(jwt, options) {\n        if (typeof jwt !== 'string') {\n            throw new JWTInvalid('Unsecured JWT must be a string');\n        }\n        const { 0: encodedHeader, 1: encodedPayload, 2: signature, length } = jwt.split('.');\n        if (length !== 3 || signature !== '') {\n            throw new JWTInvalid('Invalid Unsecured JWT');\n        }\n        let header;\n        try {\n            header = JSON.parse(decoder.decode(base64url.decode(encodedHeader)));\n            if (header.alg !== 'none')\n                throw new Error();\n        }\n        catch (_a) {\n            throw new JWTInvalid('Invalid Unsecured JWT');\n        }\n        const payload = jwtPayload(header, base64url.decode(encodedPayload), options);\n        return { payload, header };\n    }\n}\n", "import * as base64url from '../runtime/base64url.js';\nexport const encode = base64url.encode;\nexport const decode = base64url.decode;\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nexport function decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(decoder.decode(base64url(protectedB64u)));\n        if (!isObject(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch (_a) {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nimport { JWTInvalid } from './errors.js';\nexport function decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = base64url(payload);\n    }\n    catch (_a) {\n        throw new JWTInvalid('Failed to parse the base64url encoded payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(decoder.decode(decoded));\n    }\n    catch (_b) {\n        throw new JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!isObject(result))\n        throw new JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport random from './random.js';\nexport async function generateSecret(alg, options) {\n    var _a;\n    let length;\n    let algorithm;\n    let keyUsages;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            length = parseInt(alg.slice(-3), 10);\n            algorithm = { name: 'HMAC', hash: `SHA-${length}`, length };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            length = parseInt(alg.slice(-3), 10);\n            return random(new Uint8Array(length >> 3));\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW':\n            length = parseInt(alg.slice(1, 4), 10);\n            algorithm = { name: 'AES-KW', length };\n            keyUsages = ['wrapKey', 'unwrapKey'];\n            break;\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW':\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            length = parseInt(alg.slice(1, 4), 10);\n            algorithm = { name: 'AES-GCM', length };\n            keyUsages = ['encrypt', 'decrypt'];\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return crypto.subtle.generateKey(algorithm, (_a = options === null || options === void 0 ? void 0 : options.extractable) !== null && _a !== void 0 ? _a : false, keyUsages);\n}\nfunction getModulusLengthOption(options) {\n    var _a;\n    const modulusLength = (_a = options === null || options === void 0 ? void 0 : options.modulusLength) !== null && _a !== void 0 ? _a : 2048;\n    if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n        throw new JOSENotSupported('Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used');\n    }\n    return modulusLength;\n}\nexport async function generateKeyPair(alg, options) {\n    var _a, _b, _c;\n    let algorithm;\n    let keyUsages;\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = {\n                name: 'RSA-PSS',\n                hash: `SHA-${alg.slice(-3)}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = {\n                name: 'RSASSA-PKCS1-v1_5',\n                hash: `SHA-${alg.slice(-3)}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['decrypt', 'unwrapKey', 'encrypt', 'wrapKey'];\n            break;\n        case 'ES256':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'ES384':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'ES512':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'EdDSA':\n            keyUsages = ['sign', 'verify'];\n            const crv = (_a = options === null || options === void 0 ? void 0 : options.crv) !== null && _a !== void 0 ? _a : 'Ed25519';\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    algorithm = { name: crv };\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported crv option provided');\n            }\n            break;\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            keyUsages = ['deriveKey', 'deriveBits'];\n            const crv = (_b = options === null || options === void 0 ? void 0 : options.crv) !== null && _b !== void 0 ? _b : 'P-256';\n            switch (crv) {\n                case 'P-256':\n                case 'P-384':\n                case 'P-521': {\n                    algorithm = { name: 'ECDH', namedCurve: crv };\n                    break;\n                }\n                case 'X25519':\n                case 'X448':\n                    algorithm = { name: crv };\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return (crypto.subtle.generateKey(algorithm, (_c = options === null || options === void 0 ? void 0 : options.extractable) !== null && _c !== void 0 ? _c : false, keyUsages));\n}\n", "import { generateKeyPair as generate } from '../runtime/generate.js';\nexport async function generateKeyPair(alg, options) {\n    return generate(alg, options);\n}\n", "import { generateSecret as generate } from '../runtime/generate.js';\nexport async function generateSecret(alg, options) {\n    return generate(alg, options);\n}\n", "export { compactDecrypt } from './jwe/compact/decrypt.js';\nexport { flattenedDecrypt } from './jwe/flattened/decrypt.js';\nexport { generalDecrypt } from './jwe/general/decrypt.js';\nexport { GeneralEncrypt } from './jwe/general/encrypt.js';\nexport { compactVerify } from './jws/compact/verify.js';\nexport { flattenedVerify } from './jws/flattened/verify.js';\nexport { generalVerify } from './jws/general/verify.js';\nexport { jwtVerify } from './jwt/verify.js';\nexport { jwtDecrypt } from './jwt/decrypt.js';\nexport { CompactEncrypt } from './jwe/compact/encrypt.js';\nexport { FlattenedEncrypt } from './jwe/flattened/encrypt.js';\nexport { CompactSign } from './jws/compact/sign.js';\nexport { FlattenedSign } from './jws/flattened/sign.js';\nexport { GeneralSign } from './jws/general/sign.js';\nexport { SignJWT } from './jwt/sign.js';\nexport { EncryptJWT } from './jwt/encrypt.js';\nexport { calculateJwkThumbprint, calculateJwkThumbprintUri } from './jwk/thumbprint.js';\nexport { EmbeddedJWK } from './jwk/embedded.js';\nexport { createLocalJWKSet } from './jwks/local.js';\nexport { createRemoteJWKSet } from './jwks/remote.js';\nexport { UnsecuredJWT } from './jwt/unsecured.js';\nexport { exportPKCS8, exportSPKI, exportJWK } from './key/export.js';\nexport { importSPKI, importPKCS8, importX509, importJWK } from './key/import.js';\nexport { decodeProtectedHeader } from './util/decode_protected_header.js';\nexport { decodeJwt } from './util/decode_jwt.js';\nimport * as errors_1 from './util/errors.js';\nexport { errors_1 as errors };\nexport { generateKeyPair } from './key/generate_key_pair.js';\nexport { generateSecret } from './key/generate_secret.js';\nimport * as base64url_1 from './util/base64url.js';\nexport { base64url_1 as base64url };\n", "/**\n *\n *\n * This module contains functions and types\n * to encode and decode {@link https://authjs.dev/concepts/session-strategies#jwt JWT}s\n * issued and used by Auth.js.\n *\n * The JWT issued by Auth.js is _encrypted by default_, using the _A256GCM_ algorithm ({@link https://www.rfc-editor.org/rfc/rfc7516 JWE}).\n * It uses the `AUTH_SECRET` environment variable to derive a sufficient encryption key.\n *\n * :::info Note\n * Auth.js JWTs are meant to be used by the same app that issued them.\n * If you need JWT authentication for your third-party API, you should rely on your Identity Provider instead.\n * :::\n *\n * ## Installation\n *\n * ```bash npm2yarn2pnpm\n * npm install @auth/core\n * ```\n *\n * You can then import this submodule from `@auth/core/jwt`.\n *\n * ## Usage\n *\n * :::warning Warning\n * This module *will* be refactored/changed. We do not recommend relying on it right now.\n * :::\n *\n *\n * ## Resources\n *\n * - [What is a JWT session strategy](https://authjs.dev/concepts/session-strategies#jwt)\n * - [RFC7519 - JSON Web Token (JWT)](https://www.rfc-editor.org/rfc/rfc7519)\n *\n * @module jwt\n */\nimport { hkdf } from \"@panva/hkdf\";\nimport { EncryptJWT, jwtDecrypt } from \"jose\";\nimport { SessionStore } from \"./lib/cookie.js\";\nimport { MissingSecret } from \"./errors.js\";\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60; // 30 days\nconst now = () => (Date.now() / 1000) | 0;\n/** Issues a JWT. By default, the JWT is encrypted using \"A256GCM\". */\nexport async function encode(params) {\n    const { token = {}, secret, maxAge = DEFAULT_MAX_AGE } = params;\n    const encryptionSecret = await getDerivedEncryptionKey(secret);\n    // @ts-expect-error `jose` allows any object as payload.\n    return await new EncryptJWT(token)\n        .setProtectedHeader({ alg: \"dir\", enc: \"A256GCM\" })\n        .setIssuedAt()\n        .setExpirationTime(now() + maxAge)\n        .setJti(crypto.randomUUID())\n        .encrypt(encryptionSecret);\n}\n/** Decodes a Auth.js issued JWT. */\nexport async function decode(params) {\n    const { token, secret } = params;\n    if (!token)\n        return null;\n    const encryptionSecret = await getDerivedEncryptionKey(secret);\n    const { payload } = await jwtDecrypt(token, encryptionSecret, {\n        clockTolerance: 15,\n    });\n    return payload;\n}\nexport async function getToken(params) {\n    const { req, secureCookie = process.env.NEXTAUTH_URL?.startsWith(\"https://\") ??\n        !!process.env.VERCEL, cookieName = secureCookie\n        ? \"__Secure-next-auth.session-token\"\n        : \"next-auth.session-token\", raw, decode: _decode = decode, logger = console, secret = process.env.AUTH_SECRET, } = params;\n    if (!req)\n        throw new Error(\"Must pass `req` to JWT getToken()\");\n    if (!secret)\n        throw new MissingSecret(\"Must pass `secret` if not set to JWT getToken()\");\n    const sessionStore = new SessionStore({ name: cookieName, options: { secure: secureCookie } }, \n    // @ts-expect-error\n    { cookies: req.cookies, headers: req.headers }, logger);\n    let token = sessionStore.value;\n    const authorizationHeader = req.headers instanceof Headers\n        ? req.headers.get(\"authorization\")\n        : req.headers.authorization;\n    if (!token && authorizationHeader?.split(\" \")[0] === \"Bearer\") {\n        const urlEncodedToken = authorizationHeader.split(\" \")[1];\n        token = decodeURIComponent(urlEncodedToken);\n    }\n    if (!token)\n        return null;\n    if (raw)\n        return token;\n    try {\n        return await _decode({ token, secret });\n    }\n    catch {\n        return null;\n    }\n}\nasync function getDerivedEncryptionKey(secret) {\n    return await hkdf(\"sha256\", secret, \"\", \"Auth.js Generated Encryption Key\", 32);\n}\n", "/**\n * Get callback URL based on query param / cookie + validation,\n * and add it to `req.options.callbackUrl`.\n */\nexport async function createCallbackUrl({ options, paramValue, cookieValue, }) {\n    const { url, callbacks } = options;\n    let callbackUrl = url.origin;\n    if (paramValue) {\n        // If callbackUrl form field or query parameter is passed try to use it if allowed\n        callbackUrl = await callbacks.redirect({\n            url: paramValue,\n            baseUrl: url.origin,\n        });\n    }\n    else if (cookieValue) {\n        // If no callbackUrl specified, try using the value from the cookie if allowed\n        callbackUrl = await callbacks.redirect({\n            url: cookieValue,\n            baseUrl: url.origin,\n        });\n    }\n    return {\n        callbackUrl,\n        // Save callback URL in a cookie so that it can be used for subsequent requests in signin/signout/callback flow\n        callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined,\n    };\n}\n", "/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "import { parse as parseCookie, serialize } from \"cookie\";\nimport { UnknownAction } from \"../errors.js\";\nasync function getBody(req) {\n    if (!(\"body\" in req) || !req.body || req.method !== \"POST\")\n        return;\n    const contentType = req.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n        return await req.json();\n    }\n    else if (contentType?.includes(\"application/x-www-form-urlencoded\")) {\n        const params = new URLSearchParams(await req.text());\n        return Object.fromEntries(params);\n    }\n}\nconst actions = [\n    \"providers\",\n    \"session\",\n    \"csrf\",\n    \"signin\",\n    \"signout\",\n    \"callback\",\n    \"verify-request\",\n    \"error\",\n];\nexport async function toInternalRequest(req) {\n    try {\n        // TODO: url.toString() should not include action and providerId\n        // see init.ts\n        const url = new URL(req.url.replace(/\\/$/, \"\"));\n        // FIXME: Upstream issue in Next.js, pathname segments get included as part of the query string\n        url.searchParams.delete(\"nextauth\");\n        const { pathname } = url;\n        const action = actions.find((a) => pathname.includes(a));\n        if (!action) {\n            throw new UnknownAction(`Cannot detect action in pathname (${pathname}).`);\n        }\n        if (req.method !== \"GET\" && req.method !== \"POST\") {\n            throw new UnknownAction(\"Only GET and POST requests are supported.\");\n        }\n        const providerIdOrAction = pathname.split(\"/\").pop();\n        let providerId;\n        if (providerIdOrAction &&\n            !action.includes(providerIdOrAction) &&\n            [\"signin\", \"callback\"].includes(action)) {\n            providerId = providerIdOrAction;\n        }\n        return {\n            url,\n            action,\n            providerId,\n            method: req.method,\n            headers: Object.fromEntries(req.headers),\n            body: req.body ? await getBody(req) : undefined,\n            cookies: parseCookie(req.headers.get(\"cookie\") ?? \"\") ?? {},\n            error: url.searchParams.get(\"error\") ?? undefined,\n            query: Object.fromEntries(url.searchParams),\n        };\n    }\n    catch (e) {\n        return e;\n    }\n}\nexport function toRequest(request) {\n    return new Request(request.url, {\n        headers: request.headers,\n        method: request.method,\n        body: request.method === \"POST\"\n            ? JSON.stringify(request.body ?? {})\n            : undefined,\n    });\n}\nexport function toResponse(res) {\n    const headers = new Headers(res.headers);\n    res.cookies?.forEach((cookie) => {\n        const { name, value, options } = cookie;\n        const cookieHeader = serialize(name, value, options);\n        if (headers.has(\"Set-Cookie\"))\n            headers.append(\"Set-Cookie\", cookieHeader);\n        else\n            headers.set(\"Set-Cookie\", cookieHeader);\n    });\n    let body = res.body;\n    if (headers.get(\"content-type\") === \"application/json\")\n        body = JSON.stringify(res.body);\n    else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\")\n        body = new URLSearchParams(res.body).toString();\n    const status = res.redirect ? 302 : res.status ?? 200;\n    const response = new Response(body, { headers, status });\n    if (res.redirect)\n        response.headers.set(\"Location\", res.redirect);\n    return response;\n}\n/** Web compatible method to create a hash, using SHA256 */\nexport async function createHash(message) {\n    const data = new TextEncoder().encode(message);\n    const hash = await crypto.subtle.digest(\"SHA-256\", data);\n    return Array.from(new Uint8Array(hash))\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\")\n        .toString();\n}\n/** Web compatible method to create a random string of a given length */\nexport function randomString(size) {\n    const i2hex = (i) => (\"0\" + i.toString(16)).slice(-2);\n    const r = (a, i) => a + i2hex(i);\n    const bytes = crypto.getRandomValues(new Uint8Array(size));\n    return Array.from(bytes).reduce(r, \"\");\n}\n", "import { createHash, randomString } from \"./web.js\";\n/**\n * Ensure CSRF Token cookie is set for any subsequent requests.\n * Used as part of the strategy for mitigation for CSRF tokens.\n *\n * Creates a cookie like 'next-auth.csrf-token' with the value 'token|hash',\n * where 'token' is the CSRF token and 'hash' is a hash made of the token and\n * the secret, and the two values are joined by a pipe '|'. By storing the\n * value and the hash of the value (with the secret used as a salt) we can\n * verify the cookie was set by the server and not by a malicious attacker.\n *\n * For more details, see the following OWASP links:\n * https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\n * https://owasp.org/www-chapter-london/assets/slides/David_Johansson-Double_Defeat_of_Double-Submit_Cookie.pdf\n */\nexport async function createCSRFToken({ options, cookieValue, isPost, bodyValue, }) {\n    if (cookieValue) {\n        const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n        const expectedCsrfTokenHash = await createHash(`${csrfToken}${options.secret}`);\n        if (csrfTokenHash === expectedCsrfTokenHash) {\n            // If hash matches then we trust the CSRF token value\n            // If this is a POST request and the CSRF Token in the POST request matches\n            // the cookie we have already verified is the one we have set, then the token is verified!\n            const csrfTokenVerified = isPost && csrfToken === bodyValue;\n            return { csrfTokenVerified, csrfToken };\n        }\n    }\n    // New CSRF token\n    const csrfToken = randomString(32);\n    const csrfTokenHash = await createHash(`${csrfToken}${options.secret}`);\n    const cookie = `${csrfToken}|${csrfTokenHash}`;\n    return { cookie, csrfToken };\n}\n", "export const defaultCallbacks = {\n    signIn() {\n        return true;\n    },\n    redirect({ url, baseUrl }) {\n        if (url.startsWith(\"/\"))\n            return `${baseUrl}${url}`;\n        else if (new URL(url).origin === baseUrl)\n            return url;\n        return baseUrl;\n    },\n    session({ session }) {\n        return session;\n    },\n    jwt({ token }) {\n        return token;\n    },\n};\n", "// Source: https://stackoverflow.com/a/34749873/5364135\n/** Simple object check */\nfunction isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n/** Deep merge two objects */\nexport function merge(target, ...sources) {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key])\n                    Object.assign(target, { [key]: {} });\n                merge(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    return merge(target, ...sources);\n}\n", "import { OAuthProfileParseError } from \"../errors.js\";\nimport { merge } from \"./utils/merge.js\";\n/**\n * Adds `signinUrl` and `callbackUrl` to each provider\n * and deep merge user-defined options.\n */\nexport default function parseProviders(params) {\n    const { url, providerId, options } = params;\n    const providers = params.providers.map((p) => {\n        const provider = typeof p === \"function\" ? p() : p;\n        const { options: userOptions, ...defaults } = provider;\n        const id = (userOptions?.id ?? defaults.id);\n        const merged = merge(defaults, userOptions, {\n            signinUrl: `${url}/signin/${id}`,\n            callbackUrl: `${url}/callback/${id}`,\n        });\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            merged.redirectProxyUrl ?? (merged.redirectProxyUrl = options.redirectProxyUrl);\n            return normalizeOAuth(merged);\n        }\n        return merged;\n    });\n    return {\n        providers,\n        provider: providers.find(({ id }) => id === providerId),\n    };\n}\n// TODO: Also add discovery here, if some endpoints/config are missing.\n// We should return both a client and authorization server config.\nfunction normalizeOAuth(c) {\n    if (c.issuer)\n        c.wellKnown ?? (c.wellKnown = `${c.issuer}/.well-known/openid-configuration`);\n    const authorization = normalizeEndpoint(c.authorization, c.issuer);\n    if (authorization && !authorization.url?.searchParams.has(\"scope\")) {\n        authorization.url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    const token = normalizeEndpoint(c.token, c.issuer);\n    const userinfo = normalizeEndpoint(c.userinfo, c.issuer);\n    const checks = c.checks ?? [\"pkce\"];\n    if (c.redirectProxyUrl) {\n        if (!checks.includes(\"state\"))\n            checks.push(\"state\");\n        c.redirectProxyUrl = `${c.redirectProxyUrl}/callback/${c.id}`;\n    }\n    return {\n        ...c,\n        authorization,\n        token,\n        checks,\n        userinfo,\n        profile: c.profile ?? defaultProfile,\n        account: c.account ?? defaultAccount,\n    };\n}\n/**\n * Returns basic user profile from the userinfo response/`id_token` claims.\n * @see https://authjs.dev/reference/adapters#user\n * @see https://openid.net/specs/openid-connect-core-1_0.html#IDToken\n * @see https://openid.net/specs/openid-connect-core-1_0.html#UserInfo\n */\nconst defaultProfile = (profile) => {\n    const id = profile.sub ?? profile.id;\n    if (!id)\n        throw new OAuthProfileParseError(\"Missing user id\");\n    return stripUndefined({\n        id: id.toString(),\n        name: profile.name ?? profile.nickname ?? profile.preferred_username,\n        email: profile.email,\n        image: profile.picture,\n    });\n};\n/**\n * Returns basic OAuth/OIDC values from the token response.\n * @see https://www.ietf.org/rfc/rfc6749.html#section-5.1\n * @see https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\n * @see https://authjs.dev/reference/adapters#account\n */\nconst defaultAccount = (account) => {\n    return stripUndefined({\n        access_token: account.access_token,\n        id_token: account.id_token,\n        refresh_token: account.refresh_token,\n        expires_at: account.expires_at,\n        scope: account.scope,\n        token_type: account.token_type,\n        session_state: account.session_state,\n    });\n};\nfunction stripUndefined(o) {\n    const result = {};\n    for (let [k, v] of Object.entries(o))\n        v !== undefined && (result[k] = v);\n    return result;\n}\nfunction normalizeEndpoint(e, issuer) {\n    if (!e && issuer)\n        return;\n    if (typeof e === \"string\") {\n        return { url: new URL(e) };\n    }\n    // If e.url is undefined, it's because the provider config\n    // assumes that we will use the issuer endpoint.\n    // The existence of either e.url or provider.issuer is checked in\n    // assert.ts. We fallback to \"https://authjs.dev\" to be able to pass around\n    // a valid URL even if the user only provided params.\n    // NOTE: This need to be checked when constructing the URL\n    // for the authorization, token and userinfo endpoints.\n    const url = new URL(e?.url ?? \"https://authjs.dev\");\n    if (e?.params != null) {\n        for (let [key, value] of Object.entries(e.params)) {\n            if (key === \"claims\")\n                value = JSON.stringify(value);\n            url.searchParams.set(key, String(value));\n        }\n    }\n    return { url, request: e?.request, conform: e?.conform };\n}\n", "const red = \"\\x1b[31m\";\nconst yellow = \"\\x1b[33m\";\nconst grey = \"\\x1b[90m\";\nconst reset = \"\\x1b[0m\";\nexport const logger = {\n    error(error) {\n        const url = `https://errors.authjs.dev#${error.name.toLowerCase()}`;\n        console.error(`${red}[auth][error][${error.name}]${reset}:${error.message ? ` ${error.message}.` : \"\"} Read more at ${url}`);\n        if (error.cause) {\n            const { err, ...data } = error.cause;\n            console.error(`${red}[auth][cause]${reset}:`, err.stack);\n            console.error(`${red}[auth][details]${reset}:`, JSON.stringify(data, null, 2));\n        }\n        else if (error.stack) {\n            console.error(error.stack.replace(/.*/, \"\").substring(1));\n        }\n    },\n    warn(code) {\n        const url = `https://warnings.authjs.dev#${code}`;\n        console.warn(`${yellow}[auth][warn][${code}]${reset}`, `Read more: ${url}`);\n    },\n    debug(message, metadata) {\n        console.log(`${grey}[auth][debug]:${reset} ${message}`, JSON.stringify(metadata, null, 2));\n    },\n};\n/**\n * Override the built-in logger with user's implementation.\n * Any `undefined` level will use the default logger.\n */\nexport function setLogger(newLogger = {}, debug) {\n    // Turn off debug logging if `debug` isn't set to `true`\n    if (!debug)\n        logger.debug = () => { };\n    if (newLogger.error)\n        logger.error = newLogger.error;\n    if (newLogger.warn)\n        logger.warn = newLogger.warn;\n    if (newLogger.debug)\n        logger.debug = newLogger.debug;\n}\n", "/** Returns an `URL` like object to make requests/redirects from server-side */\nexport default function parseUrl(url) {\n    const defaultUrl = new URL(\"http://localhost:3000/api/auth\");\n    if (url && !url.toString().startsWith(\"http\")) {\n        url = `https://${url}`;\n    }\n    const _url = new URL(url ?? defaultUrl);\n    const path = (_url.pathname === \"/\" ? defaultUrl.pathname : _url.pathname)\n        // Remove trailing slash\n        .replace(/\\/$/, \"\");\n    const base = `${_url.origin}${path}`;\n    return {\n        origin: _url.origin,\n        host: _url.host,\n        path,\n        base,\n        toString: () => base,\n    };\n}\n", "import * as jwt from \"../jwt.js\";\nimport { createCallbackUrl } from \"./callback-url.js\";\nimport * as cookie from \"./cookie.js\";\nimport { createCSRFToken } from \"./csrf-token.js\";\nimport { defaultCallbacks } from \"./default-callbacks.js\";\nimport { AdapterError, EventError } from \"../errors.js\";\nimport parseProviders from \"./providers.js\";\nimport { logger } from \"./utils/logger.js\";\nimport parseUrl from \"./utils/parse-url.js\";\n/** Initialize all internal options and cookies. */\nexport async function init({ authOptions, providerId, action, url: reqUrl, cookies: reqCookies, callbackUrl: reqCallbackUrl, csrfToken: reqCsrfToken, csrfDisabled, isPost, }) {\n    // TODO: move this to web.ts\n    const parsed = parseUrl(reqUrl.origin +\n        reqUrl.pathname.replace(`/${action}`, \"\").replace(`/${providerId}`, \"\"));\n    const url = new URL(parsed.toString());\n    const { providers, provider } = parseProviders({\n        providers: authOptions.providers,\n        url,\n        providerId,\n        options: authOptions,\n    });\n    const maxAge = 30 * 24 * 60 * 60; // Sessions expire after 30 days of being idle by default\n    let isOnRedirectProxy = false;\n    if ((provider?.type === \"oauth\" || provider?.type === \"oidc\") &&\n        provider.redirectProxyUrl) {\n        try {\n            isOnRedirectProxy =\n                new URL(provider.redirectProxyUrl).origin === url.origin;\n        }\n        catch {\n            throw new TypeError(`redirectProxyUrl must be a valid URL. Received: ${provider.redirectProxyUrl}`);\n        }\n    }\n    // User provided options are overridden by other options,\n    // except for the options with special handling above\n    const options = {\n        debug: false,\n        pages: {},\n        theme: {\n            colorScheme: \"auto\",\n            logo: \"\",\n            brandColor: \"\",\n            buttonText: \"\",\n        },\n        // Custom options override defaults\n        ...authOptions,\n        // These computed settings can have values in userOptions but we override them\n        // and are request-specific.\n        url,\n        action,\n        // @ts-expect-errors\n        provider,\n        cookies: {\n            ...cookie.defaultCookies(authOptions.useSecureCookies ?? url.protocol === \"https:\"),\n            // Allow user cookie options to override any cookie settings above\n            ...authOptions.cookies,\n        },\n        providers,\n        // Session options\n        session: {\n            // If no adapter specified, force use of JSON Web Tokens (stateless)\n            strategy: authOptions.adapter ? \"database\" : \"jwt\",\n            maxAge,\n            updateAge: 24 * 60 * 60,\n            generateSessionToken: () => crypto.randomUUID(),\n            ...authOptions.session,\n        },\n        // JWT options\n        jwt: {\n            // Asserted in assert.ts\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            secret: authOptions.secret,\n            maxAge: authOptions.session?.maxAge ?? maxAge,\n            encode: jwt.encode,\n            decode: jwt.decode,\n            ...authOptions.jwt,\n        },\n        // Event messages\n        events: eventsErrorHandler(authOptions.events ?? {}, logger),\n        adapter: adapterErrorHandler(authOptions.adapter, logger),\n        // Callback functions\n        callbacks: { ...defaultCallbacks, ...authOptions.callbacks },\n        logger,\n        callbackUrl: url.origin,\n        isOnRedirectProxy,\n    };\n    // Init cookies\n    const cookies = [];\n    if (!csrfDisabled) {\n        const { csrfToken, cookie: csrfCookie, csrfTokenVerified, } = await createCSRFToken({\n            options,\n            cookieValue: reqCookies?.[options.cookies.csrfToken.name],\n            isPost,\n            bodyValue: reqCsrfToken,\n        });\n        options.csrfToken = csrfToken;\n        options.csrfTokenVerified = csrfTokenVerified;\n        if (csrfCookie) {\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: csrfCookie,\n                options: options.cookies.csrfToken.options,\n            });\n        }\n    }\n    const { callbackUrl, callbackUrlCookie } = await createCallbackUrl({\n        options,\n        cookieValue: reqCookies?.[options.cookies.callbackUrl.name],\n        paramValue: reqCallbackUrl,\n    });\n    options.callbackUrl = callbackUrl;\n    if (callbackUrlCookie) {\n        cookies.push({\n            name: options.cookies.callbackUrl.name,\n            value: callbackUrlCookie,\n            options: options.cookies.callbackUrl.options,\n        });\n    }\n    return { options, cookies };\n}\n/** Wraps an object of methods and adds error handling. */\nfunction eventsErrorHandler(methods, logger) {\n    return Object.keys(methods).reduce((acc, name) => {\n        acc[name] = async (...args) => {\n            try {\n                const method = methods[name];\n                return await method(...args);\n            }\n            catch (e) {\n                logger.error(new EventError(e));\n            }\n        };\n        return acc;\n    }, {});\n}\n/** Handles adapter induced errors. */\nfunction adapterErrorHandler(adapter, logger) {\n    if (!adapter)\n        return;\n    return Object.keys(adapter).reduce((acc, name) => {\n        acc[name] = async (...args) => {\n            try {\n                logger.debug(`adapter_${name}`, { args });\n                const method = adapter[name];\n                return await method(...args);\n            }\n            catch (e) {\n                const error = new AdapterError(e);\n                logger.error(error);\n                throw error;\n            }\n        };\n        return acc;\n    }, {});\n}\n", "import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\nexport const VOID_ELEMENTS = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;\nexport const UNSAFE_NAME = /[\\s\\n\\\\/='\"\\0<>]/;\nexport const XLINK = /^xlink:?./;\n\nconst ENCODED_ENTITIES = /[\"&<]/;\n\nexport function encodeEntities(str) {\n\t// Ensure we're always parsing and returning a string:\n\tstr += '';\n\n\t// Skip all work for strings with no entities needing encoding:\n\tif (ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out += str.slice(last, i);\n\t\tout += ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out += str.slice(last, i);\n\treturn out;\n}\n\nexport let indent = (s, char) =>\n\tString(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) =>\n\tString(s).length > (length || 40) ||\n\t(!ignoreLines && String(s).indexOf('\\n') !== -1) ||\n\tString(s).indexOf('<') !== -1;\n\nconst JS_TO_CSS = {};\n\nconst CSS_REGEX = /([A-Z])/g;\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val != null && val !== '') {\n\t\t\tif (str) str += ' ';\n\t\t\t// str += jsToCss(prop);\n\t\t\tstr +=\n\t\t\t\tprop[0] == '-'\n\t\t\t\t\t? prop\n\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t  (JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$1').toLowerCase());\n\n\t\t\tif (typeof val === 'number' && IS_NON_DIMENSIONAL.test(prop) === false) {\n\t\t\t\tstr = str + ': ' + val + 'px;';\n\t\t\t} else {\n\t\t\t\tstr = str + ': ' + val + ';';\n\t\t\t}\n\t\t}\n\t}\n\treturn str || undefined;\n}\n\n/**\n * Get flattened children from the children prop\n * @param {Array} accumulator\n * @param {any} children A `props.children` opaque object.\n * @returns {Array} accumulator\n * @private\n */\nexport function getChildren(accumulator, children) {\n\tif (Array.isArray(children)) {\n\t\tchildren.reduce(getChildren, accumulator);\n\t} else if (children != null && children !== false) {\n\t\taccumulator.push(children);\n\t}\n\treturn accumulator;\n}\n\nfunction markAsDirty() {\n\tthis.__d = true;\n}\n\nexport function createComponent(vnode, context) {\n\treturn {\n\t\t__v: vnode,\n\t\tcontext,\n\t\tprops: vnode.props,\n\t\t// silently drop state updates\n\t\tsetState: markAsDirty,\n\t\tforceUpdate: markAsDirty,\n\t\t__d: true,\n\t\t// hooks\n\t\t__h: []\n\t};\n}\n\n// Necessary for createContext api. Setting this property will pass\n// the context value as `this.context` just for this component.\nexport function getContext(nodeName, context) {\n\tlet cxType = nodeName.contextType;\n\tlet provider = cxType && context[cxType.__c];\n\treturn cxType != null\n\t\t? provider\n\t\t\t? provider.props.value\n\t\t\t: cxType.__\n\t\t: context;\n}\n", "import {\n\tencodeEntities,\n\tindent,\n\tisLargeString,\n\tstyleObjToCss,\n\tgetChildren,\n\tcreateComponent,\n\tgetContext,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, Fragment } from 'preact';\n\n// components without names, kept as a hash for later comparison to return consistent UnnamedComponentXX names.\nconst UNNAMED = [];\n\nexport function _renderToStringPretty(\n\tvnode,\n\tcontext,\n\topts,\n\tinner,\n\tisSvgMode,\n\tselectValue\n) {\n\tif (vnode == null || typeof vnode === 'boolean') {\n\t\treturn '';\n\t}\n\n\t// #text nodes\n\tif (typeof vnode !== 'object') {\n\t\treturn encodeEntities(vnode);\n\t}\n\n\tlet pretty = opts.pretty,\n\t\tindentChar = pretty && typeof pretty === 'string' ? pretty : '\\t';\n\n\tif (Array.isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\tif (pretty && i > 0) rendered = rendered + '\\n';\n\t\t\trendered =\n\t\t\t\trendered +\n\t\t\t\t_renderToStringPretty(\n\t\t\t\t\tvnode[i],\n\t\t\t\t\tcontext,\n\t\t\t\t\topts,\n\t\t\t\t\tinner,\n\t\t\t\t\tisSvgMode,\n\t\t\t\t\tselectValue\n\t\t\t\t);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\tlet nodeName = vnode.type,\n\t\tprops = vnode.props,\n\t\tisComponent = false;\n\n\t// components\n\tif (typeof nodeName === 'function') {\n\t\tisComponent = true;\n\t\tif (opts.shallow && (inner || opts.renderRootComponent === false)) {\n\t\t\tnodeName = getComponentName(nodeName);\n\t\t} else if (nodeName === Fragment) {\n\t\t\tconst children = [];\n\t\t\tgetChildren(children, vnode.props.children);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\tchildren,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t} else {\n\t\t\tlet rendered;\n\n\t\t\tlet c = (vnode.__c = createComponent(vnode, context));\n\n\t\t\t// options._diff\n\t\t\tif (options.__b) options.__b(vnode);\n\n\t\t\t// options._render\n\t\t\tlet renderHook = options.__r;\n\n\t\t\tif (\n\t\t\t\t!nodeName.prototype ||\n\t\t\t\ttypeof nodeName.prototype.render !== 'function'\n\t\t\t) {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// If a hook invokes setState() to invalidate the component during rendering,\n\t\t\t\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t\t\t\t// Note:\n\t\t\t\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t\t\t\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\t\t\t\tlet count = 0;\n\t\t\t\twhile (c.__d && count++ < 25) {\n\t\t\t\t\tc.__d = false;\n\n\t\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\t\t// stateless functional components\n\t\t\t\t\trendered = nodeName.call(vnode.__c, props, cctx);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// c = new nodeName(props, context);\n\t\t\t\tc = vnode.__c = new nodeName(props, cctx);\n\t\t\t\tc.__v = vnode;\n\t\t\t\t// turn off stateful re-rendering:\n\t\t\t\tc._dirty = c.__d = true;\n\t\t\t\tc.props = props;\n\t\t\t\tif (c.state == null) c.state = {};\n\n\t\t\t\tif (c._nextState == null && c.__s == null) {\n\t\t\t\t\tc._nextState = c.__s = c.state;\n\t\t\t\t}\n\n\t\t\t\tc.context = cctx;\n\t\t\t\tif (nodeName.getDerivedStateFromProps)\n\t\t\t\t\tc.state = Object.assign(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tc.state,\n\t\t\t\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t\t\t\t);\n\t\t\t\telse if (c.componentWillMount) {\n\t\t\t\t\tc.componentWillMount();\n\n\t\t\t\t\t// If the user called setState in cWM we need to flush pending,\n\t\t\t\t\t// state updates. This is the same behaviour in React.\n\t\t\t\t\tc.state =\n\t\t\t\t\t\tc._nextState !== c.state\n\t\t\t\t\t\t\t? c._nextState\n\t\t\t\t\t\t\t: c.__s !== c.state\n\t\t\t\t\t\t\t? c.__s\n\t\t\t\t\t\t\t: c.state;\n\t\t\t\t}\n\n\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\trendered = c.render(c.props, c.state, c.context);\n\t\t\t}\n\n\t\t\tif (c.getChildContext) {\n\t\t\t\tcontext = Object.assign({}, context, c.getChildContext());\n\t\t\t}\n\n\t\t\tif (options.diffed) options.diffed(vnode);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\trendered,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t}\n\t}\n\n\t// render JSX to HTML\n\tlet s = '<' + nodeName,\n\t\tpropChildren,\n\t\thtml;\n\n\tif (props) {\n\t\tlet attrs = Object.keys(props);\n\n\t\t// allow sorting lexicographically for more determinism (useful for tests, such as via preact-jsx-chai)\n\t\tif (opts && opts.sortAttributes === true) attrs.sort();\n\n\t\tfor (let i = 0; i < attrs.length; i++) {\n\t\t\tlet name = attrs[i],\n\t\t\t\tv = props[name];\n\t\t\tif (name === 'children') {\n\t\t\t\tpropChildren = v;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tif (\n\t\t\t\t!(opts && opts.allAttributes) &&\n\t\t\t\t(name === 'key' ||\n\t\t\t\t\tname === 'ref' ||\n\t\t\t\t\tname === '__self' ||\n\t\t\t\t\tname === '__source')\n\t\t\t)\n\t\t\t\tcontinue;\n\n\t\t\tif (name === 'defaultValue') {\n\t\t\t\tname = 'value';\n\t\t\t} else if (name === 'defaultChecked') {\n\t\t\t\tname = 'checked';\n\t\t\t} else if (name === 'defaultSelected') {\n\t\t\t\tname = 'selected';\n\t\t\t} else if (name === 'className') {\n\t\t\t\tif (typeof props.class !== 'undefined') continue;\n\t\t\t\tname = 'class';\n\t\t\t} else if (isSvgMode && XLINK.test(name)) {\n\t\t\t\tname = name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t\t\t}\n\n\t\t\tif (name === 'htmlFor') {\n\t\t\t\tif (props.for) continue;\n\t\t\t\tname = 'for';\n\t\t\t}\n\n\t\t\tif (name === 'style' && v && typeof v === 'object') {\n\t\t\t\tv = styleObjToCss(v);\n\t\t\t}\n\n\t\t\t// always use string values instead of booleans for aria attributes\n\t\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\t\tif (name[0] === 'a' && name['1'] === 'r' && typeof v === 'boolean') {\n\t\t\t\tv = String(v);\n\t\t\t}\n\n\t\t\tlet hooked =\n\t\t\t\topts.attributeHook &&\n\t\t\t\topts.attributeHook(name, v, context, opts, isComponent);\n\t\t\tif (hooked || hooked === '') {\n\t\t\t\ts = s + hooked;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (nodeName === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tpropChildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\t// in non-xml mode, allow boolean attributes\n\t\t\t\t\tif (!opts || !opts.xml) {\n\t\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (nodeName === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\tnodeName === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\ttypeof props.selected === 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ` selected`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ` ${name}=\"${encodeEntities(v)}\"`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// account for >1 multiline attribute\n\tif (pretty) {\n\t\tlet sub = s.replace(/\\n\\s*/, ' ');\n\t\tif (sub !== s && !~sub.indexOf('\\n')) s = sub;\n\t\telse if (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t}\n\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(nodeName))\n\t\tthrow new Error(`${nodeName} is not a valid HTML tag name in ${s}`);\n\n\tlet isVoid =\n\t\tVOID_ELEMENTS.test(nodeName) ||\n\t\t(opts.voidElements && opts.voidElements.test(nodeName));\n\tlet pieces = [];\n\n\tlet children;\n\tif (html) {\n\t\t// if multiline, indent.\n\t\tif (pretty && isLargeString(html)) {\n\t\t\thtml = '\\n' + indentChar + indent(html, indentChar);\n\t\t}\n\t\ts = s + html;\n\t} else if (\n\t\tpropChildren != null &&\n\t\tgetChildren((children = []), propChildren).length\n\t) {\n\t\tlet hasLarge = pretty && ~s.indexOf('\\n');\n\t\tlet lastWasText = false;\n\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\t\tnodeName === 'svg'\n\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t: nodeName === 'foreignObject'\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: isSvgMode,\n\t\t\t\t\tret = _renderToStringPretty(\n\t\t\t\t\t\tchild,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\topts,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tchildSvgMode,\n\t\t\t\t\t\tselectValue\n\t\t\t\t\t);\n\n\t\t\t\tif (pretty && !hasLarge && isLargeString(ret)) hasLarge = true;\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tif (pretty) {\n\t\t\t\t\t\tlet isText = ret.length > 0 && ret[0] != '<';\n\n\t\t\t\t\t\t// We merge adjacent text nodes, otherwise each piece would be printed\n\t\t\t\t\t\t// on a new line.\n\t\t\t\t\t\tif (lastWasText && isText) {\n\t\t\t\t\t\t\tpieces[pieces.length - 1] += ret;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlastWasText = isText;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (pretty && hasLarge) {\n\t\t\tfor (let i = pieces.length; i--; ) {\n\t\t\t\tpieces[i] = '\\n' + indentChar + indent(pieces[i], indentChar);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pieces.length || html) {\n\t\ts = s + pieces.join('');\n\t} else if (opts && opts.xml) {\n\t\treturn s.substring(0, s.length - 1) + ' />';\n\t}\n\n\tif (isVoid && !children && !html) {\n\t\ts = s.replace(/>$/, ' />');\n\t} else {\n\t\tif (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t\ts = s + `</${nodeName}>`;\n\t}\n\n\treturn s;\n}\n\nfunction getComponentName(component) {\n\treturn (\n\t\tcomponent.displayName ||\n\t\t(component !== Function && component.name) ||\n\t\tgetFallbackComponentName(component)\n\t);\n}\n\nfunction getFallbackComponentName(component) {\n\tlet str = Function.prototype.toString.call(component),\n\t\tname = (str.match(/^\\s*function\\s+([^( ]+)/) || '')[1];\n\tif (!name) {\n\t\t// search for an existing indexed name for the given component:\n\t\tlet index = -1;\n\t\tfor (let i = UNNAMED.length; i--; ) {\n\t\t\tif (UNNAMED[i] === component) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// not found, create a new indexed name:\n\t\tif (index < 0) {\n\t\t\tindex = UNNAMED.push(component) - 1;\n\t\t}\n\t\tname = `UnnamedComponent${index}`;\n\t}\n\treturn name;\n}\n", "import {\n\tencodeEntities,\n\tstyleObjToCss,\n\tgetContext,\n\tcreateComponent,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, Fragment } from 'preact';\nimport { _renderToStringPretty } from './pretty';\nimport {\n\tCOMMIT,\n\tCOMPONENT,\n\tDIFF,\n\tDIFFED,\n\tDIRTY,\n\tNEXT_STATE,\n\tRENDER,\n\tSKIP_EFFECTS,\n\tVNODE\n} from './constants';\n\n/** @typedef {import('preact').VNode} VNode */\n\nconst SHALLOW = { shallow: true };\n\n/** Render Preact JSX + Components to an HTML string.\n *\t@name render\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n *\t@param {Object} [options={}]\tRendering options\n *\t@param {Boolean} [options.shallow=false]\tIf `true`, renders nested Components as HTML elements (`<Foo a=\"b\" />`).\n *\t@param {Boolean} [options.xml=false]\t\tIf `true`, uses self-closing tags for elements without children.\n *\t@param {Boolean} [options.pretty=false]\t\tIf `true`, adds whitespace for readability\n *\t@param {RegExp|undefined} [options.voidElements]       RegeEx that matches elements that are considered void (self-closing)\n */\nrenderToString.render = renderToString;\n\n/** Only render elements, leaving Components inline as `<ComponentName ... />`.\n *\tThis method is just a convenience alias for `render(vnode, context, { shallow:true })`\n *\t@name shallow\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n */\nlet shallowRender = (vnode, context) => renderToString(vnode, context, SHALLOW);\n\nconst EMPTY_ARR = [];\nfunction renderToString(vnode, context, opts) {\n\tcontext = context || {};\n\n\t// Performance optimization: `renderToString` is synchronous and we\n\t// therefore don't execute any effects. To do that we pass an empty\n\t// array to `options._commit` (`__c`). But we can go one step further\n\t// and avoid a lot of dirty checks and allocations by setting\n\t// `options._skipEffects` (`__s`) too.\n\tconst previousSkipEffects = options[SKIP_EFFECTS];\n\toptions[SKIP_EFFECTS] = true;\n\n\tlet res;\n\tif (\n\t\topts &&\n\t\t(opts.pretty ||\n\t\t\topts.voidElements ||\n\t\t\topts.sortAttributes ||\n\t\t\topts.shallow ||\n\t\t\topts.allAttributes ||\n\t\t\topts.xml ||\n\t\t\topts.attributeHook)\n\t) {\n\t\tres = _renderToStringPretty(vnode, context, opts);\n\t} else {\n\t\tres = _renderToString(vnode, context, false, undefined);\n\t}\n\n\t// options._commit, we don't schedule any effects in this library right now,\n\t// so we can pass an empty queue to this hook.\n\tif (options[COMMIT]) options[COMMIT](vnode, EMPTY_ARR);\n\toptions[SKIP_EFFECTS] = previousSkipEffects;\n\tEMPTY_ARR.length = 0;\n\treturn res;\n}\n\nfunction renderFunctionComponent(vnode, context) {\n\tlet rendered,\n\t\tc = createComponent(vnode, context),\n\t\tcctx = getContext(vnode.type, context);\n\n\tvnode[COMPONENT] = c;\n\n\t// If a hook invokes setState() to invalidate the component during rendering,\n\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t// Note:\n\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\tlet renderHook = options[RENDER];\n\tlet count = 0;\n\twhile (c[DIRTY] && count++ < 25) {\n\t\tc[DIRTY] = false;\n\n\t\tif (renderHook) renderHook(vnode);\n\n\t\t// stateless functional components\n\t\trendered = vnode.type.call(c, vnode.props, cctx);\n\t}\n\n\treturn rendered;\n}\n\nfunction renderClassComponent(vnode, context) {\n\tlet nodeName = vnode.type,\n\t\tcctx = getContext(nodeName, context);\n\n\t// c = new nodeName(props, context);\n\tlet c = new nodeName(vnode.props, cctx);\n\tvnode[COMPONENT] = c;\n\tc[VNODE] = vnode;\n\t// turn off stateful re-rendering:\n\tc[DIRTY] = true;\n\tc.props = vnode.props;\n\tif (c.state == null) c.state = {};\n\n\tif (c[NEXT_STATE] == null) {\n\t\tc[NEXT_STATE] = c.state;\n\t}\n\n\tc.context = cctx;\n\tif (nodeName.getDerivedStateFromProps) {\n\t\tc.state = assign(\n\t\t\t{},\n\t\t\tc.state,\n\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t);\n\t} else if (c.componentWillMount) {\n\t\tc.componentWillMount();\n\n\t\t// If the user called setState in cWM we need to flush pending,\n\t\t// state updates. This is the same behaviour in React.\n\t\tc.state = c[NEXT_STATE] !== c.state ? c[NEXT_STATE] : c.state;\n\t}\n\n\tlet renderHook = options[RENDER];\n\tif (renderHook) renderHook(vnode);\n\n\treturn c.render(c.props, c.state, c.context);\n}\n\nfunction normalizePropName(name, isSvgMode) {\n\tif (name === 'className') {\n\t\treturn 'class';\n\t} else if (name === 'htmlFor') {\n\t\treturn 'for';\n\t} else if (name === 'defaultValue') {\n\t\treturn 'value';\n\t} else if (name === 'defaultChecked') {\n\t\treturn 'checked';\n\t} else if (name === 'defaultSelected') {\n\t\treturn 'selected';\n\t} else if (isSvgMode && XLINK.test(name)) {\n\t\treturn name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t}\n\n\treturn name;\n}\n\nfunction normalizePropValue(name, v) {\n\tif (name === 'style' && v != null && typeof v === 'object') {\n\t\treturn styleObjToCss(v);\n\t} else if (name[0] === 'a' && name[1] === 'r' && typeof v === 'boolean') {\n\t\t// always use string values instead of booleans for aria attributes\n\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\treturn String(v);\n\t}\n\n\treturn v;\n}\n\nconst isArray = Array.isArray;\nconst assign = Object.assign;\n\n/** The default export is an alias of `render()`. */\nfunction _renderToString(vnode, context, isSvgMode, selectValue) {\n\t// Ignore non-rendered VNodes/values\n\tif (vnode == null || vnode === true || vnode === false || vnode === '') {\n\t\treturn '';\n\t}\n\n\t// Text VNodes: escape as HTML\n\tif (typeof vnode !== 'object') {\n\t\treturn encodeEntities(vnode);\n\t}\n\n\t// Recurse into children / Arrays\n\tif (isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\trendered =\n\t\t\t\trendered + _renderToString(vnode[i], context, isSvgMode, selectValue);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\tif (options[DIFF]) options[DIFF](vnode);\n\n\tlet type = vnode.type,\n\t\tprops = vnode.props;\n\n\t// Invoke rendering on Components\n\tconst isComponent = typeof type === 'function';\n\tif (isComponent) {\n\t\tif (type === Fragment) {\n\t\t\treturn _renderToString(\n\t\t\t\tvnode.props.children,\n\t\t\t\tcontext,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t}\n\n\t\tlet rendered;\n\t\tif (type.prototype && typeof type.prototype.render === 'function') {\n\t\t\trendered = renderClassComponent(vnode, context);\n\t\t} else {\n\t\t\trendered = renderFunctionComponent(vnode, context);\n\t\t}\n\n\t\tlet component = vnode[COMPONENT];\n\t\tif (component.getChildContext) {\n\t\t\tcontext = assign({}, context, component.getChildContext());\n\t\t}\n\n\t\t// Recurse into children before invoking the after-diff hook\n\t\tconst str = _renderToString(rendered, context, isSvgMode, selectValue);\n\t\tif (options[DIFFED]) options[DIFFED](vnode);\n\t\treturn str;\n\t}\n\n\t// Serialize Element VNodes to HTML\n\tlet s = '<',\n\t\tchildren,\n\t\thtml;\n\n\ts = s + type;\n\n\tif (props) {\n\t\tchildren = props.children;\n\t\tfor (let name in props) {\n\t\t\tlet v = props[name];\n\n\t\t\tif (\n\t\t\t\tname === 'key' ||\n\t\t\t\tname === 'ref' ||\n\t\t\t\tname === '__self' ||\n\t\t\t\tname === '__source' ||\n\t\t\t\tname === 'children' ||\n\t\t\t\t(name === 'className' && 'class' in props) ||\n\t\t\t\t(name === 'htmlFor' && 'for' in props)\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tname = normalizePropName(name, isSvgMode);\n\t\t\tv = normalizePropValue(name, v);\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (type === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tchildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (type === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\ttype === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\t!('selected' in props)\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ' selected';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ' ' + name + '=\"' + encodeEntities(v) + '\"';\n\t\t\t}\n\t\t}\n\t}\n\n\tlet startElement = s;\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(type)) {\n\t\tthrow new Error(`${type} is not a valid HTML tag name in ${s}`);\n\t}\n\n\tlet pieces = '';\n\tlet hasChildren = false;\n\n\tif (html) {\n\t\tpieces = pieces + html;\n\t\thasChildren = true;\n\t} else if (typeof children === 'string') {\n\t\tpieces = pieces + encodeEntities(children);\n\t\thasChildren = true;\n\t} else if (isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\t\t\tlet ret = _renderToString(child, context, childSvgMode, selectValue);\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tpieces = pieces + ret;\n\t\t\t\t\thasChildren = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (children != null && children !== false && children !== true) {\n\t\tlet childSvgMode =\n\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\tlet ret = _renderToString(children, context, childSvgMode, selectValue);\n\n\t\t// Skip if we received an empty string\n\t\tif (ret) {\n\t\t\tpieces = pieces + ret;\n\t\t\thasChildren = true;\n\t\t}\n\t}\n\n\tif (options[DIFFED]) options[DIFFED](vnode);\n\n\tif (hasChildren) {\n\t\ts = s + pieces;\n\t} else if (VOID_ELEMENTS.test(type)) {\n\t\treturn startElement + ' />';\n\t}\n\n\treturn s + '</' + type + '>';\n}\n\n/** The default export is an alias of `render()`. */\n\nrenderToString.shallowRender = shallowRender;\n\nexport default renderToString;\n\nexport {\n\trenderToString as render,\n\trenderToString as renderToStaticMarkup,\n\trenderToString,\n\tshallowRender\n};\n", "import { options, Fragment } from 'preact';\n\n/** @typedef {import('preact').VNode} VNode */\n\nlet vnodeId = 0;\n\n/**\n * @fileoverview\n * This file exports various methods that implement Babel's \"automatic\" JSX runtime API:\n * - jsx(type, props, key)\n * - jsxs(type, props, key)\n * - jsxDEV(type, props, key, __source, __self)\n *\n * The implementation of createVNode here is optimized for performance.\n * Benchmarks: https://esbench.com/bench/5f6b54a0b4632100a7dcd2b3\n */\n\n/**\n * JSX.Element factory used by Babel's {runtime:\"automatic\"} JSX transform\n * @param {VNode['type']} type\n * @param {VNode['props']} props\n * @param {VNode['key']} [key]\n * @param {string} [__self]\n * @param {string} [__source]\n */\nfunction createVNode(type, props, key, __self, __source) {\n\t// We'll want to preserve `ref` in props to get rid of the need for\n\t// forwardRef components in the future, but that should happen via\n\t// a separate PR.\n\tlet normalizedProps = {},\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'ref') {\n\t\t\tref = props[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tconst vnode = {\n\t\ttype,\n\t\tprops: normalizedProps,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: --vnodeId,\n\t\t__source,\n\t\t__self\n\t};\n\n\t// If a Component VNode, check for and apply defaultProps.\n\t// Note: `type` is often a String, and can be `undefined` in development.\n\tif (typeof type === 'function' && (ref = type.defaultProps)) {\n\t\tfor (i in ref)\n\t\t\tif (typeof normalizedProps[i] === 'undefined') {\n\t\t\t\tnormalizedProps[i] = ref[i];\n\t\t\t}\n\t}\n\n\tif (options.vnode) options.vnode(vnode);\n\treturn vnode;\n}\n\nexport {\n\tcreateVNode as jsx,\n\tcreateVNode as jsxs,\n\tcreateVNode as jsxDEV,\n\tFragment\n};\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\n/** Renders an error page. */\nexport default function ErrorPage(props) {\n    const { url, error = \"default\", theme } = props;\n    const signinPageUrl = `${url}/signin`;\n    const errors = {\n        default: {\n            status: 200,\n            heading: \"Error\",\n            message: (_jsx(\"p\", { children: _jsx(\"a\", { className: \"site\", href: url?.origin, children: url?.host }) })),\n        },\n        configuration: {\n            status: 500,\n            heading: \"Server error\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"There is a problem with the server configuration.\" }), _jsx(\"p\", { children: \"Check the server logs for more information.\" })] })),\n        },\n        accessdenied: {\n            status: 403,\n            heading: \"Access Denied\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"You do not have permission to sign in.\" }), _jsx(\"p\", { children: _jsx(\"a\", { className: \"button\", href: signinPageUrl, children: \"Sign in\" }) })] })),\n        },\n        verification: {\n            status: 403,\n            heading: \"Unable to sign in\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"The sign in link is no longer valid.\" }), _jsx(\"p\", { children: \"It may have been used already or it may have expired.\" })] })),\n            signin: (_jsx(\"p\", { children: _jsx(\"a\", { className: \"button\", href: signinPageUrl, children: \"Sign in\" }) })),\n        },\n    };\n    const { status, heading, message, signin } = errors[error.toLowerCase()] ?? errors.default;\n    return {\n        status,\n        html: (_jsxs(\"div\", { className: \"error\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                        __html: `\n        :root {\n          --brand-color: ${theme?.brandColor}\n        }\n      `,\n                    } })), _jsxs(\"div\", { className: \"card\", children: [theme?.logo && _jsx(\"img\", { src: theme?.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: heading }), _jsx(\"div\", { className: \"message\", children: message }), signin] })] })),\n    };\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nconst signinErrors = {\n    default: \"Unable to sign in.\",\n    signin: \"Try signing in with a different account.\",\n    oauthsignin: \"Try signing in with a different account.\",\n    oauthcallbackerror: \"Try signing in with a different account.\",\n    oauthcreateaccount: \"Try signing in with a different account.\",\n    emailcreateaccount: \"Try signing in with a different account.\",\n    callback: \"Try signing in with a different account.\",\n    oauthaccountnotlinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    emailsignin: \"The e-mail could not be sent.\",\n    credentialssignin: \"Sign in failed. Check the details you provided are correct.\",\n    sessionrequired: \"Please sign in to access this page.\",\n};\nexport default function SigninPage(props) {\n    const { csrfToken, providers = [], callbackUrl, theme, email, error: errorType, } = props;\n    if (typeof document !== \"undefined\" && theme.brandColor) {\n        document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n    }\n    if (typeof document !== \"undefined\" && theme.buttonText) {\n        document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n    }\n    const error = errorType &&\n        (signinErrors[errorType.toLowerCase()] ??\n            signinErrors.default);\n    const logos = \"https://authjs.dev/img/providers\";\n    return (_jsxs(\"div\", { className: \"signin\", children: [theme.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `:root {--brand-color: ${theme.brandColor}}`,\n                } })), theme.buttonText && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [error && (_jsx(\"div\", { className: \"error\", children: _jsx(\"p\", { children: error }) })), providers.map((provider, i) => (_jsxs(\"div\", { className: \"provider\", children: [provider.type === \"oauth\" || provider.type === \"oidc\" ? (_jsxs(\"form\", { action: provider.signinUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), callbackUrl && (_jsx(\"input\", { type: \"hidden\", name: \"callbackUrl\", value: callbackUrl })), _jsxs(\"button\", { type: \"submit\", className: \"button\", style: {\n                                            \"--provider-bg\": provider.style?.bg ?? \"\",\n                                            \"--provider-dark-bg\": provider.style?.bgDark ?? \"\",\n                                            \"--provider-color\": provider.style?.text ?? \"\",\n                                            \"--provider-dark-color\": provider.style?.textDark ?? \"\",\n                                            gap: 8,\n                                        }, children: [provider.style?.logo && (_jsx(\"img\", { loading: \"lazy\", height: 24, width: 24, id: \"provider-logo\", src: `${provider.style.logo.startsWith(\"/\") ? logos : \"\"}${provider.style.logo}` })), provider.style?.logoDark && (_jsx(\"img\", { loading: \"lazy\", height: 24, width: 24, id: \"provider-logo-dark\", src: `${provider.style.logo.startsWith(\"/\") ? logos : \"\"}${provider.style.logoDark}` })), _jsxs(\"span\", { children: [\"Sign in with \", provider.name] })] })] })) : null, (provider.type === \"email\" || provider.type === \"credentials\") &&\n                                i > 0 &&\n                                providers[i - 1].type !== \"email\" &&\n                                providers[i - 1].type !== \"credentials\" && _jsx(\"hr\", {}), provider.type === \"email\" && (_jsxs(\"form\", { action: provider.signinUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), _jsx(\"label\", { className: \"section-header\", htmlFor: `input-email-for-${provider.id}-provider`, children: \"Email\" }), _jsx(\"input\", { id: `input-email-for-${provider.id}-provider`, autoFocus: true, type: \"email\", name: \"email\", value: email, placeholder: \"email@example.com\", required: true }), _jsxs(\"button\", { type: \"submit\", children: [\"Sign in with \", provider.name] })] })), provider.type === \"credentials\" && (_jsxs(\"form\", { action: provider.callbackUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), Object.keys(provider.credentials).map((credential) => {\n                                        return (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"section-header\", htmlFor: `input-${credential}-for-${provider.id}-provider`, children: provider.credentials[credential].label ?? credential }), _jsx(\"input\", { name: credential, id: `input-${credential}-for-${provider.id}-provider`, type: provider.credentials[credential].type ?? \"text\", placeholder: provider.credentials[credential].placeholder ?? \"\", ...provider.credentials[credential] })] }, `input-group-${provider.id}`));\n                                    }), _jsxs(\"button\", { id: \"submitButton\", type: \"submit\", children: [\"Sign in with \", provider.name] })] })), (provider.type === \"email\" || provider.type === \"credentials\") &&\n                                i + 1 < providers.length && _jsx(\"hr\", {})] }, provider.id)))] })] }));\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nexport default function SignoutPage(props) {\n    const { url, csrfToken, theme } = props;\n    return (_jsxs(\"div\", { className: \"signout\", children: [theme.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `,\n                } })), theme.buttonText && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [theme.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: \"Signout\" }), _jsx(\"p\", { children: \"Are you sure you want to sign out?\" }), _jsxs(\"form\", { action: `${url}/signout`, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), _jsx(\"button\", { id: \"submitButton\", type: \"submit\", children: \"Sign out\" })] })] })] }));\n}\n", "export default `:root {\n  --border-width: 1px;\n  --border-radius: 0.5rem;\n  --color-error: #c94b4b;\n  --color-info: #157efb;\n  --color-info-text: #fff;\n}\n\n.__next-auth-theme-auto,\n.__next-auth-theme-light {\n  --color-background: #ececec;\n  --color-background-card: #fff;\n  --color-text: #000;\n  --color-primary: #444;\n  --color-control-border: #bbb;\n  --color-button-active-background: #f9f9f9;\n  --color-button-active-border: #aaa;\n  --color-separator: #ccc;\n}\n\n.__next-auth-theme-dark {\n  --color-background: #161b22;\n  --color-background-card: #0d1117;\n  --color-text: #fff;\n  --color-primary: #ccc;\n  --color-control-border: #555;\n  --color-button-active-background: #060606;\n  --color-button-active-border: #666;\n  --color-separator: #444;\n}\n\n@media (prefers-color-scheme: dark) {\n  .__next-auth-theme-auto {\n    --color-background: #161b22;\n    --color-background-card: #0d1117;\n    --color-text: #fff;\n    --color-primary: #ccc;\n    --color-control-border: #555;\n    --color-button-active-background: #060606;\n    --color-button-active-border: #666;\n    --color-separator: #444;\n  }\n}\n\nbody {\n  background-color: var(--color-background);\n  margin: 0;\n  padding: 0;\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,\n    \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif,\n    \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n}\n\nh1 {\n  font-weight: 400;\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  color: var(--color-text);\n}\n\np {\n  color: var(--color-text);\n}\n\nform {\n  margin: 0;\n  padding: 0;\n}\n\nlabel {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.25rem;\n  display: block;\n  color: var(--color-text);\n}\n\ninput[type] {\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  border: var(--border-width) solid var(--color-control-border);\n  background: var(--color-background-card);\n  font-size: 1rem;\n  border-radius: var(--border-radius);\n  color: var(--color-text);\n}\n\ninput[type]:focus {\n    box-shadow: none;\n  }\n\np {\n  margin: 0 0 1.5rem 0;\n  padding: 0 1rem;\n  font-size: 1.1rem;\n  line-height: 2rem;\n}\n\na.button {\n  text-decoration: none;\n  line-height: 1rem;\n}\n\na.button:link,\n  a.button:visited {\n    background-color: var(--color-background);\n    color: var(--color-primary);\n  }\n\nbutton span {\n  flex-grow: 1;\n}\n\nbutton,\na.button {\n  margin: 0 0 0.75rem 0;\n  padding: 0.75rem 1rem;\n  color: var(--provider-color, var(--color-primary));\n  background-color: var(--provider-bg, var(--color-background-card));\n  font-size: 1.1rem;\n  min-height: 62px;\n  border-color: rgba(0, 0, 0, 0.1);\n  border-radius: var(--border-radius);\n  transition: all 0.1s ease-in-out;\n  font-weight: 500;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@media (max-width: 450px) {\n\nbutton,\na.button {\n    font-size: 0.9rem\n}\n  }\n\nbutton:hover, a.button:hover {\n    cursor: pointer;\n  }\n\nbutton:active, a.button:active {\n    cursor: pointer;\n  }\n\nbutton #provider-logo, a.button #provider-logo {\n    width: 25px;\n    display: block;\n  }\n\nbutton #provider-logo-dark, a.button #provider-logo-dark {\n    display: none;\n  }\n\n#submitButton {\n  color: var(--button-text-color, var(--color-info-text));\n  background-color: var(--brand-color, var(--color-info));\n  width: 100%;\n}\n\n@media (prefers-color-scheme: dark) {\n  button,\n  a.button {\n    color: var(--provider-dark-color, var(--color-primary));\n    background-color: var(--provider-dark-bg, var(--color-background));\n  }\n  #provider-logo {\n    display: none !important;\n  }\n  #provider-logo-dark {\n    width: 25px;\n    display: block !important;\n  }\n}\n\na.site {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-size: 1rem;\n  line-height: 2rem;\n}\n\na.site:hover {\n    text-decoration: underline;\n  }\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n}\n\n.page > div {\n    text-align: center;\n  }\n\n.error a.button {\n    display: inline-block;\n    padding-left: 2rem;\n    padding-right: 2rem;\n    margin-top: 0.5rem;\n  }\n\n.error .message {\n    margin-bottom: 1.5rem;\n  }\n\n.signin input[type=\"text\"] {\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n  }\n\n.signin hr {\n    display: block;\n    border: 0;\n    border-top: 1px solid var(--color-separator);\n    margin: 2rem auto 1rem auto;\n    overflow: visible;\n  }\n\n.signin hr::before {\n      content: \"or\";\n      background: var(--color-background-card);\n      color: #888;\n      padding: 0 0.4rem;\n      position: relative;\n      top: -0.7rem;\n    }\n\n.signin .error {\n    background: #f5f5f5;\n    font-weight: 500;\n    border-radius: 0.3rem;\n    background: var(--color-error);\n  }\n\n.signin .error p {\n      text-align: left;\n      padding: 0.5rem 1rem;\n      font-size: 0.9rem;\n      line-height: 1.2rem;\n      color: var(--color-info-text);\n    }\n\n.signin > div,\n  .signin form {\n    display: block;\n  }\n\n.signin > div input[type], .signin form input[type] {\n      margin-bottom: 0.5rem;\n    }\n\n.signin > div button, .signin form button {\n      width: 100%;\n    }\n\n.signin > div,\n  .signin form {\n\n    max-width: 300px;\n}\n\n.logo {\n  display: inline-block;\n  max-width: 150px;\n  margin-top: 20px;\n  margin-bottom: 25px;\n  max-height: 70px;\n}\n\n@media screen and (min-width: 450px) {\n\n.card {\n    width: 350px\n}\n  }\n\n@media screen and (max-width: 450px) {\n\n.card {\n    width: 200px\n}\n  }\n\n.card {\n  margin: 20px 0 20px 0;\n  background-color: var(--color-background-card);\n  border-radius: 30px;\n  padding: 20px 50px;\n}\n\n.card .header {\n    color: var(--color-primary);\n  }\n\n.section-header {\n  color: var(--color-text);\n}\n`;\n// Generated by `pnpm css`\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nexport default function VerifyRequestPage(props) {\n    const { url, theme } = props;\n    return (_jsxs(\"div\", { className: \"verify-request\", children: [theme.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [theme.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: \"Check your email\" }), _jsx(\"p\", { children: \"A sign in link has been sent to your email address.\" }), _jsx(\"p\", { children: _jsx(\"a\", { className: \"site\", href: url.origin, children: url.host }) })] })] }));\n}\n", "import { renderToString } from \"preact-render-to-string\";\nimport ErrorPage from \"./error.js\";\nimport SigninPage from \"./signin.js\";\nimport SignoutPage from \"./signout.js\";\nimport css from \"./styles.js\";\nimport VerifyRequestPage from \"./verify-request.js\";\nfunction send({ html, title, status, cookies, theme }) {\n    return {\n        cookies,\n        status,\n        headers: { \"Content-Type\": \"text/html\" },\n        body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${css}</style><title>${title}</title></head><body class=\"__next-auth-theme-${theme?.colorScheme ?? \"auto\"}\"><div class=\"page\">${renderToString(html)}</div></body></html>`,\n    };\n}\n/**\n * Unless the user defines their [own pages](https://authjs.dev/guides/basics/pages),\n * we render a set of default ones, using Preact SSR.\n */\nexport default function renderPage(params) {\n    const { url, theme, query, cookies } = params;\n    return {\n        signin(props) {\n            return send({\n                cookies,\n                theme,\n                html: SigninPage({\n                    csrfToken: params.csrfToken,\n                    // We only want to render providers\n                    providers: params.providers?.filter((provider) => \n                    // Always render oauth and email type providers\n                    [\"email\", \"oauth\", \"oidc\"].includes(provider.type) ||\n                        // Only render credentials type provider if credentials are defined\n                        (provider.type === \"credentials\" && provider.credentials) ||\n                        // Don't render other provider types\n                        false),\n                    callbackUrl: params.callbackUrl,\n                    theme,\n                    ...query,\n                    ...props,\n                }),\n                title: \"Sign In\",\n            });\n        },\n        signout(props) {\n            return send({\n                cookies,\n                theme,\n                html: SignoutPage({\n                    csrfToken: params.csrfToken,\n                    url,\n                    theme,\n                    ...props,\n                }),\n                title: \"Sign Out\",\n            });\n        },\n        verifyRequest(props) {\n            return send({\n                cookies,\n                theme,\n                html: VerifyRequestPage({ url, theme, ...props }),\n                title: \"Verify Request\",\n            });\n        },\n        error(props) {\n            return send({\n                cookies,\n                theme,\n                ...ErrorPage({ url, theme, ...props }),\n                title: \"Error\",\n            });\n        },\n    };\n}\n", "/**\n * Takes a number in seconds and returns the date in the future.\n * Optionally takes a second date parameter. In that case\n * the date in the future will be calculated from that date instead of now.\n */\nexport function fromDate(time, date = Date.now()) {\n    return new Date(date + time * 1000);\n}\n", "import { OAuthAccountNotLinked } from \"../errors.js\";\nimport { fromDate } from \"./utils/date.js\";\n/**\n * This function handles the complex flow of signing users in, and either creating,\n * linking (or not linking) accounts depending on if the user is currently logged\n * in, if they have account already and the authentication mechanism they are using.\n *\n * It prevents insecure behaviour, such as linking OAuth accounts unless a user is\n * signed in and authenticated with an existing valid account.\n *\n * All verification (e.g. OAuth flows or email address verification flows) are\n * done prior to this handler being called to avoid additional complexity in this\n * handler.\n */\nexport async function handleLogin(sessionToken, _profile, _account, options) {\n    // Input validation\n    if (!_account?.providerAccountId || !_account.type)\n        throw new Error(\"Missing or invalid provider account\");\n    if (![\"email\", \"oauth\", \"oidc\"].includes(_account.type))\n        throw new Error(\"Provider not supported\");\n    const { adapter, jwt, events, session: { strategy: sessionStrategy, generateSessionToken }, } = options;\n    // If no adapter is configured then we don't have a database and cannot\n    // persist data; in this mode we just return a dummy session object.\n    if (!adapter) {\n        return { user: _profile, account: _account };\n    }\n    const profile = _profile;\n    let account = _account;\n    const { createUser, updateUser, getUser, getUserByAccount, getUserByEmail, linkAccount, createSession, getSessionAndUser, deleteSession, } = adapter;\n    let session = null;\n    let user = null;\n    let isNewUser = false;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    if (sessionToken) {\n        if (useJwtSession) {\n            try {\n                session = await jwt.decode({ ...jwt, token: sessionToken });\n                if (session && \"sub\" in session && session.sub) {\n                    user = await getUser(session.sub);\n                }\n            }\n            catch {\n                // If session can't be verified, treat as no session\n            }\n        }\n        else {\n            const userAndSession = await getSessionAndUser(sessionToken);\n            if (userAndSession) {\n                session = userAndSession.session;\n                user = userAndSession.user;\n            }\n        }\n    }\n    if (account.type === \"email\") {\n        // If signing in with an email, check if an account with the same email address exists already\n        const userByEmail = await getUserByEmail(profile.email);\n        if (userByEmail) {\n            // If they are not already signed in as the same user, this flow will\n            // sign them out of the current session and sign them in as the new user\n            if (user?.id !== userByEmail.id && !useJwtSession && sessionToken) {\n                // Delete existing session if they are currently signed in as another user.\n                // This will switch user accounts for the session in cases where the user was\n                // already logged in with a different account.\n                await deleteSession(sessionToken);\n            }\n            // Update emailVerified property on the user object\n            user = await updateUser({ id: userByEmail.id, emailVerified: new Date() });\n            await events.updateUser?.({ user });\n        }\n        else {\n            const { id: _, ...newUser } = { ...profile, emailVerified: new Date() };\n            // Create user account if there isn't one for the email address already\n            user = await createUser(newUser);\n            await events.createUser?.({ user });\n            isNewUser = true;\n        }\n        // Create new session\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user, isNewUser };\n    }\n    // If signing in with OAuth account, check to see if the account exists already\n    const userByAccount = await getUserByAccount({\n        providerAccountId: account.providerAccountId,\n        provider: account.provider,\n    });\n    if (userByAccount) {\n        if (user) {\n            // If the user is already signed in with this account, we don't need to do anything\n            if (userByAccount.id === user.id) {\n                return { session, user, isNewUser };\n            }\n            // If the user is currently signed in, but the new account they are signing in\n            // with is already associated with another user, then we cannot link them\n            // and need to return an error.\n            throw new OAuthAccountNotLinked(\"The account is already associated with another user\", { provider: account.provider });\n        }\n        // If there is no active session, but the account being signed in with is already\n        // associated with a valid user then create session to sign the user in.\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: userByAccount.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user: userByAccount, isNewUser };\n    }\n    else {\n        const { provider: p } = options;\n        const { type, provider, providerAccountId, userId, ...tokenSet } = account;\n        const defaults = { providerAccountId, provider, type, userId };\n        account = Object.assign(p.account(tokenSet) ?? {}, defaults);\n        if (user) {\n            // If the user is already signed in and the OAuth account isn't already associated\n            // with another user account then we can go ahead and link the accounts safely.\n            await linkAccount({ ...account, userId: user.id });\n            await events.linkAccount?.({ user, account, profile });\n            // As they are already signed in, we don't need to do anything after linking them\n            return { session, user, isNewUser };\n        }\n        // If the user is not signed in and it looks like a new OAuth account then we\n        // check there also isn't an user account already associated with the same\n        // email address as the one in the OAuth profile.\n        //\n        // This step is often overlooked in OAuth implementations, but covers the following cases:\n        //\n        // 1. It makes it harder for someone to accidentally create two accounts.\n        //    e.g. by signin in with email, then again with an oauth account connected to the same email.\n        // 2. It makes it harder to hijack a user account using a 3rd party OAuth account.\n        //    e.g. by creating an oauth account then changing the email address associated with it.\n        //\n        // It's quite common for services to automatically link accounts in this case, but it's\n        // better practice to require the user to sign in *then* link accounts to be sure\n        // someone is not exploiting a problem with a third party OAuth service.\n        //\n        // OAuth providers should require email address verification to prevent this, but in\n        // practice that is not always the case; this helps protect against that.\n        const userByEmail = profile.email\n            ? await getUserByEmail(profile.email)\n            : null;\n        if (userByEmail) {\n            const provider = options.provider;\n            if (provider?.allowDangerousEmailAccountLinking) {\n                // If you trust the oauth provider to correctly verify email addresses, you can opt-in to\n                // account linking even when the user is not signed-in.\n                user = userByEmail;\n            }\n            else {\n                // We end up here when we don't have an account with the same [provider].id *BUT*\n                // we do already have an account with the same email address as the one in the\n                // OAuth profile the user has just tried to sign in with.\n                //\n                // We don't want to have two accounts with the same email address, and we don't\n                // want to link them in case it's not safe to do so, so instead we prompt the user\n                // to sign in via email to verify their identity and then link the accounts.\n                throw new OAuthAccountNotLinked(\"Another account already exists with the same e-mail address\", { provider: account.provider });\n            }\n        }\n        else {\n            // If the current user is not logged in and the profile isn't linked to any user\n            // accounts (by email or provider account id)...\n            //\n            // If no account matching the same [provider].id or .email exists, we can\n            // create a new account for the user, link it to the OAuth account and\n            // create a new session for them so they are signed in with it.\n            const { id: _, ...newUser } = { ...profile, emailVerified: null };\n            user = await createUser(newUser);\n        }\n        await events.createUser?.({ user });\n        await linkAccount({ ...account, userId: user.id });\n        await events.linkAccount?.({ user, account, profile });\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user, isNewUser: true };\n    }\n}\n", "let USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'oauth4webapi';\n    const VERSION = 'v2.3.0';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nexport const clockSkew = Symbol();\nexport const clockTolerance = Symbol();\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nfunction buf(input) {\n    if (typeof input === 'string') {\n        return encoder.encode(input);\n    }\n    return decoder.decode(input);\n}\nconst CHUNK_SIZE = 0x8000;\nfunction encodeBase64Url(input) {\n    if (input instanceof ArrayBuffer) {\n        input = new Uint8Array(input);\n    }\n    const arr = [];\n    for (let i = 0; i < input.byteLength; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join('')).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction decodeBase64Url(input) {\n    try {\n        const binary = atob(input.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, ''));\n        const bytes = new Uint8Array(binary.length);\n        for (let i = 0; i < binary.length; i++) {\n            bytes[i] = binary.charCodeAt(i);\n        }\n        return bytes;\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n}\nfunction b64u(input) {\n    if (typeof input === 'string') {\n        return decodeBase64Url(input);\n    }\n    return encodeBase64Url(input);\n}\nclass LRU {\n    constructor(maxSize) {\n        this.cache = new Map();\n        this._cache = new Map();\n        this.maxSize = maxSize;\n    }\n    get(key) {\n        let v = this.cache.get(key);\n        if (v) {\n            return v;\n        }\n        if ((v = this._cache.get(key))) {\n            this.update(key, v);\n            return v;\n        }\n        return undefined;\n    }\n    has(key) {\n        return this.cache.has(key) || this._cache.has(key);\n    }\n    set(key, value) {\n        if (this.cache.has(key)) {\n            this.cache.set(key, value);\n        }\n        else {\n            this.update(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (this.cache.has(key)) {\n            return this.cache.delete(key);\n        }\n        if (this._cache.has(key)) {\n            return this._cache.delete(key);\n        }\n        return false;\n    }\n    update(key, value) {\n        this.cache.set(key, value);\n        if (this.cache.size >= this.maxSize) {\n            this._cache = this.cache;\n            this.cache = new Map();\n        }\n    }\n}\nexport class UnsupportedOperationError extends Error {\n    constructor(message) {\n        super(message ?? 'operation not supported');\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class OperationProcessingError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst OPE = OperationProcessingError;\nconst dpopNonces = new LRU(100);\nfunction isCryptoKey(key) {\n    return key instanceof CryptoKey;\n}\nfunction isPrivateKey(key) {\n    return isCryptoKey(key) && key.type === 'private';\n}\nfunction isPublicKey(key) {\n    return isCryptoKey(key) && key.type === 'public';\n}\nconst SUPPORTED_JWS_ALGS = [\n    'PS256',\n    'ES256',\n    'RS256',\n    'PS384',\n    'ES384',\n    'RS384',\n    'PS512',\n    'ES512',\n    'RS512',\n    'EdDSA',\n];\nfunction processDpopNonce(response) {\n    const url = new URL(response.url);\n    if (response.headers.has('dpop-nonce')) {\n        dpopNonces.set(url.origin, response.headers.get('dpop-nonce'));\n    }\n    return response;\n}\nfunction normalizeTyp(value) {\n    return value.toLowerCase().replace(/^application\\//, '');\n}\nfunction isJsonObject(input) {\n    if (input === null || typeof input !== 'object' || Array.isArray(input)) {\n        return false;\n    }\n    return true;\n}\nfunction prepareHeaders(input) {\n    if (input !== undefined && !(input instanceof Headers)) {\n        throw new TypeError('\"options.headers\" must be an instance of Headers');\n    }\n    const headers = new Headers(input);\n    if (USER_AGENT && !headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    if (headers.has('authorization')) {\n        throw new TypeError('\"options.headers\" must not include the \"authorization\" header name');\n    }\n    if (headers.has('dpop')) {\n        throw new TypeError('\"options.headers\" must not include the \"dpop\" header name');\n    }\n    return headers;\n}\nfunction signal(value) {\n    if (typeof value === 'function') {\n        value = value();\n    }\n    if (!(value instanceof AbortSignal)) {\n        throw new TypeError('\"options.signal\" must return or be an instance of AbortSignal');\n    }\n    return value;\n}\nexport async function discoveryRequest(issuerIdentifier, options) {\n    if (!(issuerIdentifier instanceof URL)) {\n        throw new TypeError('\"issuerIdentifier\" must be an instance of URL');\n    }\n    if (issuerIdentifier.protocol !== 'https:' && issuerIdentifier.protocol !== 'http:') {\n        throw new TypeError('\"issuer.protocol\" must be \"https:\" or \"http:\"');\n    }\n    const url = new URL(issuerIdentifier.href);\n    switch (options?.algorithm) {\n        case undefined:\n        case 'oidc':\n            url.pathname = `${url.pathname}/.well-known/openid-configuration`.replace('//', '/');\n            break;\n        case 'oauth2':\n            if (url.pathname === '/') {\n                url.pathname = `.well-known/oauth-authorization-server`;\n            }\n            else {\n                url.pathname = `.well-known/oauth-authorization-server/${url.pathname}`.replace('//', '/');\n            }\n            break;\n        default:\n            throw new TypeError('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"');\n    }\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return fetch(url.href, {\n        headers,\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nfunction validateString(input) {\n    return typeof input === 'string' && input.length !== 0;\n}\nexport async function processDiscoveryResponse(expectedIssuerIdentifier, response) {\n    if (!(expectedIssuerIdentifier instanceof URL)) {\n        throw new TypeError('\"expectedIssuer\" must be an instance of URL');\n    }\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform Authorization Server Metadata response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch {\n        throw new OPE('failed to parse \"response\" body as JSON');\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.issuer)) {\n        throw new OPE('\"response\" body \"issuer\" property must be a non-empty string');\n    }\n    if (new URL(json.issuer).href !== expectedIssuerIdentifier.href) {\n        throw new OPE('\"response\" body \"issuer\" does not match \"expectedIssuer\"');\n    }\n    return json;\n}\nfunction randomBytes() {\n    return b64u(crypto.getRandomValues(new Uint8Array(32)));\n}\nexport function generateRandomCodeVerifier() {\n    return randomBytes();\n}\nexport function generateRandomState() {\n    return randomBytes();\n}\nexport function generateRandomNonce() {\n    return randomBytes();\n}\nexport async function calculatePKCECodeChallenge(codeVerifier) {\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    return b64u(await crypto.subtle.digest({ name: 'SHA-256' }, buf(codeVerifier)));\n}\nfunction getKeyAndKid(input) {\n    if (input instanceof CryptoKey) {\n        return { key: input };\n    }\n    if (!(input?.key instanceof CryptoKey)) {\n        return {};\n    }\n    if (input.kid !== undefined && !validateString(input.kid)) {\n        throw new TypeError('\"kid\" must be a non-empty string');\n    }\n    return { key: input.key, kid: input.kid };\n}\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/%20/g, '+');\n}\nfunction clientSecretBasic(clientId, clientSecret) {\n    const username = formUrlEncode(clientId);\n    const password = formUrlEncode(clientSecret);\n    const credentials = btoa(`${username}:${password}`);\n    return `Basic ${credentials}`;\n}\nfunction psAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'PS256';\n        case 'SHA-384':\n            return 'PS384';\n        case 'SHA-512':\n            return 'PS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction rsAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'RS256';\n        case 'SHA-384':\n            return 'RS384';\n        case 'SHA-512':\n            return 'RS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction esAlg(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n            return 'ES256';\n        case 'P-384':\n            return 'ES384';\n        case 'P-521':\n            return 'ES512';\n        default:\n            throw new UnsupportedOperationError('unsupported EcKeyAlgorithm namedCurve');\n    }\n}\nfunction keyToJws(key) {\n    switch (key.algorithm.name) {\n        case 'RSA-PSS':\n            return psAlg(key);\n        case 'RSASSA-PKCS1-v1_5':\n            return rsAlg(key);\n        case 'ECDSA':\n            return esAlg(key);\n        case 'Ed25519':\n        case 'Ed448':\n            return 'EdDSA';\n        default:\n            throw new UnsupportedOperationError('unsupported CryptoKey algorithm name');\n    }\n}\nfunction getClockSkew(client) {\n    if (Number.isFinite(client[clockSkew])) {\n        return client[clockSkew];\n    }\n    return 0;\n}\nfunction getClockTolerance(client) {\n    const tolerance = client[clockTolerance];\n    if (Number.isFinite(tolerance) && Math.sign(tolerance) !== -1) {\n        return tolerance;\n    }\n    return 30;\n}\nfunction epochTime() {\n    return Math.floor(Date.now() / 1000);\n}\nfunction clientAssertion(as, client) {\n    const now = epochTime() + getClockSkew(client);\n    return {\n        jti: randomBytes(),\n        aud: [as.issuer, as.token_endpoint],\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n        sub: client.client_id,\n    };\n}\nasync function privateKeyJwt(as, client, key, kid) {\n    return jwt({\n        alg: keyToJws(key),\n        kid,\n    }, clientAssertion(as, client), key);\n}\nfunction assertAs(as) {\n    if (typeof as !== 'object' || as === null) {\n        throw new TypeError('\"as\" must be an object');\n    }\n    if (!validateString(as.issuer)) {\n        throw new TypeError('\"as.issuer\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClient(client) {\n    if (typeof client !== 'object' || client === null) {\n        throw new TypeError('\"client\" must be an object');\n    }\n    if (!validateString(client.client_id)) {\n        throw new TypeError('\"client.client_id\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClientSecret(clientSecret) {\n    if (!validateString(clientSecret)) {\n        throw new TypeError('\"client.client_secret\" property must be a non-empty string');\n    }\n    return clientSecret;\n}\nfunction assertNoClientPrivateKey(clientAuthMethod, clientPrivateKey) {\n    if (clientPrivateKey !== undefined) {\n        throw new TypeError(`\"options.clientPrivateKey\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nfunction assertNoClientSecret(clientAuthMethod, clientSecret) {\n    if (clientSecret !== undefined) {\n        throw new TypeError(`\"client.client_secret\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nasync function clientAuthentication(as, client, body, headers, clientPrivateKey) {\n    body.delete('client_secret');\n    body.delete('client_assertion_type');\n    body.delete('client_assertion');\n    switch (client.token_endpoint_auth_method) {\n        case undefined:\n        case 'client_secret_basic': {\n            assertNoClientPrivateKey('client_secret_basic', clientPrivateKey);\n            headers.set('authorization', clientSecretBasic(client.client_id, assertClientSecret(client.client_secret)));\n            break;\n        }\n        case 'client_secret_post': {\n            assertNoClientPrivateKey('client_secret_post', clientPrivateKey);\n            body.set('client_id', client.client_id);\n            body.set('client_secret', assertClientSecret(client.client_secret));\n            break;\n        }\n        case 'private_key_jwt': {\n            assertNoClientSecret('private_key_jwt', client.client_secret);\n            if (clientPrivateKey === undefined) {\n                throw new TypeError('\"options.clientPrivateKey\" must be provided when \"client.token_endpoint_auth_method\" is \"private_key_jwt\"');\n            }\n            const { key, kid } = getKeyAndKid(clientPrivateKey);\n            if (!isPrivateKey(key)) {\n                throw new TypeError('\"options.clientPrivateKey.key\" must be a private CryptoKey');\n            }\n            body.set('client_id', client.client_id);\n            body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n            body.set('client_assertion', await privateKeyJwt(as, client, key, kid));\n            break;\n        }\n        case 'none': {\n            assertNoClientSecret('none', client.client_secret);\n            assertNoClientPrivateKey('none', clientPrivateKey);\n            body.set('client_id', client.client_id);\n            break;\n        }\n        default:\n            throw new UnsupportedOperationError('unsupported client token_endpoint_auth_method');\n    }\n}\nasync function jwt(header, claimsSet, key) {\n    if (!key.usages.includes('sign')) {\n        throw new TypeError('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');\n    }\n    const input = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(claimsSet)))}`;\n    const signature = b64u(await crypto.subtle.sign(keyToSubtle(key), key, buf(input)));\n    return `${input}.${signature}`;\n}\nexport async function issueRequestObject(as, client, parameters, privateKey) {\n    assertAs(as);\n    assertClient(client);\n    parameters = new URLSearchParams(parameters);\n    const { key, kid } = getKeyAndKid(privateKey);\n    if (!isPrivateKey(key)) {\n        throw new TypeError('\"privateKey.key\" must be a private CryptoKey');\n    }\n    parameters.set('client_id', client.client_id);\n    const now = epochTime() + getClockSkew(client);\n    const claims = {\n        ...Object.fromEntries(parameters.entries()),\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n    };\n    let resource;\n    if (parameters.has('resource') &&\n        (resource = parameters.getAll('resource')) &&\n        resource.length > 1) {\n        claims.resource = resource;\n    }\n    if (parameters.has('claims')) {\n        const value = parameters.get('claims');\n        if (value === '[object Object]') {\n            throw new OPE('\"claims\" parameter must be passed as a UTF-8 encoded JSON');\n        }\n        try {\n            claims.claims = JSON.parse(value);\n        }\n        catch {\n            throw new OPE('failed to parse the \"claims\" parameter as JSON');\n        }\n        if (!isJsonObject(claims.claims)) {\n            throw new OPE('\"claims\" parameter must be a top level object');\n        }\n    }\n    return jwt({\n        alg: keyToJws(key),\n        typ: 'oauth-authz-req+jwt',\n        kid,\n    }, claims, key);\n}\nasync function dpopProofJwt(headers, options, url, htm, clockSkew, accessToken) {\n    const { privateKey, publicKey, nonce = dpopNonces.get(url.origin) } = options;\n    if (!isPrivateKey(privateKey)) {\n        throw new TypeError('\"DPoP.privateKey\" must be a private CryptoKey');\n    }\n    if (!isPublicKey(publicKey)) {\n        throw new TypeError('\"DPoP.publicKey\" must be a public CryptoKey');\n    }\n    if (nonce !== undefined && !validateString(nonce)) {\n        throw new TypeError('\"DPoP.nonce\" must be a non-empty string or undefined');\n    }\n    if (!publicKey.extractable) {\n        throw new TypeError('\"DPoP.publicKey.extractable\" must be true');\n    }\n    const now = epochTime() + clockSkew;\n    const proof = await jwt({\n        alg: keyToJws(privateKey),\n        typ: 'dpop+jwt',\n        jwk: await publicJwk(publicKey),\n    }, {\n        iat: now,\n        jti: randomBytes(),\n        htm,\n        nonce,\n        htu: `${url.origin}${url.pathname}`,\n        ath: accessToken\n            ? b64u(await crypto.subtle.digest({ name: 'SHA-256' }, buf(accessToken)))\n            : undefined,\n    }, privateKey);\n    headers.set('dpop', proof);\n}\nlet jwkCache;\nasync function publicJwk(key) {\n    jwkCache || (jwkCache = new WeakMap());\n    if (jwkCache.has(key)) {\n        return jwkCache.get(key);\n    }\n    const { kty, e, n, x, y, crv } = await crypto.subtle.exportKey('jwk', key);\n    const jwk = { kty, e, n, x, y, crv };\n    jwkCache.set(key, jwk);\n    return jwk;\n}\nexport async function pushedAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    if (typeof as.pushed_authorization_request_endpoint !== 'string') {\n        throw new TypeError('\"as.pushed_authorization_request_endpoint\" must be a string');\n    }\n    const url = new URL(as.pushed_authorization_request_endpoint);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport function isOAuth2Error(input) {\n    const value = input;\n    if (typeof value !== 'object' || Array.isArray(value) || value === null) {\n        return false;\n    }\n    return value.error !== undefined;\n}\nfunction unquote(value) {\n    if (value.length >= 2 && value[0] === '\"' && value[value.length - 1] === '\"') {\n        return value.slice(1, -1);\n    }\n    return value;\n}\nconst SPLIT_REGEXP = /((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/;\nconst SCHEMES_REGEXP = /(?:^|, ?)([0-9a-zA-Z!#$%&'*+\\-.^_`|~]+)(?=$|[ ,])/g;\nfunction wwwAuth(scheme, params) {\n    const arr = params.split(SPLIT_REGEXP).slice(1);\n    if (!arr.length) {\n        return { scheme: scheme.toLowerCase(), parameters: {} };\n    }\n    arr[arr.length - 1] = arr[arr.length - 1].replace(/,$/, '');\n    const parameters = {};\n    for (let i = 1; i < arr.length; i += 2) {\n        const idx = i;\n        if (arr[idx][0] === '\"') {\n            while (arr[idx].slice(-1) !== '\"' && ++i < arr.length) {\n                arr[idx] += arr[i];\n            }\n        }\n        const key = arr[idx - 1].replace(/^(?:, ?)|=$/g, '').toLowerCase();\n        parameters[key] = unquote(arr[idx]);\n    }\n    return {\n        scheme: scheme.toLowerCase(),\n        parameters,\n    };\n}\nexport function parseWwwAuthenticateChallenges(response) {\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (!response.headers.has('www-authenticate')) {\n        return undefined;\n    }\n    const header = response.headers.get('www-authenticate');\n    const result = [];\n    for (const { 1: scheme, index } of header.matchAll(SCHEMES_REGEXP)) {\n        result.push([scheme, index]);\n    }\n    if (!result.length) {\n        return undefined;\n    }\n    const challenges = result.map(([scheme, indexOf], i, others) => {\n        const next = others[i + 1];\n        let parameters;\n        if (next) {\n            parameters = header.slice(indexOf, next[1]);\n        }\n        else {\n            parameters = header.slice(indexOf);\n        }\n        return wwwAuth(scheme, parameters);\n    });\n    return challenges;\n}\nexport async function processPushedAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 201) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Pushed Authorization Request Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch {\n        throw new OPE('failed to parse \"response\" body as JSON');\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.request_uri)) {\n        throw new OPE('\"response\" body \"request_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    return json;\n}\nexport async function protectedResourceRequest(accessToken, method, url, headers, body, options) {\n    if (!validateString(accessToken)) {\n        throw new TypeError('\"accessToken\" must be a non-empty string');\n    }\n    if (!(url instanceof URL)) {\n        throw new TypeError('\"url\" must be an instance of URL');\n    }\n    headers = prepareHeaders(headers);\n    if (options?.DPoP === undefined) {\n        headers.set('authorization', `Bearer ${accessToken}`);\n    }\n    else {\n        await dpopProofJwt(headers, options.DPoP, url, 'GET', getClockSkew({ [clockSkew]: options?.clockSkew }), accessToken);\n        headers.set('authorization', `DPoP ${accessToken}`);\n    }\n    return fetch(url.href, {\n        body,\n        headers,\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nexport async function userInfoRequest(as, client, accessToken, options) {\n    assertAs(as);\n    assertClient(client);\n    if (typeof as.userinfo_endpoint !== 'string') {\n        throw new TypeError('\"as.userinfo_endpoint\" must be a string');\n    }\n    const url = new URL(as.userinfo_endpoint);\n    const headers = prepareHeaders(options?.headers);\n    if (client.userinfo_signed_response_alg) {\n        headers.set('accept', 'application/jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n        headers.append('accept', 'application/jwt');\n    }\n    return protectedResourceRequest(accessToken, 'GET', url, headers, null, {\n        ...options,\n        clockSkew: getClockSkew(client),\n    });\n}\nlet jwksCache;\nasync function getPublicSigKeyFromIssuerJwksUri(as, options, header) {\n    const { alg, kid } = header;\n    checkSupportedJwsAlg(alg);\n    let jwks;\n    let age;\n    jwksCache || (jwksCache = new WeakMap());\n    if (jwksCache.has(as)) {\n        ;\n        ({ jwks, age } = jwksCache.get(as));\n        if (age >= 300) {\n            jwksCache.delete(as);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n    }\n    else {\n        jwks = await jwksRequest(as, options).then(processJwksResponse);\n        age = 0;\n        jwksCache.set(as, {\n            jwks,\n            iat: epochTime(),\n            get age() {\n                return epochTime() - this.iat;\n            },\n        });\n    }\n    let kty;\n    switch (alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            kty = 'RSA';\n            break;\n        case 'ES':\n            kty = 'EC';\n            break;\n        case 'Ed':\n            kty = 'OKP';\n            break;\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const candidates = jwks.keys.filter((jwk) => {\n        if (jwk.kty !== kty) {\n            return false;\n        }\n        if (kid !== undefined && kid !== jwk.kid) {\n            return false;\n        }\n        if (jwk.alg !== undefined && alg !== jwk.alg) {\n            return false;\n        }\n        if (jwk.use !== undefined && jwk.use !== 'sig') {\n            return false;\n        }\n        if (jwk.key_ops?.includes('verify') === false) {\n            return false;\n        }\n        switch (true) {\n            case alg === 'ES256' && jwk.crv !== 'P-256':\n            case alg === 'ES384' && jwk.crv !== 'P-384':\n            case alg === 'ES512' && jwk.crv !== 'P-521':\n            case alg === 'EdDSA' && !(jwk.crv === 'Ed25519' || jwk.crv === 'Ed448'):\n                return false;\n        }\n        return true;\n    });\n    const { 0: jwk, length } = candidates;\n    if (!length) {\n        if (age >= 60) {\n            jwksCache.delete(as);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n        throw new OPE('error when selecting a JWT verification key, no applicable keys found');\n    }\n    else if (length !== 1) {\n        throw new OPE('error when selecting a JWT verification key, multiple applicable keys found, a \"kid\" JWT Header Parameter is required');\n    }\n    const key = await importJwk(alg, jwk);\n    if (key.type !== 'public') {\n        throw new OPE('jwks_uri must only contain public keys');\n    }\n    return key;\n}\nexport const skipSubjectCheck = Symbol();\nfunction getContentType(response) {\n    return response.headers.get('content-type')?.split(';')[0];\n}\nexport async function processUserInfoResponse(as, client, expectedSubject, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform UserInfo Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/jwt') {\n        assertReadableResponse(response);\n        const { claims } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.userinfo_signed_response_alg, as.userinfo_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n            .then(validateOptionalAudience.bind(undefined, client.client_id))\n            .then(validateOptionalIssuer.bind(undefined, as.issuer));\n        json = claims;\n    }\n    else {\n        if (client.userinfo_signed_response_alg) {\n            throw new OPE('JWT UserInfo Response expected');\n        }\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch {\n            throw new OPE('failed to parse \"response\" body as JSON');\n        }\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.sub)) {\n        throw new OPE('\"response\" body \"sub\" property must be a non-empty string');\n    }\n    switch (expectedSubject) {\n        case skipSubjectCheck:\n            break;\n        default:\n            if (!validateString(expectedSubject)) {\n                throw new OPE('\"expectedSubject\" must be a non-empty string');\n            }\n            if (json.sub !== expectedSubject) {\n                throw new OPE('unexpected \"response\" body \"sub\" value');\n            }\n    }\n    return json;\n}\nasync function authenticatedRequest(as, client, method, url, body, headers, options) {\n    await clientAuthentication(as, client, body, headers, options?.clientPrivateKey);\n    headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    return fetch(url.href, {\n        body,\n        headers,\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function tokenEndpointRequest(as, client, grantType, parameters, options) {\n    if (typeof as.token_endpoint !== 'string') {\n        throw new TypeError('\"as.token_endpoint\" must be a string');\n    }\n    const url = new URL(as.token_endpoint);\n    parameters.set('grant_type', grantType);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, parameters, headers, options);\n}\nexport async function refreshTokenGrantRequest(as, client, refreshToken, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(refreshToken)) {\n        throw new TypeError('\"refreshToken\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('refresh_token', refreshToken);\n    return tokenEndpointRequest(as, client, 'refresh_token', parameters, options);\n}\nconst idTokenClaims = new WeakMap();\nexport function getValidatedIdTokenClaims(ref) {\n    if (!ref.id_token) {\n        return undefined;\n    }\n    const claims = idTokenClaims.get(ref);\n    if (!claims) {\n        throw new TypeError('\"ref\" was already garbage collected or did not resolve from the proper sources');\n    }\n    return claims;\n}\nasync function processGenericAccessTokenResponse(as, client, response, ignoreIdToken = false, ignoreRefreshToken = false) {\n    assertAs(as);\n    assertClient(client);\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Token Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch {\n        throw new OPE('failed to parse \"response\" body as JSON');\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.access_token)) {\n        throw new OPE('\"response\" body \"access_token\" property must be a non-empty string');\n    }\n    if (!validateString(json.token_type)) {\n        throw new OPE('\"response\" body \"token_type\" property must be a non-empty string');\n    }\n    json.token_type = json.token_type.toLowerCase();\n    if (json.token_type !== 'dpop' && json.token_type !== 'bearer') {\n        throw new UnsupportedOperationError('unsupported `token_type` value');\n    }\n    if (json.expires_in !== undefined &&\n        (typeof json.expires_in !== 'number' || json.expires_in <= 0)) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (!ignoreRefreshToken &&\n        json.refresh_token !== undefined &&\n        !validateString(json.refresh_token)) {\n        throw new OPE('\"response\" body \"refresh_token\" property must be a non-empty string');\n    }\n    if (json.scope !== undefined && typeof json.scope !== 'string') {\n        throw new OPE('\"response\" body \"scope\" property must be a string');\n    }\n    if (!ignoreIdToken) {\n        if (json.id_token !== undefined && !validateString(json.id_token)) {\n            throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n        }\n        if (json.id_token) {\n            const { claims } = await validateJwt(json.id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n                .then(validatePresence.bind(undefined, ['aud', 'exp', 'iat', 'iss', 'sub']))\n                .then(validateIssuer.bind(undefined, as.issuer))\n                .then(validateAudience.bind(undefined, client.client_id));\n            if (Array.isArray(claims.aud) && claims.aud.length !== 1 && claims.azp !== client.client_id) {\n                throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n            }\n            if (client.require_auth_time && typeof claims.auth_time !== 'number') {\n                throw new OPE('unexpected ID Token \"auth_time\" (authentication time) claim value');\n            }\n            idTokenClaims.set(json, claims);\n        }\n    }\n    return json;\n}\nexport async function processRefreshTokenResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nfunction validateOptionalAudience(expected, result) {\n    if (result.claims.aud !== undefined) {\n        return validateAudience(expected, result);\n    }\n    return result;\n}\nfunction validateAudience(expected, result) {\n    if (Array.isArray(result.claims.aud)) {\n        if (!result.claims.aud.includes(expected)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n        }\n    }\n    else if (result.claims.aud !== expected) {\n        throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n    }\n    return result;\n}\nfunction validateOptionalIssuer(expected, result) {\n    if (result.claims.iss !== undefined) {\n        return validateIssuer(expected, result);\n    }\n    return result;\n}\nfunction validateIssuer(expected, result) {\n    if (result.claims.iss !== expected) {\n        throw new OPE('unexpected JWT \"iss\" (issuer) claim value');\n    }\n    return result;\n}\nconst branded = new WeakSet();\nfunction brand(searchParams) {\n    branded.add(searchParams);\n    return searchParams;\n}\nexport async function authorizationCodeGrantRequest(as, client, callbackParameters, redirectUri, codeVerifier, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!branded.has(callbackParameters)) {\n        throw new TypeError('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()');\n    }\n    if (!validateString(redirectUri)) {\n        throw new TypeError('\"redirectUri\" must be a non-empty string');\n    }\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    const code = getURLSearchParameter(callbackParameters, 'code');\n    if (!code) {\n        throw new OPE('no authorization code in \"callbackParameters\"');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('redirect_uri', redirectUri);\n    parameters.set('code_verifier', codeVerifier);\n    parameters.set('code', code);\n    return tokenEndpointRequest(as, client, 'authorization_code', parameters, options);\n}\nconst claimNames = {\n    aud: 'audience',\n    exp: 'expiration time',\n    iat: 'issued at',\n    iss: 'issuer',\n    sub: 'subject',\n};\nfunction validatePresence(required, result) {\n    for (const claim of required) {\n        if (result.claims[claim] === undefined) {\n            throw new OPE(`JWT \"${claim}\" (${claimNames[claim]}) claim missing`);\n        }\n    }\n    return result;\n}\nexport const expectNoNonce = Symbol();\nexport const skipAuthTimeCheck = Symbol();\nexport async function processAuthorizationCodeOpenIDResponse(as, client, response, expectedNonce, maxAge) {\n    const result = await processGenericAccessTokenResponse(as, client, response);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!validateString(result.id_token)) {\n        throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    const claims = getValidatedIdTokenClaims(result);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"options.max_age\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    switch (expectedNonce) {\n        case undefined:\n        case expectNoNonce:\n            if (claims.nonce !== undefined) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n            break;\n        default:\n            if (!validateString(expectedNonce)) {\n                throw new TypeError('\"expectedNonce\" must be a non-empty string');\n            }\n            if (claims.nonce === undefined) {\n                throw new OPE('ID Token \"nonce\" claim missing');\n            }\n            if (claims.nonce !== expectedNonce) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n    }\n    return result;\n}\nexport async function processAuthorizationCodeOAuth2Response(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (result.id_token !== undefined) {\n        if (typeof result.id_token === 'string' && result.id_token.length) {\n            throw new OPE('Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing');\n        }\n        delete result.id_token;\n    }\n    return result;\n}\nfunction checkJwtType(expected, result) {\n    if (typeof result.header.typ !== 'string' || normalizeTyp(result.header.typ) !== expected) {\n        throw new OPE('unexpected JWT \"typ\" header parameter value');\n    }\n    return result;\n}\nexport async function clientCredentialsGrantRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    return tokenEndpointRequest(as, client, 'client_credentials', new URLSearchParams(parameters), options);\n}\nexport async function processClientCredentialsResponse(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    return result;\n}\nexport async function revocationRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    if (typeof as.revocation_endpoint !== 'string') {\n        throw new TypeError('\"as.revocation_endpoint\" must be a string');\n    }\n    const url = new URL(as.revocation_endpoint);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    headers.delete('accept');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processRevocationResponse(response) {\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Revocation Endpoint response');\n    }\n    return undefined;\n}\nfunction assertReadableResponse(response) {\n    if (response.bodyUsed) {\n        throw new TypeError('\"response\" body has been used already');\n    }\n}\nexport async function introspectionRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    if (typeof as.introspection_endpoint !== 'string') {\n        throw new TypeError('\"as.introspection_endpoint\" must be a string');\n    }\n    const url = new URL(as.introspection_endpoint);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    if (options?.requestJwtResponse ?? client.introspection_signed_response_alg) {\n        headers.set('accept', 'application/token-introspection+jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processIntrospectionResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Introspection Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/token-introspection+jwt') {\n        assertReadableResponse(response);\n        const { claims } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.introspection_signed_response_alg, as.introspection_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n            .then(checkJwtType.bind(undefined, 'token-introspection+jwt'))\n            .then(validatePresence.bind(undefined, ['aud', 'iat', 'iss']))\n            .then(validateIssuer.bind(undefined, as.issuer))\n            .then(validateAudience.bind(undefined, client.client_id));\n        json = claims.token_introspection;\n        if (!isJsonObject(json)) {\n            throw new OPE('JWT \"token_introspection\" claim must be a JSON object');\n        }\n    }\n    else {\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch {\n            throw new OPE('failed to parse \"response\" body as JSON');\n        }\n        if (!isJsonObject(json)) {\n            throw new OPE('\"response\" body must be a top level object');\n        }\n    }\n    if (typeof json.active !== 'boolean') {\n        throw new OPE('\"response\" body \"active\" property must be a boolean');\n    }\n    return json;\n}\nasync function jwksRequest(as, options) {\n    assertAs(as);\n    if (typeof as.jwks_uri !== 'string') {\n        throw new TypeError('\"as.jwks_uri\" must be a string');\n    }\n    const url = new URL(as.jwks_uri);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.append('accept', 'application/jwk-set+json');\n    return fetch(url.href, {\n        headers,\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function processJwksResponse(response) {\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform JSON Web Key Set response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch {\n        throw new OPE('failed to parse \"response\" body as JSON');\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!Array.isArray(json.keys)) {\n        throw new OPE('\"response\" body \"keys\" property must be an array');\n    }\n    if (!Array.prototype.every.call(json.keys, isJsonObject)) {\n        throw new OPE('\"response\" body \"keys\" property members must be JWK formatted objects');\n    }\n    return json;\n}\nasync function handleOAuthBodyError(response) {\n    if (response.status > 399 && response.status < 500) {\n        assertReadableResponse(response);\n        try {\n            const json = await response.json();\n            if (isJsonObject(json) && typeof json.error === 'string' && json.error.length) {\n                if (json.error_description !== undefined && typeof json.error_description !== 'string') {\n                    delete json.error_description;\n                }\n                if (json.error_uri !== undefined && typeof json.error_uri !== 'string') {\n                    delete json.error_uri;\n                }\n                if (json.algs !== undefined && typeof json.algs !== 'string') {\n                    delete json.algs;\n                }\n                if (json.scope !== undefined && typeof json.scope !== 'string') {\n                    delete json.scope;\n                }\n                return json;\n            }\n        }\n        catch { }\n    }\n    return undefined;\n}\nfunction checkSupportedJwsAlg(alg) {\n    if (!SUPPORTED_JWS_ALGS.includes(alg)) {\n        throw new UnsupportedOperationError('unsupported JWS \"alg\" identifier');\n    }\n    return alg;\n}\nfunction checkRsaKeyAlgorithm(algorithm) {\n    if (typeof algorithm.modulusLength !== 'number' || algorithm.modulusLength < 2048) {\n        throw new OPE(`${algorithm.name} modulusLength must be at least 2048 bits`);\n    }\n}\nfunction ecdsaHashName(namedCurve) {\n    switch (namedCurve) {\n        case 'P-256':\n            return 'SHA-256';\n        case 'P-384':\n            return 'SHA-384';\n        case 'P-521':\n            return 'SHA-512';\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nfunction keyToSubtle(key) {\n    switch (key.algorithm.name) {\n        case 'ECDSA':\n            return {\n                name: key.algorithm.name,\n                hash: { name: ecdsaHashName(key.algorithm.namedCurve) },\n            };\n        case 'RSA-PSS': {\n            checkRsaKeyAlgorithm(key.algorithm);\n            switch (key.algorithm.hash.name) {\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512':\n                    return {\n                        name: key.algorithm.name,\n                        saltLength: parseInt(key.algorithm.hash.name.slice(-3), 10) >> 3,\n                    };\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        case 'RSASSA-PKCS1-v1_5':\n            checkRsaKeyAlgorithm(key.algorithm);\n            return { name: key.algorithm.name };\n        case 'Ed448':\n        case 'Ed25519':\n            return { name: key.algorithm.name };\n    }\n    throw new UnsupportedOperationError();\n}\nconst noSignatureCheck = Symbol();\nasync function validateJwt(jws, checkAlg, getKey, clockSkew, clockTolerance) {\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.');\n    if (length === 5) {\n        throw new UnsupportedOperationError('JWE structure JWTs are not supported');\n    }\n    if (length !== 3) {\n        throw new OPE('Invalid JWT');\n    }\n    let header;\n    try {\n        header = JSON.parse(buf(b64u(protectedHeader)));\n    }\n    catch {\n        throw new OPE('failed to parse JWT Header body as base64url encoded JSON');\n    }\n    if (!isJsonObject(header)) {\n        throw new OPE('JWT Header must be a top level object');\n    }\n    checkAlg(header);\n    if (header.crit !== undefined) {\n        throw new OPE('unexpected JWT \"crit\" header parameter');\n    }\n    const signature = b64u(encodedSignature);\n    if (getKey !== noSignatureCheck) {\n        const key = await getKey(header);\n        const input = `${protectedHeader}.${payload}`;\n        const verified = await crypto.subtle.verify(keyToSubtle(key), key, signature, buf(input));\n        if (!verified) {\n            throw new OPE('JWT signature verification failed');\n        }\n    }\n    let claims;\n    try {\n        claims = JSON.parse(buf(b64u(payload)));\n    }\n    catch {\n        throw new OPE('failed to parse JWT Payload body as base64url encoded JSON');\n    }\n    if (!isJsonObject(claims)) {\n        throw new OPE('JWT Payload must be a top level object');\n    }\n    const now = epochTime() + clockSkew;\n    if (claims.exp !== undefined) {\n        if (typeof claims.exp !== 'number') {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim type');\n        }\n        if (claims.exp <= now - clockTolerance) {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim value, timestamp is <= now()');\n        }\n    }\n    if (claims.iat !== undefined) {\n        if (typeof claims.iat !== 'number') {\n            throw new OPE('unexpected JWT \"iat\" (issued at) claim type');\n        }\n    }\n    if (claims.iss !== undefined) {\n        if (typeof claims.iss !== 'string') {\n            throw new OPE('unexpected JWT \"iss\" (issuer) claim type');\n        }\n    }\n    if (claims.nbf !== undefined) {\n        if (typeof claims.nbf !== 'number') {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim type');\n        }\n        if (claims.nbf > now + clockTolerance) {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim value, timestamp is > now()');\n        }\n    }\n    if (claims.aud !== undefined) {\n        if (typeof claims.aud !== 'string' && !Array.isArray(claims.aud)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim type');\n        }\n    }\n    return { header, claims, signature };\n}\nexport async function validateJwtAuthResponse(as, client, parameters, expectedState, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    const response = getURLSearchParameter(parameters, 'response');\n    if (!response) {\n        throw new OPE('\"parameters\" does not contain a JARM response');\n    }\n    if (typeof as.jwks_uri !== 'string') {\n        throw new TypeError('\"as.jwks_uri\" must be a string');\n    }\n    const { claims } = await validateJwt(response, checkSigningAlgorithm.bind(undefined, client.authorization_signed_response_alg, as.authorization_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client))\n        .then(validatePresence.bind(undefined, ['aud', 'exp', 'iss']))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const result = new URLSearchParams();\n    for (const [key, value] of Object.entries(claims)) {\n        if (typeof value === 'string' && key !== 'aud') {\n            result.set(key, value);\n        }\n    }\n    return validateAuthResponse(as, client, result, expectedState);\n}\nfunction checkSigningAlgorithm(client, issuer, header) {\n    if (client !== undefined) {\n        if (header.alg !== client) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (Array.isArray(issuer)) {\n        if (!issuer.includes(header.alg)) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (header.alg !== 'RS256') {\n        throw new OPE('unexpected JWT \"alg\" header parameter');\n    }\n}\nfunction getURLSearchParameter(parameters, name) {\n    const { 0: value, length } = parameters.getAll(name);\n    if (length > 1) {\n        throw new OPE(`\"${name}\" parameter must be provided only once`);\n    }\n    return value;\n}\nexport const skipStateCheck = Symbol();\nexport const expectNoState = Symbol();\nexport function validateAuthResponse(as, client, parameters, expectedState) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    if (getURLSearchParameter(parameters, 'response')) {\n        throw new OPE('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');\n    }\n    const iss = getURLSearchParameter(parameters, 'iss');\n    const state = getURLSearchParameter(parameters, 'state');\n    if (!iss && as.authorization_response_iss_parameter_supported) {\n        throw new OPE('response parameter \"iss\" (issuer) missing');\n    }\n    if (iss && iss !== as.issuer) {\n        throw new OPE('unexpected \"iss\" (issuer) response parameter value');\n    }\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            if (state !== undefined) {\n                throw new OPE('unexpected \"state\" response parameter encountered');\n            }\n            break;\n        case skipStateCheck:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new OPE('\"expectedState\" must be a non-empty string');\n            }\n            if (state === undefined) {\n                throw new OPE('response parameter \"state\" missing');\n            }\n            if (state !== expectedState) {\n                throw new OPE('unexpected \"state\" response parameter value');\n            }\n    }\n    const error = getURLSearchParameter(parameters, 'error');\n    if (error) {\n        return {\n            error,\n            error_description: getURLSearchParameter(parameters, 'error_description'),\n            error_uri: getURLSearchParameter(parameters, 'error_uri'),\n        };\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    const token = getURLSearchParameter(parameters, 'token');\n    if (id_token !== undefined || token !== undefined) {\n        throw new UnsupportedOperationError('implicit and hybrid flows are not supported');\n    }\n    return brand(new URLSearchParams(parameters));\n}\nfunction algToSubtle(alg, crv) {\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { name: 'RSA-PSS', hash: { name: `SHA-${alg.slice(-3)}` } };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { name: 'RSASSA-PKCS1-v1_5', hash: { name: `SHA-${alg.slice(-3)}` } };\n        case 'ES256':\n        case 'ES384':\n            return { name: 'ECDSA', namedCurve: `P-${alg.slice(-3)}` };\n        case 'ES512':\n            return { name: 'ECDSA', namedCurve: 'P-521' };\n        case 'EdDSA': {\n            switch (crv) {\n                case 'Ed25519':\n                    return { name: 'Ed25519' };\n                case 'Ed448':\n                    return { name: 'Ed448' };\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nasync function importJwk(alg, jwk) {\n    const { ext, key_ops, use, ...key } = jwk;\n    return crypto.subtle.importKey('jwk', key, algToSubtle(alg, jwk.crv), true, ['verify']);\n}\nexport async function deviceAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    if (typeof as.device_authorization_endpoint !== 'string') {\n        throw new TypeError('\"as.device_authorization_endpoint\" must be a string');\n    }\n    const url = new URL(as.device_authorization_endpoint);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processDeviceAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!(response instanceof Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Device Authorization Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch {\n        throw new OPE('failed to parse \"response\" body as JSON');\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.device_code)) {\n        throw new OPE('\"response\" body \"device_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.user_code)) {\n        throw new OPE('\"response\" body \"user_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.verification_uri)) {\n        throw new OPE('\"response\" body \"verification_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (json.verification_uri_complete !== undefined &&\n        !validateString(json.verification_uri_complete)) {\n        throw new OPE('\"response\" body \"verification_uri_complete\" property must be a non-empty string');\n    }\n    if (json.interval !== undefined && (typeof json.interval !== 'number' || json.interval <= 0)) {\n        throw new OPE('\"response\" body \"interval\" property must be a positive number');\n    }\n    return json;\n}\nexport async function deviceCodeGrantRequest(as, client, deviceCode, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(deviceCode)) {\n        throw new TypeError('\"deviceCode\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('device_code', deviceCode);\n    return tokenEndpointRequest(as, client, 'urn:ietf:params:oauth:grant-type:device_code', parameters, options);\n}\nexport async function processDeviceCodeResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nexport async function generateKeyPair(alg, options) {\n    if (!validateString(alg)) {\n        throw new TypeError('\"alg\" must be a non-empty string');\n    }\n    const algorithm = algToSubtle(alg, alg === 'EdDSA' ? options?.crv ?? 'Ed25519' : undefined);\n    if (alg.startsWith('PS') || alg.startsWith('RS')) {\n        Object.assign(algorithm, {\n            modulusLength: options?.modulusLength ?? 2048,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        });\n    }\n    return (crypto.subtle.generateKey(algorithm, options?.extractable ?? false, ['sign', 'verify']));\n}\n", "import * as jose from \"jose\";\nimport * as o from \"oauth4webapi\";\nimport { InvalidCheck } from \"../../errors.js\";\nimport { decode, encode } from \"../../jwt.js\";\n/** Returns a signed cookie. */\nexport async function signCookie(type, value, maxAge, options, data) {\n    const { cookies, logger } = options;\n    logger.debug(`CREATE_${type.toUpperCase()}`, { value, maxAge });\n    const expires = new Date();\n    expires.setTime(expires.getTime() + maxAge * 1000);\n    const token = { value };\n    if (type === \"state\" && data)\n        token.data = data;\n    return {\n        name: cookies[type].name,\n        value: await encode({ ...options.jwt, maxAge, token }),\n        options: { ...cookies[type].options, expires },\n    };\n}\nconst PKCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport const pkce = {\n    async create(options) {\n        const code_verifier = o.generateRandomCodeVerifier();\n        const value = await o.calculatePKCECodeChallenge(code_verifier);\n        const maxAge = PKCE_MAX_AGE;\n        const cookie = await signCookie(\"pkceCodeVerifier\", code_verifier, maxAge, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns code_verifier if the provider is configured to use PKCE,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the code_verifier is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc7636\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#pkce\n     */\n    async use(cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"pkce\"))\n            return;\n        const codeVerifier = cookies?.[options.cookies.pkceCodeVerifier.name];\n        if (!codeVerifier)\n            throw new InvalidCheck(\"PKCE code_verifier cookie was missing.\");\n        const value = await decode({\n            ...options.jwt,\n            token: codeVerifier,\n        });\n        if (!value?.value)\n            throw new InvalidCheck(\"PKCE code_verifier value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        resCookies.push({\n            name: options.cookies.pkceCodeVerifier.name,\n            value: \"\",\n            options: { ...options.cookies.pkceCodeVerifier.options, maxAge: 0 },\n        });\n        return value.value;\n    },\n};\nconst STATE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport function decodeState(value) {\n    try {\n        const decoder = new TextDecoder();\n        return JSON.parse(decoder.decode(jose.base64url.decode(value)));\n    }\n    catch { }\n}\nexport const state = {\n    async create(options, data) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) {\n            if (data) {\n                throw new InvalidCheck(\"State data was provided but the provider is not configured to use state.\");\n            }\n            return;\n        }\n        const encodedState = jose.base64url.encode(JSON.stringify({ ...data, random: o.generateRandomState() }));\n        const maxAge = STATE_MAX_AGE;\n        const cookie = await signCookie(\"state\", encodedState, maxAge, options, data);\n        return { cookie, value: encodedState };\n    },\n    /**\n     * Returns state if the provider is configured to use state,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the state is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-10.12\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n     */\n    async use(cookies, resCookies, options, paramRandom) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\"))\n            return;\n        const state = cookies?.[options.cookies.state.name];\n        if (!state)\n            throw new InvalidCheck(\"State cookie was missing.\");\n        // IDEA: Let the user do something with the returned state\n        const encodedState = await decode({\n            ...options.jwt,\n            token: state,\n        });\n        if (!encodedState?.value)\n            throw new InvalidCheck(\"State (cookie) value could not be parsed.\");\n        const decodedState = decodeState(encodedState.value);\n        if (!decodedState)\n            throw new InvalidCheck(\"State (encoded) value could not be parsed.\");\n        if (decodedState.random !== paramRandom)\n            throw new InvalidCheck(`Random state values did not match. Expected: ${decodedState.random}. Got: ${paramRandom}`);\n        // Clear the state cookie after use\n        resCookies.push({\n            name: options.cookies.state.name,\n            value: \"\",\n            options: { ...options.cookies.state.options, maxAge: 0 },\n        });\n        return encodedState.value;\n    },\n};\nconst NONCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport const nonce = {\n    async create(options) {\n        if (!options.provider.checks.includes(\"nonce\"))\n            return;\n        const value = o.generateRandomNonce();\n        const maxAge = NONCE_MAX_AGE;\n        const cookie = await signCookie(\"nonce\", value, maxAge, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns nonce if the provider is configured to use nonce,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the nonce is missing or invalid.\n     * @see https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#nonce\n     */\n    async use(cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"nonce\"))\n            return;\n        const nonce = cookies?.[options.cookies.nonce.name];\n        if (!nonce)\n            throw new InvalidCheck(\"Nonce cookie was missing.\");\n        const value = await decode({ ...options.jwt, token: nonce });\n        if (!value?.value)\n            throw new InvalidCheck(\"Nonce value could not be parsed.\");\n        // Clear the nonce cookie after use\n        resCookies.push({\n            name: options.cookies.nonce.name,\n            value: \"\",\n            options: { ...options.cookies.nonce.options, maxAge: 0 },\n        });\n        return value.value;\n    },\n};\n", "import * as checks from \"./checks.js\";\nimport * as o from \"oauth4webapi\";\nimport { OAuthCallbackError, OAuthProfileParseError } from \"../../errors.js\";\n/**\n * Handles the following OAuth steps.\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n * https://openid.net/specs/openid-connect-core-1_0.html#UserInfoRequest\n *\n * @note Although requesting userinfo is not required by the OAuth2.0 spec,\n * we fetch it anyway. This is because we always want a user profile.\n */\nexport async function handleOAuth(query, cookies, options, randomState) {\n    const { logger, provider } = options;\n    let as;\n    const { token, userinfo } = provider;\n    // Falls back to authjs.dev if the user only passed params\n    if ((!token?.url || token.url.host === \"authjs.dev\") &&\n        (!userinfo?.url || userinfo.url.host === \"authjs.dev\")) {\n        // We assume that issuer is always defined as this has been asserted earlier\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await o.discoveryRequest(issuer);\n        const discoveredAs = await o.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!discoveredAs.token_endpoint)\n            throw new TypeError(\"TODO: Authorization server did not provide a token endpoint.\");\n        if (!discoveredAs.userinfo_endpoint)\n            throw new TypeError(\"TODO: Authorization server did not provide a userinfo endpoint.\");\n        as = discoveredAs;\n    }\n    else {\n        as = {\n            issuer: provider.issuer ?? \"https://authjs.dev\",\n            token_endpoint: token?.url.toString(),\n            userinfo_endpoint: userinfo?.url.toString(),\n        };\n    }\n    const client = {\n        client_id: provider.clientId,\n        client_secret: provider.clientSecret,\n        ...provider.client,\n    };\n    const resCookies = [];\n    const state = await checks.state.use(cookies, resCookies, options, randomState);\n    const codeGrantParams = o.validateAuthResponse(as, client, new URLSearchParams(query), provider.checks.includes(\"state\") ? state : o.skipStateCheck);\n    /** https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1 */\n    if (o.isOAuth2Error(codeGrantParams)) {\n        const cause = { providerId: provider.id, ...codeGrantParams };\n        logger.debug(\"OAuthCallbackError\", cause);\n        throw new OAuthCallbackError(\"OAuth Provider returned an error\", cause);\n    }\n    const codeVerifier = await checks.pkce.use(cookies, resCookies, options);\n    let redirect_uri = provider.callbackUrl;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n    }\n    let codeGrantResponse = await o.authorizationCodeGrantRequest(as, client, codeGrantParams, redirect_uri, codeVerifier ?? \"auth\" // TODO: review fallback code verifier\n    );\n    if (provider.token?.conform) {\n        codeGrantResponse =\n            (await provider.token.conform(codeGrantResponse.clone())) ??\n                codeGrantResponse;\n    }\n    let challenges;\n    if ((challenges = o.parseWwwAuthenticateChallenges(codeGrantResponse))) {\n        for (const challenge of challenges) {\n            console.log(\"challenge\", challenge);\n        }\n        throw new Error(\"TODO: Handle www-authenticate challenges as needed\");\n    }\n    let profile;\n    let tokens;\n    if (provider.type === \"oidc\") {\n        const nonce = await checks.nonce.use(cookies, resCookies, options);\n        const result = await o.processAuthorizationCodeOpenIDResponse(as, client, codeGrantResponse, nonce ?? o.expectNoNonce);\n        if (o.isOAuth2Error(result)) {\n            console.log(\"error\", result);\n            throw new Error(\"TODO: Handle OIDC response body error\");\n        }\n        profile = o.getValidatedIdTokenClaims(result);\n        tokens = result;\n    }\n    else {\n        tokens = await o.processAuthorizationCodeOAuth2Response(as, client, codeGrantResponse);\n        if (o.isOAuth2Error(tokens)) {\n            console.log(\"error\", tokens);\n            throw new Error(\"TODO: Handle OAuth 2.0 response body error\");\n        }\n        if (userinfo?.request) {\n            profile = await userinfo.request({ tokens, provider });\n        }\n        else if (userinfo?.url) {\n            const userinfoResponse = await o.userInfoRequest(as, client, tokens.access_token);\n            profile = await userinfoResponse.json();\n        }\n        else {\n            throw new TypeError(\"No userinfo endpoint configured\");\n        }\n    }\n    if (tokens.expires_in) {\n        tokens.expires_at =\n            Math.floor(Date.now() / 1000) + Number(tokens.expires_in);\n    }\n    const profileResult = await getUserAndAccount(profile, provider, tokens, logger);\n    return { ...profileResult, profile, cookies: resCookies };\n}\n/** Returns the user and account that is going to be created in the database. */\nasync function getUserAndAccount(OAuthProfile, provider, tokens, logger) {\n    try {\n        const user = await provider.profile(OAuthProfile, tokens);\n        user.email = user.email?.toLowerCase();\n        if (!user.id) {\n            throw new TypeError(`User id is missing in ${provider.name} OAuth profile response`);\n        }\n        return {\n            user,\n            account: {\n                provider: provider.id,\n                type: provider.type,\n                providerAccountId: user.id.toString(),\n                ...tokens,\n            },\n        };\n    }\n    catch (e) {\n        // If we didn't get a response either there was a problem with the provider\n        // response *or* the user cancelled the action with the provider.\n        //\n        // Unfortunately, we can't tell which - at least not in a way that works for\n        // all providers, so we return an empty object; the user should then be\n        // redirected back to the sign up page. We log the error to help developers\n        // who might be trying to debug this when configuring a new provider.\n        logger.debug(\"getProfile error details\", OAuthProfile);\n        logger.error(new OAuthProfileParseError(e, { provider: provider.id }));\n    }\n}\n", "import { InvalidCheck } from \"../../errors.js\";\nimport { decodeState } from \"./checks.js\";\n/**\n * When the authorization flow contains a state, we check if it's a redirect proxy\n * and if so, we return the random state and the original redirect URL.\n */\nexport function handleState(query, provider, isOnRedirectProxy) {\n    let randomState;\n    let proxyRedirect;\n    if (provider.redirectProxyUrl && !query?.state) {\n        throw new InvalidCheck(\"Missing state in query, but required for redirect proxy\");\n    }\n    const state = decodeState(query?.state);\n    randomState = state?.random;\n    if (isOnRedirectProxy) {\n        if (!state?.origin)\n            return { randomState };\n        proxyRedirect = `${state.origin}?${new URLSearchParams(query)}`;\n    }\n    return { randomState, proxyRedirect };\n}\n", "import { AuthorizedCallbackError } from \"../../errors.js\";\nexport async function handleAuthorized(params, { url, logger, callbacks: { signIn } }) {\n    try {\n        const authorized = await signIn(params);\n        if (!authorized) {\n            url.pathname += \"/error\";\n            logger.debug(\"User not authorized\", params);\n            url.searchParams.set(\"error\", \"AccessDenied\");\n            return { status: 403, redirect: url.toString() };\n        }\n    }\n    catch (e) {\n        url.pathname += \"/error\";\n        const error = new AuthorizedCallbackError(e);\n        logger.error(error);\n        url.searchParams.set(\"error\", \"Configuration\");\n        return { status: 500, redirect: url.toString() };\n    }\n}\n", "import { CallbackRouteError, OAuthCallbackError, Verification, } from \"../../errors.js\";\nimport { handleLogin } from \"../callback-handler.js\";\nimport { handleOAuth } from \"../oauth/callback.js\";\nimport { handleState } from \"../oauth/handle-state.js\";\nimport { createHash } from \"../web.js\";\nimport { handleAuthorized } from \"./shared.js\";\n/** Handle callbacks from login services */\nexport async function callback(params) {\n    const { options, query, body, method, headers, sessionStore } = params;\n    const { provider, adapter, url, callbackUrl, pages, jwt, events, callbacks, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, logger, } = options;\n    const cookies = [];\n    const useJwtSession = sessionStrategy === \"jwt\";\n    try {\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            const { proxyRedirect, randomState } = handleState(query, provider, options.isOnRedirectProxy);\n            if (proxyRedirect) {\n                logger.debug(\"proxy redirect\", { proxyRedirect, randomState });\n                return { redirect: proxyRedirect };\n            }\n            const authorizationResult = await handleOAuth(query, params.cookies, options, randomState);\n            if (authorizationResult.cookies.length) {\n                cookies.push(...authorizationResult.cookies);\n            }\n            logger.debug(\"authorization result\", authorizationResult);\n            const { user: userFromProvider, account, profile: OAuthProfile, } = authorizationResult;\n            // If we don't have a profile object then either something went wrong\n            // or the user cancelled signing in. We don't know which, so we just\n            // direct the user to the signin page for now. We could do something\n            // else in future.\n            // TODO: Handle user cancelling signin\n            if (!userFromProvider || !account || !OAuthProfile) {\n                return { redirect: `${url}/signin`, cookies };\n            }\n            // Check if user is allowed to sign in\n            // Attempt to get Profile from OAuth provider details before invoking\n            // signIn callback - but if no user object is returned, that is fine\n            // (that just means it's a new user signing in for the first time).\n            let userByAccountOrFromProvider;\n            if (adapter) {\n                const { getUserByAccount } = adapter;\n                const userByAccount = await getUserByAccount({\n                    providerAccountId: account.providerAccountId,\n                    provider: provider.id,\n                });\n                if (userByAccount)\n                    userByAccountOrFromProvider = userByAccount;\n            }\n            const unauthorizedOrError = await handleAuthorized({\n                user: userByAccountOrFromProvider,\n                account,\n                profile: OAuthProfile,\n            }, options);\n            if (unauthorizedOrError)\n                return { ...unauthorizedOrError, cookies };\n            // Sign user in\n            const { user, session, isNewUser } = await handleLogin(sessionStore.value, userFromProvider, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: user.name,\n                    email: user.email,\n                    picture: user.image,\n                    sub: user.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user,\n                    account,\n                    profile: OAuthProfile,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({ user, account, profile: OAuthProfile, isNewUser });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"email\") {\n            const token = query?.token;\n            const identifier = query?.email;\n            if (!token || !identifier) {\n                const e = new TypeError(\"Missing token or email. The sign-in URL was manually opened without token/identifier or the link was not sent correctly in the email.\", { cause: { hasToken: !!token, hasEmail: !!identifier } });\n                e.name = \"Configuration\";\n                throw e;\n            }\n            const secret = provider.secret ?? options.secret;\n            // @ts-expect-error -- Verified in `assertConfig`.\n            const invite = await adapter.useVerificationToken({\n                identifier,\n                token: await createHash(`${token}${secret}`),\n            });\n            const hasInvite = !!invite;\n            const expired = invite ? invite.expires.valueOf() < Date.now() : undefined;\n            const invalidInvite = !hasInvite || expired;\n            if (invalidInvite)\n                throw new Verification({ hasInvite, expired });\n            const user = (await adapter.getUserByEmail(identifier)) ?? {\n                id: identifier,\n                email: identifier,\n                emailVerified: null,\n            };\n            const account = {\n                providerAccountId: user.email,\n                userId: user.id,\n                type: \"email\",\n                provider: provider.id,\n            };\n            // Check if user is allowed to sign in\n            const unauthorizedOrError = await handleAuthorized({ user, account }, options);\n            if (unauthorizedOrError)\n                return { ...unauthorizedOrError, cookies };\n            // Sign user in\n            const { user: loggedInUser, session, isNewUser, } = await handleLogin(sessionStore.value, user, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({ user: loggedInUser, account, isNewUser });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"credentials\" && method === \"POST\") {\n            const credentials = body ?? {};\n            // TODO: Forward the original request as is, instead of reconstructing it\n            Object.entries(query ?? {}).forEach(([k, v]) => url.searchParams.set(k, v));\n            const user = await provider.authorize(credentials, \n            // prettier-ignore\n            new Request(url, { headers, method, body: JSON.stringify(body) }));\n            if (!user) {\n                return {\n                    status: 401,\n                    redirect: `${url}/error?${new URLSearchParams({\n                        error: \"CredentialsSignin\",\n                        provider: provider.id,\n                    })}`,\n                    cookies,\n                };\n            }\n            /** @type {import(\"src\").Account} */\n            const account = {\n                providerAccountId: user.id,\n                type: \"credentials\",\n                provider: provider.id,\n            };\n            const unauthorizedOrError = await handleAuthorized({ user, account, credentials }, options);\n            if (unauthorizedOrError)\n                return { ...unauthorizedOrError, cookies };\n            const defaultToken = {\n                name: user.name,\n                email: user.email,\n                picture: user.image,\n                sub: user.id?.toString(),\n            };\n            const token = await callbacks.jwt({\n                token: defaultToken,\n                user,\n                // @ts-expect-error\n                account,\n                isNewUser: false,\n                trigger: \"signIn\",\n            });\n            // Clear cookies if token is null\n            if (token === null) {\n                cookies.push(...sessionStore.clean());\n            }\n            else {\n                // Encode token\n                const newToken = await jwt.encode({ ...jwt, token });\n                // Set cookie expiry date\n                const cookieExpires = new Date();\n                cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: cookieExpires,\n                });\n                cookies.push(...sessionCookies);\n            }\n            // @ts-expect-error\n            await events.signIn?.({ user, account });\n            return { redirect: callbackUrl, cookies };\n        }\n        return {\n            status: 500,\n            body: `Error: Callback for provider type ${provider.type} not supported`,\n            cookies,\n        };\n    }\n    catch (e) {\n        if (e instanceof OAuthCallbackError) {\n            logger.error(e);\n            // REVIEW: Should we expose original error= and error_description=\n            // Should we use a different name for error= then, since we already use it for all kind of errors?\n            url.searchParams.set(\"error\", OAuthCallbackError.name);\n            url.pathname += \"/signin\";\n            return { redirect: url.toString(), cookies };\n        }\n        const error = new CallbackRouteError(e, { provider: provider.id });\n        logger.debug(\"callback route error details\", { method, query, body });\n        logger.error(error);\n        url.searchParams.set(\"error\", CallbackRouteError.name);\n        url.pathname += \"/error\";\n        return { redirect: url.toString(), cookies };\n    }\n}\n", "/**\n * Return a JSON object with a list of all OAuth providers currently configured\n * and their signin and callback URLs. This makes it possible to automatically\n * generate buttons for all providers when rendering client side.\n */\nexport function providers(providers) {\n    return {\n        headers: { \"Content-Type\": \"application/json\" },\n        body: providers.reduce((acc, { id, name, type, signinUrl, callbackUrl }) => {\n            acc[id] = { id, name, type, signinUrl, callbackUrl };\n            return acc;\n        }, {}),\n    };\n}\n", "import { JWTSessionError, SessionTokenError } from \"../../errors.js\";\nimport { fromDate } from \"../utils/date.js\";\n/** Return a session object filtered via `callbacks.session` */\nexport async function session(params) {\n    const { options, sessionStore, newSession, isUpdate } = params;\n    const { adapter, jwt, events, callbacks, logger, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, } = options;\n    const response = {\n        body: null,\n        headers: { \"Content-Type\": \"application/json\" },\n        cookies: [],\n    };\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return response;\n    if (sessionStrategy === \"jwt\") {\n        try {\n            const decodedToken = await jwt.decode({ ...jwt, token: sessionToken });\n            if (!decodedToken)\n                throw new Error(\"Invalid JWT\");\n            // @ts-expect-error\n            const token = await callbacks.jwt({\n                token: decodedToken,\n                ...(isUpdate && { trigger: \"update\" }),\n                session: newSession,\n            });\n            const newExpires = fromDate(sessionMaxAge);\n            if (token !== null) {\n                // By default, only exposes a limited subset of information to the client\n                // as needed for presentation purposes (e.g. \"you are logged in as...\").\n                const session = {\n                    user: { name: token.name, email: token.email, image: token.picture },\n                    expires: newExpires.toISOString(),\n                };\n                // @ts-expect-error\n                const newSession = await callbacks.session({ session, token });\n                // Return session payload as response\n                response.body = newSession;\n                // Refresh JWT expiry by re-signing it, with an updated expiry date\n                const newToken = await jwt.encode({\n                    ...jwt,\n                    token,\n                });\n                // Set cookie, to also update expiry date on cookie\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: newExpires,\n                });\n                response.cookies?.push(...sessionCookies);\n                await events.session?.({ session: newSession, token });\n            }\n            else {\n                response.cookies?.push(...sessionStore.clean());\n            }\n        }\n        catch (e) {\n            logger.error(new JWTSessionError(e));\n            // If the JWT is not verifiable remove the broken session cookie(s).\n            response.cookies?.push(...sessionStore.clean());\n        }\n        return response;\n    }\n    // Retrieve session from database\n    try {\n        const { getSessionAndUser, deleteSession, updateSession } = adapter;\n        let userAndSession = await getSessionAndUser(sessionToken);\n        // If session has expired, clean up the database\n        if (userAndSession &&\n            userAndSession.session.expires.valueOf() < Date.now()) {\n            await deleteSession(sessionToken);\n            userAndSession = null;\n        }\n        if (userAndSession) {\n            const { user, session } = userAndSession;\n            const sessionUpdateAge = options.session.updateAge;\n            // Calculate last updated date to throttle write updates to database\n            // Formula: ({expiry date} - sessionMaxAge) + sessionUpdateAge\n            //     e.g. ({expiry date} - 30 days) + 1 hour\n            const sessionIsDueToBeUpdatedDate = session.expires.valueOf() -\n                sessionMaxAge * 1000 +\n                sessionUpdateAge * 1000;\n            const newExpires = fromDate(sessionMaxAge);\n            // Trigger update of session expiry date and write to database, only\n            // if the session was last updated more than {sessionUpdateAge} ago\n            if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n                await updateSession({\n                    sessionToken: sessionToken,\n                    expires: newExpires,\n                });\n            }\n            // Pass Session through to the session callback\n            // @ts-expect-error\n            const sessionPayload = await callbacks.session({\n                // By default, only exposes a limited subset of information to the client\n                // as needed for presentation purposes (e.g. \"you are logged in as...\").\n                session: {\n                    user: { name: user.name, email: user.email, image: user.image },\n                    expires: session.expires.toISOString(),\n                },\n                user,\n                newSession,\n                ...(isUpdate ? { trigger: \"update\" } : {}),\n            });\n            // Return session payload as response\n            response.body = sessionPayload;\n            // Set cookie again to update expiry\n            response.cookies?.push({\n                name: options.cookies.sessionToken.name,\n                value: sessionToken,\n                options: {\n                    ...options.cookies.sessionToken.options,\n                    expires: newExpires,\n                },\n            });\n            // @ts-expect-error\n            await events.session?.({ session: sessionPayload });\n        }\n        else if (sessionToken) {\n            // If `sessionToken` was found set but it's not valid for a session then\n            // remove the sessionToken cookie from browser.\n            response.cookies?.push(...sessionStore.clean());\n        }\n    }\n    catch (e) {\n        logger.error(new SessionTokenError(e));\n    }\n    return response;\n}\n", "import { createHash, randomString, toRequest } from \"../web.js\";\n/**\n * Starts an e-mail login flow, by generating a token,\n * and sending it to the user's e-mail (with the help of a DB adapter)\n */\nexport default async function email(identifier, options, request) {\n    const { url, adapter, provider, callbackUrl, theme } = options;\n    const token = (await provider.generateVerificationToken?.()) ?? randomString(32);\n    const ONE_DAY_IN_SECONDS = 86400;\n    const expires = new Date(Date.now() + (provider.maxAge ?? ONE_DAY_IN_SECONDS) * 1000);\n    // Generate a link with email, unhashed token and callback url\n    const params = new URLSearchParams({ callbackUrl, token, email: identifier });\n    const _url = `${url}/callback/${provider.id}?${params}`;\n    const secret = provider.secret ?? options.secret;\n    await Promise.all([\n        provider.sendVerificationRequest({\n            identifier,\n            token,\n            expires,\n            url: _url,\n            provider,\n            theme,\n            request: toRequest(request),\n        }),\n        // @ts-expect-error -- Verified in `assertConfig`.\n        adapter.createVerificationToken?.({\n            identifier,\n            token: await createHash(`${token}${secret}`),\n            expires,\n        }),\n    ]);\n    return `${url}/verify-request?${new URLSearchParams({\n        provider: provider.id,\n        type: provider.type,\n    })}`;\n}\n", "import * as checks from \"./checks.js\";\nimport * as o from \"oauth4webapi\";\n/**\n * Generates an authorization/request token URL.\n *\n * [OAuth 2](https://www.oauth.com/oauth2-servers/authorization/the-authorization-request/)\n */\nexport async function getAuthorizationUrl(query, options) {\n    const { logger, provider } = options;\n    let url = provider.authorization?.url;\n    let as;\n    // Falls back to authjs.dev if the user only passed params\n    if (!url || url.host === \"authjs.dev\") {\n        // If url is undefined, we assume that issuer is always defined\n        // We check this in assert.ts\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await o.discoveryRequest(issuer);\n        const as = await o.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!as.authorization_endpoint) {\n            throw new TypeError(\"Authorization server did not provide an authorization endpoint.\");\n        }\n        url = new URL(as.authorization_endpoint);\n    }\n    const authParams = url.searchParams;\n    let redirect_uri = provider.callbackUrl;\n    let data;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n        data = { origin: provider.callbackUrl };\n        logger.debug(\"using redirect proxy\", { redirect_uri, data });\n    }\n    const params = Object.assign({\n        response_type: \"code\",\n        // clientId can technically be undefined, should we check this in assert.ts or rely on the Authorization Server to do it?\n        client_id: provider.clientId,\n        redirect_uri,\n        // @ts-expect-error TODO:\n        ...provider.authorization?.params,\n    }, Object.fromEntries(provider.authorization?.url.searchParams ?? []), query);\n    for (const k in params)\n        authParams.set(k, params[k]);\n    const cookies = [];\n    const state = await checks.state.create(options, data);\n    if (state) {\n        authParams.set(\"state\", state.value);\n        cookies.push(state.cookie);\n    }\n    if (provider.checks?.includes(\"pkce\")) {\n        if (as && !as.code_challenge_methods_supported?.includes(\"S256\")) {\n            // We assume S256 PKCE support, if the server does not advertise that,\n            // a random `nonce` must be used for CSRF protection.\n            if (provider.type === \"oidc\")\n                provider.checks = [\"nonce\"];\n        }\n        else {\n            const { value, cookie } = await checks.pkce.create(options);\n            authParams.set(\"code_challenge\", value);\n            authParams.set(\"code_challenge_method\", \"S256\");\n            cookies.push(cookie);\n        }\n    }\n    const nonce = await checks.nonce.create(options);\n    if (nonce) {\n        authParams.set(\"nonce\", nonce.value);\n        cookies.push(nonce.cookie);\n    }\n    // TODO: This does not work in normalizeOAuth because authorization endpoint can come from discovery\n    // Need to make normalizeOAuth async\n    if (provider.type === \"oidc\" && !url.searchParams.has(\"scope\")) {\n        url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    logger.debug(\"authorization url is ready\", { url, cookies, provider });\n    return { redirect: url.toString(), cookies };\n}\n", "import emailSignin from \"../email/signin.js\";\nimport { SignInError } from \"../../errors.js\";\nimport { getAuthorizationUrl } from \"../oauth/authorization-url.js\";\nimport { handleAuthorized } from \"./shared.js\";\n/**\n * Initiates the sign in process for OAuth and Email flows .\n * For OAuth, redirects to the provider's authorization URL.\n * For Email, sends an email with a sign in link.\n */\nexport async function signin(request, options) {\n    const { query, body } = request;\n    const { url, logger, provider } = options;\n    try {\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            return await getAuthorizationUrl(query, options);\n        }\n        else if (provider.type === \"email\") {\n            const normalizer = provider.normalizeIdentifier ?? defaultNormalizer;\n            const email = normalizer(body?.email);\n            const user = (await options.adapter.getUserByEmail(email)) ?? {\n                id: email,\n                email,\n                emailVerified: null,\n            };\n            const account = {\n                providerAccountId: email,\n                userId: user.id,\n                type: \"email\",\n                provider: provider.id,\n            };\n            const unauthorizedOrError = await handleAuthorized({ user, account, email: { verificationRequest: true } }, options);\n            if (unauthorizedOrError)\n                return unauthorizedOrError;\n            const redirect = await emailSignin(email, options, request);\n            return { redirect };\n        }\n        return { redirect: `${url}/signin` };\n    }\n    catch (e) {\n        const error = new SignInError(e, { provider: provider.id });\n        logger.error(error);\n        const code = provider.type === \"email\" ? \"EmailSignin\" : \"OAuthSignin\";\n        url.searchParams.set(\"error\", code);\n        url.pathname += \"/signin\";\n        return { redirect: url.toString() };\n    }\n}\nfunction defaultNormalizer(email) {\n    if (!email)\n        throw new Error(\"Missing email from request body.\");\n    // Get the first two elements only,\n    // separated by `@` from user input.\n    let [local, domain] = email.toLowerCase().trim().split(\"@\");\n    // The part before \"@\" can contain a \",\"\n    // but we remove it on the domain part\n    domain = domain.split(\",\")[0];\n    return `${local}@${domain}`;\n}\n", "import { SignOutError } from \"../../errors.js\";\n/**\n * Destroys the session.\n * If the session strategy is database,\n * The session is also deleted from the database.\n * In any case, the session cookie is cleared and\n * {@link EventCallbacks.signOut} is emitted.\n */\nexport async function signout(sessionStore, options) {\n    const { jwt, events, callbackUrl: redirect, logger, session } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return { redirect };\n    try {\n        if (session.strategy === \"jwt\") {\n            const token = await jwt.decode({ ...jwt, token: sessionToken });\n            await events.signOut?.({ token });\n        }\n        else {\n            const session = await options.adapter?.deleteSession(sessionToken);\n            await events.signOut?.({ session });\n        }\n    }\n    catch (e) {\n        logger.error(new SignOutError(e));\n    }\n    return { redirect, cookies: sessionStore.clean() };\n}\n", "export { callback } from \"./callback.js\";\nexport { providers } from \"./providers.js\";\nexport { session } from \"./session.js\";\nexport { signin } from \"./signin.js\";\nexport { signout } from \"./signout.js\";\n", "import { UnknownAction } from \"../errors.js\";\nimport { SessionStore } from \"./cookie.js\";\nimport { init } from \"./init.js\";\nimport renderPage from \"./pages/index.js\";\nimport * as routes from \"./routes/index.js\";\n/** @internal */\nexport async function AuthInternal(request, authOptions) {\n    const { action, providerId, error, method } = request;\n    const csrfDisabled = authOptions.skipCSRFCheck === skipCSRFCheck;\n    const { options, cookies } = await init({\n        authOptions,\n        action,\n        providerId,\n        url: request.url,\n        callbackUrl: request.body?.callbackUrl ?? request.query?.callbackUrl,\n        csrfToken: request.body?.csrfToken,\n        cookies: request.cookies,\n        isPost: method === \"POST\",\n        csrfDisabled,\n    });\n    const sessionStore = new SessionStore(options.cookies.sessionToken, request, options.logger);\n    if (method === \"GET\") {\n        const render = renderPage({ ...options, query: request.query, cookies });\n        const { pages } = options;\n        switch (action) {\n            case \"providers\":\n                return (await routes.providers(options.providers));\n            case \"session\": {\n                const session = await routes.session({ sessionStore, options });\n                if (session.cookies)\n                    cookies.push(...session.cookies);\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n                return { ...session, cookies };\n            }\n            case \"csrf\": {\n                if (csrfDisabled) {\n                    options.logger.warn(\"csrf-disabled\");\n                    cookies.push({\n                        name: options.cookies.csrfToken.name,\n                        value: \"\",\n                        options: { ...options.cookies.csrfToken.options, maxAge: 0 },\n                    });\n                    return { status: 404, cookies };\n                }\n                return {\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: { csrfToken: options.csrfToken },\n                    cookies,\n                };\n            }\n            case \"signin\":\n                if (pages.signIn) {\n                    let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl: options.callbackUrl })}`;\n                    if (error)\n                        signinUrl = `${signinUrl}&${new URLSearchParams({ error })}`;\n                    return { redirect: signinUrl, cookies };\n                }\n                return render.signin();\n            case \"signout\":\n                if (pages.signOut)\n                    return { redirect: pages.signOut, cookies };\n                return render.signout();\n            case \"callback\":\n                if (options.provider) {\n                    const callback = await routes.callback({\n                        body: request.body,\n                        query: request.query,\n                        headers: request.headers,\n                        cookies: request.cookies,\n                        method,\n                        options,\n                        sessionStore,\n                    });\n                    if (callback.cookies)\n                        cookies.push(...callback.cookies);\n                    return { ...callback, cookies };\n                }\n                break;\n            case \"verify-request\":\n                if (pages.verifyRequest) {\n                    return { redirect: pages.verifyRequest, cookies };\n                }\n                return render.verifyRequest();\n            case \"error\":\n                // These error messages are displayed in line on the sign in page\n                // TODO: verify these. We should redirect these to signin directly, instead of\n                // first to error and then to signin.\n                if ([\n                    \"Signin\",\n                    \"OAuthCreateAccount\",\n                    \"EmailCreateAccount\",\n                    \"Callback\",\n                    \"OAuthAccountNotLinked\",\n                    \"SessionRequired\",\n                ].includes(error)) {\n                    return { redirect: `${options.url}/signin?error=${error}`, cookies };\n                }\n                if (pages.error) {\n                    return {\n                        redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n                        cookies,\n                    };\n                }\n                return render.error({ error: error });\n            default:\n        }\n    }\n    else {\n        switch (action) {\n            case \"signin\":\n                if ((csrfDisabled || options.csrfTokenVerified) && options.provider) {\n                    const signin = await routes.signin(request, options);\n                    if (signin.cookies)\n                        cookies.push(...signin.cookies);\n                    return { ...signin, cookies };\n                }\n                return { redirect: `${options.url}/signin?csrf=true`, cookies };\n            case \"signout\":\n                if (csrfDisabled || options.csrfTokenVerified) {\n                    const signout = await routes.signout(sessionStore, options);\n                    if (signout.cookies)\n                        cookies.push(...signout.cookies);\n                    return { ...signout, cookies };\n                }\n                return { redirect: `${options.url}/signout?csrf=true`, cookies };\n            case \"callback\":\n                if (options.provider) {\n                    // Verified CSRF Token required for credentials providers only\n                    if (options.provider.type === \"credentials\" &&\n                        !csrfDisabled &&\n                        !options.csrfTokenVerified) {\n                        return { redirect: `${options.url}/signin?csrf=true`, cookies };\n                    }\n                    const callback = await routes.callback({\n                        body: request.body,\n                        query: request.query,\n                        headers: request.headers,\n                        cookies: request.cookies,\n                        method,\n                        options,\n                        sessionStore,\n                    });\n                    if (callback.cookies)\n                        cookies.push(...callback.cookies);\n                    return { ...callback, cookies };\n                }\n                break;\n            case \"session\": {\n                if (options.csrfTokenVerified) {\n                    const session = await routes.session({\n                        options,\n                        sessionStore,\n                        newSession: request.body?.data,\n                        isUpdate: true,\n                    });\n                    if (session.cookies)\n                        cookies.push(...session.cookies);\n                    return { ...session, cookies };\n                }\n                // If CSRF token is invalid, return a 400 status code\n                // we should not redirect to a page as this is an API route\n                return { status: 400, cookies };\n            }\n            default:\n        }\n    }\n    throw new UnknownAction(`Cannot handle action: ${action}`);\n}\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js comes with built-in {@link https://authjs.dev/concepts/security#csrf CSRF} protection, but\n * if you are implementing a framework that is already protected against CSRF attacks, you can skip this check by\n * passing this value to {@link AuthConfig.skipCSRFCheck}.\n */\nexport const skipCSRFCheck = Symbol(\"skip-csrf-check\");\n", "/**\n *\n * :::warning Experimental\n * `@auth/core` is under active development.\n * :::\n *\n * This is the main entry point to the Auth.js library.\n *\n * Based on the {@link https://developer.mozilla.org/en-US/docs/Web/API/Request Request}\n * and {@link https://developer.mozilla.org/en-US/docs/Web/API/Response Response} Web standard APIs.\n * Primarily used to implement [framework](https://authjs.dev/concepts/frameworks)-specific packages,\n * but it can also be used directly.\n *\n * ## Installation\n *\n * ```bash npm2yarn2pnpm\n * npm install @auth/core\n * ```\n *\n * ## Usage\n *\n * ```ts\n * import { Auth } from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await Auth(request, {...})\n *\n * console.log(response instanceof Response) // true\n * ```\n *\n * ## Resources\n *\n * - [Getting started](https://authjs.dev/getting-started/introduction)\n * - [Most common use case guides](https://authjs.dev/guides)\n *\n * @module index\n */\nimport { assertConfig } from \"./lib/assert.js\";\nimport { ErrorPageLoop } from \"./errors.js\";\nimport { AuthInternal, skipCSRFCheck } from \"./lib/index.js\";\nimport renderPage from \"./lib/pages/index.js\";\nimport { logger, setLogger } from \"./lib/utils/logger.js\";\nimport { toInternalRequest, toResponse } from \"./lib/web.js\";\nexport { skipCSRFCheck };\n/**\n * Core functionality provided by Auth.js.\n *\n * Receives a standard {@link Request} and returns a {@link Response}.\n *\n * @example\n * ```ts\n * import Auth from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await AuthHandler(request, {\n *   providers: [...],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n *```\n * @see [Documentation](https://authjs.dev)\n */\nexport async function Auth(request, config) {\n    setLogger(config.logger, config.debug);\n    const internalRequest = await toInternalRequest(request);\n    if (internalRequest instanceof Error) {\n        logger.error(internalRequest);\n        return new Response(`Error: This action with HTTP ${request.method} is not supported.`, { status: 400 });\n    }\n    const assertionResult = assertConfig(internalRequest, config);\n    if (Array.isArray(assertionResult)) {\n        assertionResult.forEach(logger.warn);\n    }\n    else if (assertionResult instanceof Error) {\n        // Bail out early if there's an error in the user config\n        logger.error(assertionResult);\n        const htmlPages = [\"signin\", \"signout\", \"error\", \"verify-request\"];\n        if (!htmlPages.includes(internalRequest.action) ||\n            internalRequest.method !== \"GET\") {\n            return new Response(JSON.stringify({\n                message: \"There was a problem with the server configuration. Check the server logs for more information.\",\n                code: assertionResult.name,\n            }), { status: 500, headers: { \"Content-Type\": \"application/json\" } });\n        }\n        const { pages, theme } = config;\n        const authOnErrorPage = pages?.error &&\n            internalRequest.url.searchParams\n                .get(\"callbackUrl\")\n                ?.startsWith(pages.error);\n        if (!pages?.error || authOnErrorPage) {\n            if (authOnErrorPage) {\n                logger.error(new ErrorPageLoop(`The error page ${pages?.error} should not require authentication`));\n            }\n            const render = renderPage({ theme });\n            const page = render.error({ error: \"Configuration\" });\n            return toResponse(page);\n        }\n        return Response.redirect(`${pages.error}?error=Configuration`);\n    }\n    const internalResponse = await AuthInternal(internalRequest, config);\n    const response = await toResponse(internalResponse);\n    // If the request expects a return URL, send it as JSON\n    // instead of doing an actual redirect.\n    const redirect = response.headers.get(\"Location\");\n    if (request.headers.has(\"X-Auth-Return-Redirect\") && redirect) {\n        response.headers.delete(\"Location\");\n        response.headers.set(\"Content-Type\", \"application/json\");\n        return new Response(JSON.stringify({ url: redirect }), {\n            headers: response.headers,\n        });\n    }\n    return response;\n}\n", "import \"@upstash/redis\";\nimport \"@upstash/ratelimit\";\nimport \"./index.js\";\nimport Google from \"@auth/core/providers/google\";\nimport { D as DEV } from \"./prod-ssr.js\";\nimport { d as private_env } from \"./internal.js\";\nimport { Auth } from \"@auth/core\";\nconst dev = DEV;\nconst GOOGLE_ID = \"737733258687-oltu3uq51uegvgto90lnm3uc4kdcl42n.apps.googleusercontent.com\";\nconst GOOGLE_SECRET = \"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\";\nconst AUTH_SECRET = \"61f6c860a7908d09514cdfd7f51a4f92\";\nfunction sequence(...handlers) {\n  const length = handlers.length;\n  if (!length)\n    return ({ event, resolve }) => resolve(event);\n  return ({ event, resolve }) => {\n    return apply_handle(0, event, {});\n    function apply_handle(i, event2, parent_options) {\n      const handle2 = handlers[i];\n      return handle2({\n        event: event2,\n        resolve: (event3, options) => {\n          const transformPageChunk = async ({ html, done }) => {\n            if (options?.transformPageChunk) {\n              html = await options.transformPageChunk({ html, done }) ?? \"\";\n            }\n            if (parent_options?.transformPageChunk) {\n              html = await parent_options.transformPageChunk({ html, done }) ?? \"\";\n            }\n            return html;\n          };\n          const filterSerializedResponseHeaders = parent_options?.filterSerializedResponseHeaders ?? options?.filterSerializedResponseHeaders;\n          const preload = parent_options?.preload ?? options?.preload;\n          return i < length - 1 ? apply_handle(i + 1, event3, {\n            transformPageChunk,\n            filterSerializedResponseHeaders,\n            preload\n          }) : resolve(event3, { transformPageChunk, filterSerializedResponseHeaders, preload });\n        }\n      });\n    }\n  };\n}\nasync function getSession(req, config) {\n  config.secret ??= private_env.AUTH_SECRET;\n  config.trustHost ??= true;\n  const prefix = config.prefix ?? \"/auth\";\n  const url = new URL(prefix + \"/session\", req.url);\n  const request = new Request(url, { headers: req.headers });\n  const response = await Auth(request, config);\n  const { status = 200 } = response;\n  const data = await response.json();\n  if (!data || !Object.keys(data).length)\n    return null;\n  if (status === 200)\n    return data;\n  throw new Error(data.message);\n}\nconst actions = [\n  \"providers\",\n  \"session\",\n  \"csrf\",\n  \"signin\",\n  \"signout\",\n  \"callback\",\n  \"verify-request\",\n  \"error\"\n];\nfunction AuthHandle(svelteKitAuthOptions) {\n  return async function({ event, resolve }) {\n    const authOptions = typeof svelteKitAuthOptions === \"object\" ? svelteKitAuthOptions : await svelteKitAuthOptions(event);\n    const { prefix = \"/auth\" } = authOptions;\n    const { url, request } = event;\n    event.locals.getSession ??= () => getSession(request, authOptions);\n    const action = url.pathname.slice(prefix.length + 1).split(\"/\")[0];\n    if (!actions.includes(action) || !url.pathname.startsWith(prefix + \"/\")) {\n      return resolve(event);\n    }\n    return Auth(request, authOptions);\n  };\n}\nfunction SvelteKitAuth(options) {\n  if (typeof options === \"object\") {\n    options.secret ??= private_env.AUTH_SECRET;\n    options.trustHost ??= !!(private_env.AUTH_TRUST_HOST ?? private_env.VERCEL ?? dev);\n  }\n  return AuthHandle(options);\n}\nconst checks = async ({ event, resolve }) => {\n  const response = await resolve(event);\n  return response;\n};\nconst authMiddleWare = SvelteKitAuth({\n  secret: AUTH_SECRET,\n  providers: [\n    Google({\n      clientId: GOOGLE_ID,\n      clientSecret: GOOGLE_SECRET,\n      authorization: {\n        params: {\n          prompt: \"consent\",\n          access_type: \"offline\",\n          scope: \"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.announcements.readonly https://www.googleapis.com/auth/classroom.rosters.readonly\"\n        }\n      }\n    })\n  ],\n  callbacks: {\n    async redirect() {\n      return \"/feed\";\n    },\n    async jwt({ token, account }) {\n      if (account) {\n        return {\n          ...token,\n          access_token: account.access_token,\n          expires_at: Math.floor(\n            Date.now() / 1e3 + account.expires_in\n          ),\n          refresh_token: account.refresh_token\n        };\n      } else if (Date.now() < Number(token.expires_at) * 1e3) {\n        return token;\n      } else {\n        try {\n          const searchParams = new URLSearchParams({\n            client_id: GOOGLE_ID,\n            client_secret: GOOGLE_SECRET,\n            grant_type: \"refresh_token\",\n            refresh_token: token.refresh_token\n          });\n          const response = await fetch(\n            \"https://oauth2.googleapis.com/token\",\n            {\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              },\n              body: searchParams,\n              method: \"POST\"\n            }\n          );\n          const tokens = await response.json();\n          if (!response.ok)\n            throw tokens;\n          return {\n            ...token,\n            // Keep the previous token properties\n            access_token: tokens.access_token,\n            expires_at: Math.floor(\n              Date.now() / 1e3 + tokens.expires_in\n            ),\n            // Fall back to old refresh token, but note that\n            // many providers may only allow using a refresh token once.\n            refresh_token: tokens.refresh_token ?? token.refresh_token\n          };\n        } catch (error2) {\n          console.error(\"Error refreshing access token\", error2);\n          return { ...token, error: \"RefreshAccessTokenError\" };\n        }\n      }\n    },\n    async session({ session, token }) {\n      session.error = token.error;\n      session.access_token = token.access_token;\n      session.refresh_token = token.refresh_token;\n      return session;\n    }\n  }\n});\nconst handle = sequence(authMiddleWare, checks);\nexport {\n  handle\n};\n", "import { c as create_ssr_component, s as setContext, v as validate_component, m as missing_component } from \"./ssr.js\";\nlet base = \"\";\nlet assets = base;\nconst initial = { base, assets };\nfunction reset() {\n  base = initial.base;\n  assets = initial.assets;\n}\nfunction set_assets(path) {\n  assets = initial.assets = path;\n}\nlet private_env = {};\nlet public_env = {};\nfunction set_private_env(environment) {\n  private_env = environment;\n}\nfunction set_public_env(environment) {\n  public_env = environment;\n}\nfunction afterUpdate() {\n}\nfunction set_building() {\n}\nconst Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { stores } = $$props;\n  let { page } = $$props;\n  let { constructors } = $$props;\n  let { components = [] } = $$props;\n  let { form } = $$props;\n  let { data_0 = null } = $$props;\n  let { data_1 = null } = $$props;\n  {\n    setContext(\"__svelte__\", stores);\n  }\n  afterUpdate(stores.page.notify);\n  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)\n    $$bindings.stores(stores);\n  if ($$props.page === void 0 && $$bindings.page && page !== void 0)\n    $$bindings.page(page);\n  if ($$props.constructors === void 0 && $$bindings.constructors && constructors !== void 0)\n    $$bindings.constructors(constructors);\n  if ($$props.components === void 0 && $$bindings.components && components !== void 0)\n    $$bindings.components(components);\n  if ($$props.form === void 0 && $$bindings.form && form !== void 0)\n    $$bindings.form(form);\n  if ($$props.data_0 === void 0 && $$bindings.data_0 && data_0 !== void 0)\n    $$bindings.data_0(data_0);\n  if ($$props.data_1 === void 0 && $$bindings.data_1 && data_1 !== void 0)\n    $$bindings.data_1(data_1);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    {\n      stores.page.set(page);\n    }\n    $$rendered = `  ${constructors[1] ? `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { data: data_0, this: components[0] },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(constructors[1] || missing_component, \"svelte:component\").$$render(\n            $$result,\n            { data: data_1, form, this: components[1] },\n            {\n              this: ($$value) => {\n                components[1] = $$value;\n                $$settled = false;\n              }\n            },\n            {}\n          )}`;\n        }\n      }\n    )}` : `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { data: data_0, form, this: components[0] },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`} ${``}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nconst options = {\n  app_template_contains_nonce: false,\n  csp: { \"mode\": \"auto\", \"directives\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false }, \"reportOnly\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false } },\n  csrf_check_origin: true,\n  track_server_fetches: false,\n  embedded: false,\n  env_public_prefix: \"PUBLIC_\",\n  env_private_prefix: \"\",\n  hooks: null,\n  // added lazily, via `get_hooks`\n  preload_strategy: \"modulepreload\",\n  root: Root,\n  service_worker: false,\n  templates: {\n    app: ({ head, body, assets: assets2, nonce, env }) => '<!DOCTYPE html>\\n<html lang=\"en\">\\n    <head>\\n        <meta charset=\"utf-8\" />\\n        <link rel=\"icon\" href=\"' + assets2 + '/favicon.png\" />\\n        <link rel=\"apple-touch-icon\" href=\"/apple-touch-icon-180x180.png\" />\\n        <meta name=\"viewport\" content=\"width=device-width\" />\\n        ' + head + '\\n    </head>\\n    <body data-sveltekit-preload-data=\"hover\">\\n        <div style=\"display: contents\">' + body + \"</div>\\n    </body>\\n</html>\\n\",\n    error: ({ status, message }) => '<!DOCTYPE html>\\n<html lang=\"en\">\\n\t<head>\\n\t\t<meta charset=\"utf-8\" />\\n\t\t<title>' + message + `</title>\n\n\t\t<style>\n\t\t\tbody {\n\t\t\t\t--bg: white;\n\t\t\t\t--fg: #222;\n\t\t\t\t--divider: #ccc;\n\t\t\t\tbackground: var(--bg);\n\t\t\t\tcolor: var(--fg);\n\t\t\t\tfont-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n\t\t\t\t\tUbuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.error {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmax-width: 32rem;\n\t\t\t\tmargin: 0 1rem;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\tfont-weight: 200;\n\t\t\t\tfont-size: 3rem;\n\t\t\t\tline-height: 1;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -0.05rem;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tborder-left: 1px solid var(--divider);\n\t\t\t\tpadding: 0 0 0 1rem;\n\t\t\t\tmargin: 0 0 0 1rem;\n\t\t\t\tmin-height: 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.message h1 {\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\tbody {\n\t\t\t\t\t--bg: #222;\n\t\t\t\t\t--fg: #ddd;\n\t\t\t\t\t--divider: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"error\">\n\t\t\t<span class=\"status\">` + status + '</span>\\n\t\t\t<div class=\"message\">\\n\t\t\t\t<h1>' + message + \"</h1>\\n\t\t\t</div>\\n\t\t</div>\\n\t</body>\\n</html>\\n\"\n  },\n  version_hash: \"ydueeq\"\n};\nfunction get_hooks() {\n  return import(\"./hooks.server.js\");\n}\nexport {\n  assets as a,\n  base as b,\n  set_public_env as c,\n  private_env as d,\n  set_assets as e,\n  set_building as f,\n  get_hooks as g,\n  options as o,\n  public_env as p,\n  reset as r,\n  set_private_env as s\n};\n", "import { n as noop, f as safe_not_equal } from \"./ssr.js\";\nconst subscriber_queue = [];\nfunction readable(value, start) {\n  return {\n    subscribe: writable(value, start).subscribe\n  };\n}\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = /* @__PURE__ */ new Set();\n  function set(new_value) {\n    if (safe_not_equal(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        const run_queue = !subscriber_queue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriber_queue.push(subscriber, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n  function update(fn) {\n    set(fn(value));\n  }\n  function subscribe(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set, update) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0 && stop) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n  return { set, update, subscribe };\n}\nexport {\n  readable as r,\n  writable as w\n};\n", "const load = async (event) => {\n  const session = await event.locals.getSession();\n  return {\n    session\n  };\n};\nexport {\n  load\n};\n", "import { c as create_ssr_component } from \"../../chunks/ssr.js\";\nconst app = \"\";\nconst pwaInfo = { \"pwaInDevEnvironment\": false, \"webManifest\": { \"href\": \"/manifest.webmanifest\", \"useCredentials\": false, \"linkTag\": '<link rel=\"manifest\" href=\"/manifest.webmanifest\">' } };\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let webManifest;\n  webManifest = pwaInfo ? pwaInfo.webManifest.linkTag : \"\";\n  return `${$$result.head += `<!-- HEAD_svelte-nfny5e_START --><!-- HTML_TAG_START -->${webManifest}<!-- HTML_TAG_END --><!-- HEAD_svelte-nfny5e_END -->`, \"\"} <main>${slots.default ? slots.default({}) : ``}</main>`;\n});\nexport {\n  Layout as default\n};\n", "import * as server from '../entries/pages/_layout.server.ts.js';\n\nexport const index = 0;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_layout.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+layout.server.ts\";\nexport const imports = [\"_app/immutable/nodes/0.e0e1d7a8.js\",\"_app/immutable/chunks/scheduler.433f0f0f.js\",\"_app/immutable/chunks/index.339c83b0.js\"];\nexport const stylesheets = [\"_app/immutable/assets/0.6b72d574.css\"];\nexport const fonts = [];\n", "import { g as getContext } from \"./ssr.js\";\nconst getStores = () => {\n  const stores = getContext(\"__svelte__\");\n  return {\n    /** @type {typeof page} */\n    page: {\n      subscribe: stores.page.subscribe\n    },\n    /** @type {typeof navigating} */\n    navigating: {\n      subscribe: stores.navigating.subscribe\n    },\n    /** @type {typeof updated} */\n    updated: stores.updated\n  };\n};\nconst page = {\n  subscribe(fn) {\n    const store = getStores().page;\n    return store.subscribe(fn);\n  }\n};\nexport {\n  page as p\n};\n", "import { c as create_ssr_component, a as subscribe, e as escape } from \"../../chunks/ssr.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nconst Error = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  $$unsubscribe_page();\n  return `<h1>${escape($page.status)}</h1> <p>${escape($page.error?.message)}</p>`;\n});\nexport {\n  Error as default\n};\n", "\n\nexport const index = 1;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/fallbacks/error.svelte.js')).default;\nexport const imports = [\"_app/immutable/nodes/1.8cb0a9e2.js\",\"_app/immutable/chunks/scheduler.433f0f0f.js\",\"_app/immutable/chunks/index.339c83b0.js\",\"_app/immutable/chunks/stores.a608d631.js\",\"_app/immutable/chunks/singletons.2f50626b.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { c as create_ssr_component, a as subscribe } from \"../../chunks/ssr.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => value);\n  $$unsubscribe_page();\n  return `<div class=\"w-screen\"><div class=\"flex-col-center lg:flex-row\"><div class=\"h-screen lg:h-full flex-col-center\"><div class=\"flex-col-center gap-y-8 lg:w-min px-6\"><h1 class=\"text-center text-4xl font-bold\" data-svelte-h=\"svelte-r1kv0t\">Check announcements of all your enrolled google classrooms\n                    sorted by last updated time!</h1> <button class=\"btn btn-primary\" data-svelte-h=\"svelte-1s9uzpt\">Get Started</button></div></div> <div class=\"h-screen lg:max-h-screen lg:p-8\" data-svelte-h=\"svelte-1h0c936\"><img src=\"/page-shot.webp\" alt=\"hero\" class=\"rounded-lg shadow-2xl object-contain h-full\" id=\"page-shot\"></div></div> <div class=\"lg:flex-row-center\" data-svelte-h=\"svelte-10z03ct\"><div class=\"h-screen w-full bg-base-200 lg:p-16 lg:text-xl lg:basis-1/2\"><div class=\"h-full flex-col-center mx-12 lg:mx-0\"><h2 class=\"text-4xl text-center\">How does it work ?</h2> <p class=\"my-4\">As soon as the page is loaded, announcements from all the\n                    courses are fetched concurrently!</p> <p>A caching mechanism is set in place to make the app as fast\n                    as it can be. If one user fetched announcements from a\n                    course then in the next minute anyone who tries to fetch\n                    announcements from the same course will get a cached\n                    response, making the google api the only bottleneck.</p></div></div> <div class=\"h-screen flex-col-center lg:p-16 lg:text-xl mx-12 lg:mx-0 lg:basis-1/2\"><h2 class=\"text-4xl text-center\">What are the limitations ?</h2> <p class=\"my-4\">For each particular course only the latest 5 announcements are\n                fetched as the purpose of this app is to have a quick glance at\n                the latest announcements.</p> <p>The google classroom api that is used to fetch the announcements\n                only allows a limited number of requests for free. To ensure all\n                the users get equal usage, the app enforces the limitation of\n                maximum 100 requests per day.</p></div></div></div>`;\n});\nexport {\n  Page as default\n};\n", "\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_page.svelte.js')).default;\nexport const imports = [\"_app/immutable/nodes/2.871d6326.js\",\"_app/immutable/chunks/scheduler.433f0f0f.js\",\"_app/immutable/chunks/index.339c83b0.js\",\"_app/immutable/chunks/navigation.4a14f299.js\",\"_app/immutable/chunks/singletons.2f50626b.js\",\"_app/immutable/chunks/stores.a608d631.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { r as redirect } from \"../../../chunks/index.js\";\nconst load = async (event) => {\n  const session = await event.locals.getSession();\n  if (!session?.user)\n    throw redirect(307, \"/\");\n  return { session };\n};\nexport {\n  load\n};\n", "import { c as create_ssr_component, e as escape, b as add_attribute, a as subscribe, d as each, v as validate_component, i as is_promise, n as noop } from \"../../../chunks/ssr.js\";\nimport { w as writable } from \"../../../chunks/index2.js\";\nimport { p as page } from \"../../../chunks/stores.js\";\nconst options = {\n  year: \"numeric\",\n  month: \"short\",\n  day: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n  hour12: true\n};\nfunction format_date(inputDateString) {\n  const dateObject = new Date(inputDateString);\n  const currentLocale = Intl.DateTimeFormat().resolvedOptions().locale;\n  const currentTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const formatter = Intl.DateTimeFormat(currentLocale, {\n    ...options,\n    timeZone: currentTimeZone\n  });\n  const formattedDate = formatter.format(dateObject);\n  return formattedDate;\n}\nconst localStore = {\n  get: (key, fallback) => {\n    return fallback;\n  },\n  set: (key, value) => {\n    return;\n  }\n};\nconst PostCard = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { item } = $$props;\n  let { course_name } = $$props;\n  if ($$props.item === void 0 && $$bindings.item && item !== void 0)\n    $$bindings.item(item);\n  if ($$props.course_name === void 0 && $$bindings.course_name && course_name !== void 0)\n    $$bindings.course_name(course_name);\n  return `<div class=\"card-body\"><h2 class=\"card-title\">${escape(course_name)}</h2> <p class=\"whitespace-pre-line\">${escape(item.text)}</p> <div class=\"flex\"><div class=\"justify-start\">${escape(format_date(item.updateTime))}</div> <div class=\"card-actions justify-end ml-auto\"><a class=\"link w-4 h-4 md:scale-125\"${add_attribute(\"href\", item.alternateLink, 0)} target=\"_blank\"><svg class=\"fill-accent hover:scale-125\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z\"></path></svg></a></div></div></div>`;\n});\nconst course_map = writable(/* @__PURE__ */ new Map());\nconst sel_courses = writable([]);\nconst sidebar_visible = writable(false);\nconst NavBar = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $sidebar_visible, $$unsubscribe_sidebar_visible;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_sidebar_visible = subscribe(sidebar_visible, (value) => $sidebar_visible = value);\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let log_out_modal;\n  $$unsubscribe_sidebar_visible();\n  $$unsubscribe_page();\n  return `<div class=\"flex justify-center items-center sticky top-0 w-full h-[6vh] bg-base-300 z-10\"><div class=\"mr-auto\"><button class=\"ml-2 p-4 group\"><svg id=\"menusvg\" class=\"${[\n    \"w-6 h-6 transition-transform group-hover:fill-info\",\n    \" \" + (!$sidebar_visible ? \"rotate-180\" : \"\")\n  ].join(\" \").trim()}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z\"></path></svg></button> <button class=\"group p-4\">${`<svg class=\"h-6 w-6 group-hover:fill-info\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M375.7 19.7c-1.5-8-6.9-14.7-14.4-17.8s-16.1-2.2-22.8 2.4L256 61.1 173.5 4.2c-6.7-4.6-15.3-5.5-22.8-2.4s-12.9 9.8-14.4 17.8l-18.1 98.5L19.7 136.3c-8 1.5-14.7 6.9-17.8 14.4s-2.2 16.1 2.4 22.8L61.1 256 4.2 338.5c-4.6 6.7-5.5 15.3-2.4 22.8s9.8 13 17.8 14.4l98.5 18.1 18.1 98.5c1.5 8 6.9 14.7 14.4 17.8s16.1 2.2 22.8-2.4L256 450.9l82.5 56.9c6.7 4.6 15.3 5.5 22.8 2.4s12.9-9.8 14.4-17.8l18.1-98.5 98.5-18.1c8-1.5 14.7-6.9 17.8-14.4s2.2-16.1-2.4-22.8L450.9 256l56.9-82.5c4.6-6.7 5.5-15.3 2.4-22.8s-9.8-12.9-17.8-14.4l-98.5-18.1L375.7 19.7zM269.6 110l65.6-45.2 14.4 78.3c1.8 9.8 9.5 17.5 19.3 19.3l78.3 14.4L402 242.4c-5.7 8.2-5.7 19 0 27.2l45.2 65.6-78.3 14.4c-9.8 1.8-17.5 9.5-19.3 19.3l-14.4 78.3L269.6 402c-8.2-5.7-19-5.7-27.2 0l-65.6 45.2-14.4-78.3c-1.8-9.8-9.5-17.5-19.3-19.3L64.8 335.2 110 269.6c5.7-8.2 5.7-19 0-27.2L64.8 176.8l78.3-14.4c9.8-1.8 17.5-9.5 19.3-19.3l14.4-78.3L242.4 110c8.2 5.7 19 5.7 27.2 0zM256 368a112 112 0 1 0 0-224 112 112 0 1 0 0 224zM192 256a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z\"></path></svg>`}</button></div> <div class=\"mr-auto\" data-svelte-h=\"svelte-10qyayu\"><span class=\"normal-case text-xl mx-auto hidden md:inline\">Classroom Feed</span></div> <a target=\"_blank\" href=\"/\" class=\"btn btn-sm btn-outline\" data-svelte-h=\"svelte-18civ0u\">about</a> <div class=\"dropdown dropdown-bottom dropdown-end\"><label tabindex=\"0\"><div class=\"w-10 mx-6\"><img class=\"object-contain rounded-full border-2 border-base-content hover:scale-105 hover:cursor-pointer\"${add_attribute(\"src\", $page.data.session.user?.image, 0)} alt=\"avatar\"></div></label> <ul tabindex=\"0\" class=\"dropdown-content z-[1] menu p-2 shadow-3xl bg-base-200 rounded-box w-52\"><li><button data-svelte-h=\"svelte-9oyede\">Log Out</button></li></ul></div> <dialog class=\"modal\"${add_attribute(\"this\", log_out_modal, 0)}><form method=\"dialog\" class=\"modal-box\"><p class=\"py-4 font-bold\" data-svelte-h=\"svelte-18d3zld\">Are you sure you want to log out ?</p> <div class=\"modal-action\"><button class=\"btn btn-error btn-outline\" data-svelte-h=\"svelte-4s13oa\">Log Out</button> <button class=\"btn btn-success btn-outline w-28\" data-svelte-h=\"svelte-b0deoi\">Close</button></div></form> <form method=\"dialog\" class=\"modal-backdrop\" data-svelte-h=\"svelte-9i9e7k\"><button>close</button></form></dialog></div>`;\n});\nconst SideBar = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $sel_courses, $$unsubscribe_sel_courses;\n  let $course_map, $$unsubscribe_course_map;\n  $$unsubscribe_sel_courses = subscribe(sel_courses, (value) => $sel_courses = value);\n  $$unsubscribe_course_map = subscribe(course_map, (value) => $course_map = value);\n  {\n    localStore.set(\"sel_courses\", [...new Set($sel_courses)]);\n  }\n  $$unsubscribe_sel_courses();\n  $$unsubscribe_course_map();\n  return `<aside class=\"flex flex-col gap-y-2 justify-center items-center md:sticky md:top-[6vh] w-full md:w-72 max-h-[94vh] p-4 bg-base-200\"><span class=\"font-bold mb-2\" data-svelte-h=\"svelte-iwnt9o\">Course Filters</span> <div class=\"flex justify-between gap-2\"><button class=\"btn btn-outline btn-xs flex-grow\" data-svelte-h=\"svelte-1gnxz2e\">Select All</button> <button class=\"btn btn-outline btn-xs flex-grow float-right\" data-svelte-h=\"svelte-1841ugp\">Deselect All</button></div> <div class=\"overflow-auto w-full scroll-green px-2\">${$course_map ? `${each($course_map, ([id, course]) => {\n    return `<div class=\"form-control\"><label class=\"cursor-pointer label\"><span class=\"label-text\">${escape(course.name)}</span> <input type=\"checkbox\"${add_attribute(\"value\", id, 0)} class=\"checkbox-xs checkbox-success\" name=\"courses\"${~$sel_courses.indexOf(id) ? add_attribute(\"checked\", true, 1) : \"\"}></label> </div>`;\n  })}` : ``}</div> <a href=\"https://classroom.google.com/a/not-turned-in/all\" target=\"_blank\" class=\"mt-auto btn btn-outline btn-sm w-full h-2\" data-svelte-h=\"svelte-n2hr9m\">Assignments</a></aside>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $sel_courses, $$unsubscribe_sel_courses;\n  let $sidebar_visible, $$unsubscribe_sidebar_visible;\n  let $course_map, $$unsubscribe_course_map;\n  $$unsubscribe_sel_courses = subscribe(sel_courses, (value) => $sel_courses = value);\n  $$unsubscribe_sidebar_visible = subscribe(sidebar_visible, (value) => $sidebar_visible = value);\n  $$unsubscribe_course_map = subscribe(course_map, (value) => $course_map = value);\n  let courses_promise;\n  let all_posts = [];\n  let filtered_posts = [];\n  let total_courses = 0;\n  let posts_fetched = 0;\n  let posts_promises;\n  {\n    if (all_posts?.length) {\n      const course_set = new Set($sel_courses);\n      filtered_posts = all_posts.filter((post) => course_set.has(post.courseId));\n    }\n  }\n  $$unsubscribe_sel_courses();\n  $$unsubscribe_sidebar_visible();\n  $$unsubscribe_course_map();\n  return `${validate_component(NavBar, \"NavBar\").$$render($$result, {}, {}, {})} <main class=\"min-h-[94vh] flex flex-col md:flex-row\">${$sidebar_visible ? `${validate_component(SideBar, \"SideBar\").$$render($$result, {}, {}, {})}` : ``} <div class=\"flex-grow flex flex-col justify-start items-center mx-6\">${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ` <span class=\"animate-pulse\" data-svelte-h=\"svelte-z85vno\">Checking classroom enrollments</span> `;\n    }\n    return function() {\n      return ``;\n    }();\n  }(courses_promise)} ${``} ${``} ${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ` <div class=\"flex flex-col justify-center items-center\"><span class=\"block\">Fetched posts from ${escape(posts_fetched)} / ${escape(total_courses)} courses</span> ${`<progress class=\"progress progress-success w-56 md:w-72\"></progress>`}</div> `;\n    }\n    return function() {\n      return ``;\n    }();\n  }(posts_promises)} <div class=\"w-full\">${each(filtered_posts, (item) => {\n    return `<div class=\"card bg-base-100 shadow-xl shadow-base-300 my-4\">${validate_component(PostCard, \"PostCard\").$$render(\n      $$result,\n      {\n        item,\n        course_name: $course_map.get(item.courseId).name\n      },\n      {},\n      {}\n    )} </div>`;\n  })}</div></div></main>`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/feed/_page.server.ts.js';\n\nexport const index = 3;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/feed/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/feed/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/3.eb1e85d5.js\",\"_app/immutable/chunks/scheduler.433f0f0f.js\",\"_app/immutable/chunks/index.339c83b0.js\",\"_app/immutable/chunks/singletons.2f50626b.js\",\"_app/immutable/chunks/navigation.4a14f299.js\",\"_app/immutable/chunks/stores.a608d631.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "const courses = [\n  {\n    id: \"1\",\n    name: \"Machine Learning\"\n  },\n  {\n    id: \"2\",\n    name: \"Data Structure\"\n  },\n  {\n    id: \"5\",\n    name: \"Database Management\"\n  },\n  {\n    id: \"3\",\n    name: \"Web Development\"\n  },\n  {\n    id: \"4\",\n    name: \"Artificial Intelligence\"\n  },\n  {\n    id: \"6\",\n    name: \"Mobile App Development\"\n  },\n  {\n    id: \"7\",\n    name: \"Computer Networks\"\n  },\n  {\n    id: \"8\",\n    name: \"Software Engineering\"\n  },\n  {\n    id: \"9\",\n    name: \"Operating Systems\"\n  },\n  {\n    id: \"10\",\n    name: \"Cybersecurity\"\n  },\n  {\n    id: \"11\",\n    name: \"Cloud Computing\"\n  },\n  {\n    id: \"12\",\n    name: \"Game Development\"\n  },\n  {\n    id: \"13\",\n    name: \"Data Science\"\n  },\n  {\n    id: \"14\",\n    name: \"Robotics\"\n  },\n  {\n    id: \"15\",\n    name: \"Computer Graphics\"\n  },\n  {\n    id: \"16\",\n    name: \"Natural Language Processing\"\n  },\n  {\n    id: \"17\",\n    name: \"Big Data Analytics\"\n  },\n  {\n    id: \"18\",\n    name: \"Blockchain Technology\"\n  },\n  {\n    id: \"19\",\n    name: \"Internet of Things\"\n  },\n  {\n    id: \"20\",\n    name: \"Augmented Reality\"\n  },\n  {\n    id: \"21\",\n    name: \"Virtual Reality\"\n  },\n  {\n    id: \"22\",\n    name: \"Data Mining\"\n  },\n  {\n    id: \"23\",\n    name: \"Computer Vision\"\n  },\n  {\n    id: \"24\",\n    name: \"Quantum Computing\"\n  },\n  {\n    id: \"25\",\n    name: \"Network Security\"\n  },\n  {\n    id: \"26\",\n    name: \"Parallel Computing\"\n  },\n  {\n    id: \"27\",\n    name: \"Distributed Systems\"\n  },\n  {\n    id: \"28\",\n    name: \"Embedded Systems\"\n  },\n  {\n    id: \"29\",\n    name: \"Human-Computer Interaction\"\n  },\n  {\n    id: \"30\",\n    name: \"Computer Architecture\"\n  },\n  {\n    id: \"31\",\n    name: \"Software Testing\"\n  },\n  {\n    id: \"32\",\n    name: \"Artificial Neural Networks\"\n  },\n  {\n    id: \"33\",\n    name: \"Cloud Security\"\n  },\n  {\n    id: \"34\",\n    name: \"Wireless Communication\"\n  },\n  {\n    id: \"35\",\n    name: \"Cryptography\"\n  },\n  {\n    id: \"36\",\n    name: \"Geographic Information Systems\"\n  },\n  {\n    id: \"37\",\n    name: \"Bioinformatics\"\n  },\n  {\n    id: \"38\",\n    name: \"Computer Ethics\"\n  },\n  {\n    id: \"39\",\n    name: \"Data Warehousing\"\n  },\n  {\n    id: \"40\",\n    name: \"Information Retrieval\"\n  },\n  {\n    id: \"41\",\n    name: \"Cloud Database Management\"\n  },\n  {\n    id: \"42\",\n    name: \"Computer Animation\"\n  },\n  {\n    id: \"43\",\n    name: \"Network Programming\"\n  },\n  {\n    id: \"44\",\n    name: \"Software Development Methodologies\"\n  },\n  {\n    id: \"45\",\n    name: \"Computer Algebra Systems\"\n  }\n];\nconst data = {\n  courses,\n  announcements: [\n    {\n      courseId: \"1\",\n      id: \"1-1\",\n      text: \"Reminder for class test #1\\nDate: 26 July 2023 (Wednesday)\\nTime: 02.00 PM to 02.30 PM\\nSyllabus: All covered topics upto Week 4.\\nRoom: 508 & 510\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDAz\",\n      creationTime: \"2023-07-25T11:18:02.968Z\",\n      updateTime: \"2023-07-25T11:18:02.941Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-2\",\n      text: \"This is a different announcement for testing purposes.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA0\",\n      creationTime: \"2023-07-25T13:35:46.572Z\",\n      updateTime: \"2023-07-25T13:35:46.572Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-3\",\n      text: \"Important announcement: Please read carefully.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA1\",\n      creationTime: \"2023-07-25T15:42:31.128Z\",\n      updateTime: \"2023-07-25T15:42:31.128Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-4\",\n      text: \"Urgent: Assignment submission deadline extended.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA2\",\n      creationTime: \"2023-07-26T06:50:19.760Z\",\n      updateTime: \"2023-07-26T06:50:19.760Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-5\",\n      text: \"Reminder: Guest lecture tomorrow at 10 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA3\",\n      creationTime: \"2023-07-26T13:27:58.213Z\",\n      updateTime: \"2023-07-26T13:27:58.213Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-6\",\n      text: \"Welcome to the course! First lecture at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA4\",\n      creationTime: \"2023-07-26T12:05:30.531Z\",\n      updateTime: \"2023-07-26T12:05:30.531Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-7\",\n      text: \"Reminder: Submit your assignment by 11:59 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA5\",\n      creationTime: \"2023-07-27T09:30:15.224Z\",\n      updateTime: \"2023-07-27T09:30:15.224Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-8\",\n      text: \"Important: Guest speaker tomorrow at 2 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA6\",\n      creationTime: \"2023-07-28T14:40:42.782Z\",\n      updateTime: \"2023-07-28T14:40:42.782Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-9\",\n      text: \"Urgent: Class canceled for today.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA7\",\n      creationTime: \"2023-07-29T10:15:20.945Z\",\n      updateTime: \"2023-07-29T10:15:20.945Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"1\",\n      id: \"1-10\",\n      text: \"Reminder: Group project presentation next week.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA8\",\n      creationTime: \"2023-07-30T12:35:05.217Z\",\n      updateTime: \"2023-07-30T12:35:05.217Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-1\",\n      text: \"Todays class will start from 10:30 am\\n Room no 301.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDAz\",\n      creationTime: \"2023-07-25T11:18:02.968Z\",\n      updateTime: \"2023-07-26T03:19:02.941Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-2\",\n      text: \"Reminder: Quiz tomorrow at 10 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA0\",\n      creationTime: \"2023-07-25T14:30:55.283Z\",\n      updateTime: \"2023-07-25T14:30:55.283Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-3\",\n      text: \"Update: Please bring your lab equipment.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA1\",\n      creationTime: \"2023-07-25T17:55:10.732Z\",\n      updateTime: \"2023-07-25T17:55:10.732Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-4\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA2\",\n      creationTime: \"2023-07-26T09:21:45.906Z\",\n      updateTime: \"2023-07-26T09:21:45.906Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-6\",\n      text: \"Reminder: Group project submission due next week.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDA9\",\n      creationTime: \"2023-07-31T09:55:38.374Z\",\n      updateTime: \"2023-07-31T09:55:38.374Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-7\",\n      text: \"Important: Office hours canceled for today.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDEw\",\n      creationTime: \"2023-08-01T14:20:57.511Z\",\n      updateTime: \"2023-08-01T14:20:57.511Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-8\",\n      text: \"Update: Quiz rescheduled to 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDEy\",\n      creationTime: \"2023-08-02T10:45:16.709Z\",\n      updateTime: \"2023-08-02T10:45:16.709Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-9\",\n      text: \"Urgent: Lab session moved to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDEz\",\n      creationTime: \"2023-08-03T12:15:24.822Z\",\n      updateTime: \"2023-08-03T12:15:24.822Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"2\",\n      id: \"2-10\",\n      text: \"Reminder: Final exam on August 10th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/NjE2NjI4MTA2NzEy/p/NjE2NjI5OTIxNDE0\",\n      creationTime: \"2023-08-04T14:50:35.955Z\",\n      updateTime: \"2023-08-04T14:50:35.955Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"102228857692621657049\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-1\",\n      text: \"Welcome to Course 3! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-1\",\n      creationTime: \"2023-08-10T09:00:00.000Z\",\n      updateTime: \"2023-08-10T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-2\",\n      text: \"Assignment reminder: Submit by August 15th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-2\",\n      creationTime: \"2023-08-11T14:30:00.000Z\",\n      updateTime: \"2023-08-11T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-3\",\n      creationTime: \"2023-08-12T17:45:00.000Z\",\n      updateTime: \"2023-08-12T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-4\",\n      creationTime: \"2023-08-13T12:15:00.000Z\",\n      updateTime: \"2023-08-13T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-5\",\n      text: \"Reminder: Final exam on August 20th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-5\",\n      creationTime: \"2023-08-14T08:30:00.000Z\",\n      updateTime: \"2023-08-14T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-6\",\n      creationTime: \"2023-08-15T16:45:00.000Z\",\n      updateTime: \"2023-08-15T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"3\",\n      id: \"3-7\",\n      text: \"Reminder: Course project presentation on August 22nd.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-3/announcement-7\",\n      creationTime: \"2023-08-16T11:30:00.000Z\",\n      updateTime: \"2023-08-16T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-1\",\n      text: \"Welcome to Course 4! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-1\",\n      creationTime: \"2023-08-05T09:00:00.000Z\",\n      updateTime: \"2023-08-05T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-2\",\n      text: \"Reminder: Assignment due on August 15th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-2\",\n      creationTime: \"2023-08-06T14:30:00.000Z\",\n      updateTime: \"2023-08-06T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-3\",\n      creationTime: \"2023-08-07T17:45:00.000Z\",\n      updateTime: \"2023-08-07T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-4\",\n      creationTime: \"2023-08-08T12:15:00.000Z\",\n      updateTime: \"2023-08-08T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-5\",\n      text: \"Reminder: Final exam on August 20th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-5\",\n      creationTime: \"2023-08-09T08:30:00.000Z\",\n      updateTime: \"2023-08-09T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-6\",\n      creationTime: \"2023-08-10T16:45:00.000Z\",\n      updateTime: \"2023-08-10T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"4\",\n      id: \"4-7\",\n      text: \"Reminder: Course project presentation on August 22nd.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-4/announcement-7\",\n      creationTime: \"2023-08-11T11:30:00.000Z\",\n      updateTime: \"2023-08-11T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-1\",\n      text: \"Hello Everyone!\\n There will be no classes this week.\\n However, next week you will give a project idea presentation on your Database project with your group.\\n So take this week to prepare for that.\\n\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-1\",\n      creationTime: \"2023-07-22T09:00:00.000Z\",\n      updateTime: \"2023-07-25T02:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-2\",\n      text: \"Reminder: Assignment due on August 18th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-2\",\n      creationTime: \"2023-08-13T14:30:00.000Z\",\n      updateTime: \"2023-08-13T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-3\",\n      creationTime: \"2023-08-14T17:45:00.000Z\",\n      updateTime: \"2023-08-14T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-4\",\n      creationTime: \"2023-08-15T12:15:00.000Z\",\n      updateTime: \"2023-08-15T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-5\",\n      text: \"Reminder: Final exam on August 23rd.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-5\",\n      creationTime: \"2023-08-16T08:30:00.000Z\",\n      updateTime: \"2023-08-16T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-6\",\n      creationTime: \"2023-08-17T16:45:00.000Z\",\n      updateTime: \"2023-08-17T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"5\",\n      id: \"5-7\",\n      text: \"Reminder: Course project presentation on August 25th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-5/announcement-7\",\n      creationTime: \"2023-08-18T11:30:00.000Z\",\n      updateTime: \"2023-08-18T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-1\",\n      text: \"Welcome to Course 6! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-1\",\n      creationTime: \"2023-08-19T09:00:00.000Z\",\n      updateTime: \"2023-08-19T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-2\",\n      text: \"Reminder: Assignment due on August 25th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-2\",\n      creationTime: \"2023-08-20T14:30:00.000Z\",\n      updateTime: \"2023-08-20T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-3\",\n      creationTime: \"2023-08-21T17:45:00.000Z\",\n      updateTime: \"2023-08-21T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-4\",\n      creationTime: \"2023-08-22T12:15:00.000Z\",\n      updateTime: \"2023-08-22T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-5\",\n      text: \"Reminder: Final exam on August 28th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-5\",\n      creationTime: \"2023-08-23T08:30:00.000Z\",\n      updateTime: \"2023-08-23T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-6\",\n      creationTime: \"2023-08-24T16:45:00.000Z\",\n      updateTime: \"2023-08-24T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"6\",\n      id: \"6-7\",\n      text: \"Reminder: Course project presentation on September 1st.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-6/announcement-7\",\n      creationTime: \"2023-08-25T11:30:00.000Z\",\n      updateTime: \"2023-08-25T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-1\",\n      text: \"Welcome to Course 7! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-1\",\n      creationTime: \"2023-08-26T09:00:00.000Z\",\n      updateTime: \"2023-08-26T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-2\",\n      text: \"Reminder: Assignment due on September 1st.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-2\",\n      creationTime: \"2023-08-27T14:30:00.000Z\",\n      updateTime: \"2023-08-27T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-3\",\n      creationTime: \"2023-08-28T17:45:00.000Z\",\n      updateTime: \"2023-08-28T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-4\",\n      creationTime: \"2023-08-29T12:15:00.000Z\",\n      updateTime: \"2023-08-29T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-5\",\n      text: \"Reminder: Final exam on September 4th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-5\",\n      creationTime: \"2023-08-30T08:30:00.000Z\",\n      updateTime: \"2023-08-30T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-6\",\n      creationTime: \"2023-08-31T16:45:00.000Z\",\n      updateTime: \"2023-08-31T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"7\",\n      id: \"7-7\",\n      text: \"Reminder: Course project presentation on September 7th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-7/announcement-7\",\n      creationTime: \"2023-09-01T11:30:00.000Z\",\n      updateTime: \"2023-09-01T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-1\",\n      text: \"Welcome to Course 8! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-1\",\n      creationTime: \"2023-09-02T09:00:00.000Z\",\n      updateTime: \"2023-09-02T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-2\",\n      text: \"Reminder: Assignment due on September 8th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-2\",\n      creationTime: \"2023-09-03T14:30:00.000Z\",\n      updateTime: \"2023-09-03T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-3\",\n      creationTime: \"2023-09-04T17:45:00.000Z\",\n      updateTime: \"2023-09-04T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-4\",\n      creationTime: \"2023-09-05T12:15:00.000Z\",\n      updateTime: \"2023-09-05T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-5\",\n      text: \"Reminder: Final exam on September 11th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-5\",\n      creationTime: \"2023-09-06T08:30:00.000Z\",\n      updateTime: \"2023-09-06T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-6\",\n      creationTime: \"2023-09-07T16:45:00.000Z\",\n      updateTime: \"2023-09-07T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"8\",\n      id: \"8-7\",\n      text: \"Reminder: Course project presentation on September 14th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-8/announcement-7\",\n      creationTime: \"2023-09-08T11:30:00.000Z\",\n      updateTime: \"2023-09-08T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-1\",\n      text: \"Welcome to Course 9! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-1\",\n      creationTime: \"2023-09-09T09:00:00.000Z\",\n      updateTime: \"2023-09-09T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-2\",\n      text: \"Reminder: Assignment due on September 15th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-2\",\n      creationTime: \"2023-09-10T14:30:00.000Z\",\n      updateTime: \"2023-09-10T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-3\",\n      creationTime: \"2023-09-11T17:45:00.000Z\",\n      updateTime: \"2023-09-11T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-4\",\n      creationTime: \"2023-09-12T12:15:00.000Z\",\n      updateTime: \"2023-09-12T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-5\",\n      text: \"Reminder: Final exam on September 18th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-5\",\n      creationTime: \"2023-09-13T08:30:00.000Z\",\n      updateTime: \"2023-09-13T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-6\",\n      creationTime: \"2023-09-14T16:45:00.000Z\",\n      updateTime: \"2023-09-14T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"9\",\n      id: \"9-7\",\n      text: \"Reminder: Course project presentation on September 21st.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-9/announcement-7\",\n      creationTime: \"2023-09-15T11:30:00.000Z\",\n      updateTime: \"2023-09-15T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-1\",\n      text: \"Welcome to Course 10! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-1\",\n      creationTime: \"2023-09-16T09:00:00.000Z\",\n      updateTime: \"2023-09-16T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-2\",\n      text: \"Reminder: Assignment due on September 22nd.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-2\",\n      creationTime: \"2023-09-17T14:30:00.000Z\",\n      updateTime: \"2023-09-17T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-3\",\n      creationTime: \"2023-09-18T17:45:00.000Z\",\n      updateTime: \"2023-09-18T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-4\",\n      creationTime: \"2023-09-19T12:15:00.000Z\",\n      updateTime: \"2023-09-19T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-5\",\n      text: \"Reminder: Final exam on September 25th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-5\",\n      creationTime: \"2023-09-20T08:30:00.000Z\",\n      updateTime: \"2023-09-20T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-6\",\n      creationTime: \"2023-09-21T16:45:00.000Z\",\n      updateTime: \"2023-09-21T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"10\",\n      id: \"10-7\",\n      text: \"Reminder: Course project presentation on September 28th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-10/announcement-7\",\n      creationTime: \"2023-09-22T11:30:00.000Z\",\n      updateTime: \"2023-09-22T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-1\",\n      text: \"Welcome to Course 11! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-1\",\n      creationTime: \"2023-09-23T09:00:00.000Z\",\n      updateTime: \"2023-09-23T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-2\",\n      text: \"Reminder: Assignment due on September 29th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-2\",\n      creationTime: \"2023-09-24T14:30:00.000Z\",\n      updateTime: \"2023-09-24T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-3\",\n      creationTime: \"2023-09-25T17:45:00.000Z\",\n      updateTime: \"2023-09-25T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-4\",\n      text: \"Lab session update: Time changed to 11 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-4\",\n      creationTime: \"2023-09-26T12:15:00.000Z\",\n      updateTime: \"2023-09-26T12:15:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-4\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-5\",\n      text: \"Reminder: Final exam on October 2nd.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-5\",\n      creationTime: \"2023-09-27T08:30:00.000Z\",\n      updateTime: \"2023-09-27T08:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-5\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-6\",\n      text: \"Important: Course survey to be filled by 5 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-6\",\n      creationTime: \"2023-09-28T16:45:00.000Z\",\n      updateTime: \"2023-09-28T16:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-6\"\n    },\n    {\n      courseId: \"11\",\n      id: \"11-7\",\n      text: \"Reminder: Course project presentation on October 5th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-11/announcement-7\",\n      creationTime: \"2023-09-29T11:30:00.000Z\",\n      updateTime: \"2023-09-29T11:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-7\"\n    },\n    {\n      courseId: \"12\",\n      id: \"12-1\",\n      text: \"Welcome to Course 12! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-12/announcement-1\",\n      creationTime: \"2023-09-30T09:00:00.000Z\",\n      updateTime: \"2023-09-30T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"12\",\n      id: \"12-2\",\n      text: \"Reminder: Assignment due on October 6th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-12/announcement-2\",\n      creationTime: \"2023-10-01T14:30:00.000Z\",\n      updateTime: \"2023-10-01T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"12\",\n      id: \"12-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-12/announcement-3\",\n      creationTime: \"2023-10-02T17:45:00.000Z\",\n      updateTime: \"2023-10-02T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 13\n    {\n      courseId: \"13\",\n      id: \"13-1\",\n      text: \"Welcome to Course 13! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-13/announcement-1\",\n      creationTime: \"2023-10-03T09:00:00.000Z\",\n      updateTime: \"2023-10-03T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"13\",\n      id: \"13-2\",\n      text: \"Reminder: Assignment due on October 9th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-13/announcement-2\",\n      creationTime: \"2023-10-04T14:30:00.000Z\",\n      updateTime: \"2023-10-04T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"13\",\n      id: \"13-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-13/announcement-3\",\n      creationTime: \"2023-10-05T17:45:00.000Z\",\n      updateTime: \"2023-10-05T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 14\n    {\n      courseId: \"14\",\n      id: \"14-1\",\n      text: \"Welcome to Course 14! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-14/announcement-1\",\n      creationTime: \"2023-10-06T09:00:00.000Z\",\n      updateTime: \"2023-10-06T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"14\",\n      id: \"14-2\",\n      text: \"Reminder: Assignment due on October 12th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-14/announcement-2\",\n      creationTime: \"2023-10-07T14:30:00.000Z\",\n      updateTime: \"2023-10-07T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"14\",\n      id: \"14-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-14/announcement-3\",\n      creationTime: \"2023-10-08T17:45:00.000Z\",\n      updateTime: \"2023-10-08T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 15\n    {\n      courseId: \"15\",\n      id: \"15-1\",\n      text: \"Welcome to Course 15! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-15/announcement-1\",\n      creationTime: \"2023-10-09T09:00:00.000Z\",\n      updateTime: \"2023-10-09T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 16\n    {\n      courseId: \"16\",\n      id: \"16-1\",\n      text: \"Welcome to Course 16! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-16/announcement-1\",\n      creationTime: \"2023-10-16T09:00:00.000Z\",\n      updateTime: \"2023-10-16T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 17\n    {\n      courseId: \"17\",\n      id: \"17-1\",\n      text: \"Welcome to Course 17! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-17/announcement-1\",\n      creationTime: \"2023-10-23T09:00:00.000Z\",\n      updateTime: \"2023-10-23T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 18\n    {\n      courseId: \"18\",\n      id: \"18-1\",\n      text: \"Welcome to Course 18! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-18/announcement-1\",\n      creationTime: \"2023-10-30T09:00:00.000Z\",\n      updateTime: \"2023-10-30T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 19\n    {\n      courseId: \"19\",\n      id: \"19-1\",\n      text: \"Welcome to Course 19! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-19/announcement-1\",\n      creationTime: \"2023-11-06T09:00:00.000Z\",\n      updateTime: \"2023-11-06T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 20\n    {\n      courseId: \"20\",\n      id: \"20-1\",\n      text: \"Welcome to Course 20! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-20/announcement-1\",\n      creationTime: \"2023-11-13T09:00:00.000Z\",\n      updateTime: \"2023-11-13T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 21\n    {\n      courseId: \"21\",\n      id: \"21-1\",\n      text: \"Welcome to Course 21! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-21/announcement-1\",\n      creationTime: \"2023-11-20T09:00:00.000Z\",\n      updateTime: \"2023-11-20T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 22\n    {\n      courseId: \"22\",\n      id: \"22-1\",\n      text: \"Welcome to Course 22! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-22/announcement-1\",\n      creationTime: \"2023-11-27T09:00:00.000Z\",\n      updateTime: \"2023-11-27T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 23\n    {\n      courseId: \"23\",\n      id: \"23-1\",\n      text: \"Welcome to Course 23! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-23/announcement-1\",\n      creationTime: \"2023-12-04T09:00:00.000Z\",\n      updateTime: \"2023-12-04T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 24\n    {\n      courseId: \"24\",\n      id: \"24-1\",\n      text: \"Welcome to Course 24! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-24/announcement-1\",\n      creationTime: \"2023-12-11T09:00:00.000Z\",\n      updateTime: \"2023-12-11T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 25\n    {\n      courseId: \"25\",\n      id: \"25-1\",\n      text: \"Welcome to Course 25! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-25/announcement-1\",\n      creationTime: \"2023-12-18T09:00:00.000Z\",\n      updateTime: \"2023-12-18T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"26\",\n      id: \"26-1\",\n      text: \"Welcome to Course 26! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-26/announcement-1\",\n      creationTime: \"2023-12-25T09:00:00.000Z\",\n      updateTime: \"2023-12-25T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"26\",\n      id: \"26-2\",\n      text: \"Reminder: Assignment due on January 1st.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-26/announcement-2\",\n      creationTime: \"2023-12-26T14:30:00.000Z\",\n      updateTime: \"2023-12-26T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"26\",\n      id: \"26-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-26/announcement-3\",\n      creationTime: \"2023-12-27T17:45:00.000Z\",\n      updateTime: \"2023-12-27T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 27\n    {\n      courseId: \"27\",\n      id: \"27-1\",\n      text: \"Welcome to Course 27! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-27/announcement-1\",\n      creationTime: \"2023-12-28T09:00:00.000Z\",\n      updateTime: \"2023-12-28T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"27\",\n      id: \"27-2\",\n      text: \"Reminder: Assignment due on January 4th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-27/announcement-2\",\n      creationTime: \"2023-12-29T14:30:00.000Z\",\n      updateTime: \"2023-12-29T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"27\",\n      id: \"27-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-27/announcement-3\",\n      creationTime: \"2023-12-30T17:45:00.000Z\",\n      updateTime: \"2023-12-30T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 28\n    {\n      courseId: \"28\",\n      id: \"28-1\",\n      text: \"Welcome to Course 28! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-28/announcement-1\",\n      creationTime: \"2023-12-31T09:00:00.000Z\",\n      updateTime: \"2023-12-31T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"28\",\n      id: \"28-2\",\n      text: \"Reminder: Assignment due on January 7th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-28/announcement-2\",\n      creationTime: \"2024-01-01T14:30:00.000Z\",\n      updateTime: \"2024-01-01T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"28\",\n      id: \"28-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-28/announcement-3\",\n      creationTime: \"2024-01-02T17:45:00.000Z\",\n      updateTime: \"2024-01-02T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 29\n    {\n      courseId: \"29\",\n      id: \"29-1\",\n      text: \"Welcome to Course 29! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-29/announcement-1\",\n      creationTime: \"2024-01-03T09:00:00.000Z\",\n      updateTime: \"2024-01-03T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"29\",\n      id: \"29-2\",\n      text: \"Reminder: Assignment due on January 10th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-29/announcement-2\",\n      creationTime: \"2024-01-04T14:30:00.000Z\",\n      updateTime: \"2024-01-04T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"29\",\n      id: \"29-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-29/announcement-3\",\n      creationTime: \"2024-01-05T17:45:00.000Z\",\n      updateTime: \"2024-01-05T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 30\n    {\n      courseId: \"30\",\n      id: \"30-1\",\n      text: \"Welcome to Course 30! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-30/announcement-1\",\n      creationTime: \"2024-01-06T09:00:00.000Z\",\n      updateTime: \"2024-01-06T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"30\",\n      id: \"30-2\",\n      text: \"Reminder: Assignment due on January 13th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-30/announcement-2\",\n      creationTime: \"2024-01-07T14:30:00.000Z\",\n      updateTime: \"2024-01-07T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"30\",\n      id: \"30-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-30/announcement-3\",\n      creationTime: \"2024-01-08T17:45:00.000Z\",\n      updateTime: \"2024-01-08T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 31\n    {\n      courseId: \"31\",\n      id: \"31-1\",\n      text: \"Welcome to Course 31! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-31/announcement-1\",\n      creationTime: \"2024-01-09T09:00:00.000Z\",\n      updateTime: \"2024-01-09T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"31\",\n      id: \"31-2\",\n      text: \"Reminder: Assignment due on January 16th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-31/announcement-2\",\n      creationTime: \"2024-01-10T14:30:00.000Z\",\n      updateTime: \"2024-01-10T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"31\",\n      id: \"31-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-31/announcement-3\",\n      creationTime: \"2024-01-11T17:45:00.000Z\",\n      updateTime: \"2024-01-11T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    // Announcements for courseId 32\n    {\n      courseId: \"32\",\n      id: \"32-1\",\n      text: \"Welcome to Course 32! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-32/announcement-1\",\n      creationTime: \"2024-01-12T09:00:00.000Z\",\n      updateTime: \"2024-01-12T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    {\n      courseId: \"32\",\n      id: \"32-2\",\n      text: \"Reminder: Assignment due on January 19th.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-32/announcement-2\",\n      creationTime: \"2024-01-13T14:30:00.000Z\",\n      updateTime: \"2024-01-13T14:30:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-2\"\n    },\n    {\n      courseId: \"32\",\n      id: \"32-3\",\n      text: \"Important: Group project meeting at 3 PM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-32/announcement-3\",\n      creationTime: \"2024-01-14T17:45:00.000Z\",\n      updateTime: \"2024-01-14T17:45:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-3\"\n    },\n    {\n      courseId: \"33\",\n      id: \"33-1\",\n      text: \"Welcome to Course 33! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-33/announcement-1\",\n      creationTime: \"2024-01-16T09:00:00.000Z\",\n      updateTime: \"2024-01-16T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 34\n    {\n      courseId: \"34\",\n      id: \"34-1\",\n      text: \"Welcome to Course 34! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-34/announcement-1\",\n      creationTime: \"2024-01-17T09:00:00.000Z\",\n      updateTime: \"2024-01-17T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 35\n    {\n      courseId: \"35\",\n      id: \"35-1\",\n      text: \"Welcome to Course 35! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-35/announcement-1\",\n      creationTime: \"2024-01-18T09:00:00.000Z\",\n      updateTime: \"2024-01-18T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 36\n    {\n      courseId: \"36\",\n      id: \"36-1\",\n      text: \"Welcome to Course 36! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-36/announcement-1\",\n      creationTime: \"2024-01-19T09:00:00.000Z\",\n      updateTime: \"2024-01-19T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 37\n    {\n      courseId: \"37\",\n      id: \"37-1\",\n      text: \"Welcome to Course 37! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-37/announcement-1\",\n      creationTime: \"2024-01-20T09:00:00.000Z\",\n      updateTime: \"2024-01-20T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 38\n    {\n      courseId: \"38\",\n      id: \"38-1\",\n      text: \"Welcome to Course 38! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-38/announcement-1\",\n      creationTime: \"2024-01-21T09:00:00.000Z\",\n      updateTime: \"2024-01-21T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 39\n    {\n      courseId: \"39\",\n      id: \"39-1\",\n      text: \"Welcome to Course 39! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-39/announcement-1\",\n      creationTime: \"2024-01-22T09:00:00.000Z\",\n      updateTime: \"2024-01-22T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 40\n    {\n      courseId: \"40\",\n      id: \"40-1\",\n      text: \"Welcome to Course 40! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-40/announcement-1\",\n      creationTime: \"2024-01-23T09:00:00.000Z\",\n      updateTime: \"2024-01-23T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 41\n    {\n      courseId: \"41\",\n      id: \"41-1\",\n      text: \"Welcome to Course 41! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-41/announcement-1\",\n      creationTime: \"2024-01-24T09:00:00.000Z\",\n      updateTime: \"2024-01-24T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 42\n    {\n      courseId: \"42\",\n      id: \"42-1\",\n      text: \"Welcome to Course 42! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-42/announcement-1\",\n      creationTime: \"2024-01-25T09:00:00.000Z\",\n      updateTime: \"2024-01-25T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 43\n    {\n      courseId: \"43\",\n      id: \"43-1\",\n      text: \"Welcome to Course 43! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-43/announcement-1\",\n      creationTime: \"2024-01-26T09:00:00.000Z\",\n      updateTime: \"2024-01-26T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 44\n    {\n      courseId: \"44\",\n      id: \"44-1\",\n      text: \"Welcome to Course 44! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-44/announcement-1\",\n      creationTime: \"2024-01-27T09:00:00.000Z\",\n      updateTime: \"2024-01-27T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    },\n    // Announcements for courseId 45\n    {\n      courseId: \"45\",\n      id: \"45-1\",\n      text: \"Welcome to Course 45! Lecture starts at 9 AM.\",\n      state: \"PUBLISHED\",\n      alternateLink: \"https://classroom.google.com/c/course-45/announcement-1\",\n      creationTime: \"2024-01-28T09:00:00.000Z\",\n      updateTime: \"2024-01-28T09:00:00.000Z\",\n      assigneeMode: \"ALL_STUDENTS\",\n      creatorUserId: \"user-1\"\n    }\n  ]\n};\nfunction get_announcements(courseId) {\n  return data.announcements.filter((item) => item.courseId === courseId);\n}\nfunction get_courses() {\n  return data.courses;\n}\nasync function fetch_courses() {\n  const fetched_courses = get_courses().slice(0, 3);\n  const courses2 = {};\n  fetched_courses.forEach((course) => courses2[course.id] = course);\n  await delay();\n  return courses2;\n}\nasync function delay(ms) {\n  return;\n}\nexport {\n  delay as d,\n  fetch_courses as f,\n  get_announcements as g\n};\n", "import { f as fetch_courses } from \"../../../../chunks/helpers.js\";\nimport { j as json } from \"../../../../chunks/index.js\";\nimport \"@upstash/redis\";\nconst GET = async ({ getClientAddress, cookies, url }) => {\n  let courses;\n  {\n    courses = await fetch_courses();\n  }\n  return json({ data: courses }, { status: 200 });\n};\nexport {\n  GET\n};\n", "import { d as delay, g as get_announcements } from \"../../../../../chunks/helpers.js\";\nimport { j as json } from \"../../../../../chunks/index.js\";\nimport \"@upstash/redis\";\nfunction get_posts(courseId) {\n  return get_announcements(courseId).slice(0, 1);\n}\nconst GET = async ({ params, cookies }) => {\n  let courseId = params.courseId;\n  let posts;\n  const last_fetched = Number(cookies.get(courseId));\n  {\n    await delay();\n    posts = get_posts(courseId);\n  }\n  let updated = false;\n  if (posts?.length) {\n    const latest_post_time = new Date(posts[0].updateTime).getTime();\n    if (!!last_fetched && !!latest_post_time) {\n      updated = latest_post_time > last_fetched;\n    }\n  }\n  cookies.set(courseId, Date.now().toString());\n  return json({ data: posts, updated }, { status: 200 });\n};\nexport {\n  GET\n};\n", "import { D as DEV } from \"./chunks/prod-ssr.js\";\nimport { b as base, a as assets, r as reset, p as public_env, o as options, s as set_private_env, c as set_public_env, g as get_hooks } from \"./chunks/internal.js\";\nimport { t as text, H as HttpError, j as json, R as Redirect, e as error, A as ActionFailure } from \"./chunks/index.js\";\nimport { w as writable, r as readable } from \"./chunks/index2.js\";\nconst SVELTE_KIT_ASSETS = \"/_svelte_kit_assets\";\nconst ENDPOINT_METHODS = /* @__PURE__ */ new Set([\n  \"GET\",\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\",\n  \"OPTIONS\",\n  \"HEAD\"\n]);\nconst PAGE_METHODS = /* @__PURE__ */ new Set([\"GET\", \"POST\", \"HEAD\"]);\nfunction negotiate(accept, types) {\n  const parts = [];\n  accept.split(\",\").forEach((str, i) => {\n    const match = /([^/]+)\\/([^;]+)(?:;q=([0-9.]+))?/.exec(str);\n    if (match) {\n      const [, type, subtype, q = \"1\"] = match;\n      parts.push({ type, subtype, q: +q, i });\n    }\n  });\n  parts.sort((a, b) => {\n    if (a.q !== b.q) {\n      return b.q - a.q;\n    }\n    if (a.subtype === \"*\" !== (b.subtype === \"*\")) {\n      return a.subtype === \"*\" ? 1 : -1;\n    }\n    if (a.type === \"*\" !== (b.type === \"*\")) {\n      return a.type === \"*\" ? 1 : -1;\n    }\n    return a.i - b.i;\n  });\n  let accepted;\n  let min_priority = Infinity;\n  for (const mimetype of types) {\n    const [type, subtype] = mimetype.split(\"/\");\n    const priority = parts.findIndex(\n      (part) => (part.type === type || part.type === \"*\") && (part.subtype === subtype || part.subtype === \"*\")\n    );\n    if (priority !== -1 && priority < min_priority) {\n      accepted = mimetype;\n      min_priority = priority;\n    }\n  }\n  return accepted;\n}\nfunction is_content_type(request, ...types) {\n  const type = request.headers.get(\"content-type\")?.split(\";\", 1)[0].trim() ?? \"\";\n  return types.includes(type.toLowerCase());\n}\nfunction is_form_content_type(request) {\n  return is_content_type(\n    request,\n    \"application/x-www-form-urlencoded\",\n    \"multipart/form-data\",\n    \"text/plain\"\n  );\n}\nfunction exec(match, params, matchers) {\n  const result = {};\n  const values = match.slice(1);\n  let buffered = 0;\n  for (let i = 0; i < params.length; i += 1) {\n    const param = params[i];\n    let value = values[i - buffered];\n    if (param.chained && param.rest && buffered) {\n      value = values.slice(i - buffered, i + 1).filter((s2) => s2).join(\"/\");\n      buffered = 0;\n    }\n    if (value === void 0) {\n      if (param.rest)\n        result[param.name] = \"\";\n      continue;\n    }\n    if (!param.matcher || matchers[param.matcher](value)) {\n      result[param.name] = value;\n      const next_param = params[i + 1];\n      const next_value = values[i + 1];\n      if (next_param && !next_param.rest && next_param.optional && next_value && param.chained) {\n        buffered = 0;\n      }\n      continue;\n    }\n    if (param.optional && param.chained) {\n      buffered++;\n      continue;\n    }\n    return;\n  }\n  if (buffered)\n    return;\n  return result;\n}\nfunction coalesce_to_error(err) {\n  return err instanceof Error || err && /** @type {any} */\n  err.name && /** @type {any} */\n  err.message ? (\n    /** @type {Error} */\n    err\n  ) : new Error(JSON.stringify(err));\n}\nfunction normalize_error(error2) {\n  return (\n    /** @type {import('../runtime/control.js').Redirect | import('../runtime/control.js').HttpError | Error} */\n    error2\n  );\n}\nfunction method_not_allowed(mod, method) {\n  return text(`${method} method not allowed`, {\n    status: 405,\n    headers: {\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: allowed_methods(mod).join(\", \")\n    }\n  });\n}\nfunction allowed_methods(mod) {\n  const allowed = Array.from(ENDPOINT_METHODS).filter((method) => method in mod);\n  if (\"GET\" in mod || \"HEAD\" in mod)\n    allowed.push(\"HEAD\");\n  return allowed;\n}\nfunction static_error_page(options2, status, message) {\n  let page = options2.templates.error({ status, message });\n  return text(page, {\n    headers: { \"content-type\": \"text/html; charset=utf-8\" },\n    status\n  });\n}\nasync function handle_fatal_error(event, options2, error2) {\n  error2 = error2 instanceof HttpError ? error2 : coalesce_to_error(error2);\n  const status = error2 instanceof HttpError ? error2.status : 500;\n  const body = await handle_error_and_jsonify(event, options2, error2);\n  const type = negotiate(event.request.headers.get(\"accept\") || \"text/html\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  if (event.isDataRequest || type === \"application/json\") {\n    return json(body, {\n      status\n    });\n  }\n  return static_error_page(options2, status, body.message);\n}\nasync function handle_error_and_jsonify(event, options2, error2) {\n  if (error2 instanceof HttpError) {\n    return error2.body;\n  } else {\n    return await options2.hooks.handleError({ error: error2, event }) ?? {\n      message: event.route.id != null ? \"Internal Error\" : \"Not Found\"\n    };\n  }\n}\nfunction redirect_response(status, location) {\n  const response = new Response(void 0, {\n    status,\n    headers: { location }\n  });\n  return response;\n}\nfunction clarify_devalue_error(event, error2) {\n  if (error2.path) {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not serializable: ${error2.message} (data${error2.path})`;\n  }\n  if (error2.path === \"\") {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not a plain object`;\n  }\n  return error2.message;\n}\nfunction stringify_uses(node) {\n  const uses = [];\n  if (node.uses && node.uses.dependencies.size > 0) {\n    uses.push(`\"dependencies\":${JSON.stringify(Array.from(node.uses.dependencies))}`);\n  }\n  if (node.uses && node.uses.params.size > 0) {\n    uses.push(`\"params\":${JSON.stringify(Array.from(node.uses.params))}`);\n  }\n  if (node.uses?.parent)\n    uses.push('\"parent\":1');\n  if (node.uses?.route)\n    uses.push('\"route\":1');\n  if (node.uses?.url)\n    uses.push('\"url\":1');\n  return `\"uses\":{${uses.join(\",\")}}`;\n}\nasync function render_endpoint(event, mod, state) {\n  const method = (\n    /** @type {import('types').HttpMethod} */\n    event.request.method\n  );\n  let handler = mod[method];\n  if (!handler && method === \"HEAD\") {\n    handler = mod.GET;\n  }\n  if (!handler) {\n    return method_not_allowed(mod, method);\n  }\n  const prerender = mod.prerender ?? state.prerender_default;\n  if (prerender && (mod.POST || mod.PATCH || mod.PUT || mod.DELETE)) {\n    throw new Error(\"Cannot prerender endpoints that have mutative methods\");\n  }\n  if (state.prerendering && !prerender) {\n    if (state.depth > 0) {\n      throw new Error(`${event.route.id} is not prerenderable`);\n    } else {\n      return new Response(void 0, { status: 204 });\n    }\n  }\n  try {\n    let response = await handler(\n      /** @type {import('@sveltejs/kit').RequestEvent<Record<string, any>>} */\n      event\n    );\n    if (!(response instanceof Response)) {\n      throw new Error(\n        `Invalid response from route ${event.url.pathname}: handler should return a Response object`\n      );\n    }\n    if (state.prerendering) {\n      response = new Response(response.body, {\n        status: response.status,\n        statusText: response.statusText,\n        headers: new Headers(response.headers)\n      });\n      response.headers.set(\"x-sveltekit-prerender\", String(prerender));\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return new Response(void 0, {\n        status: e.status,\n        headers: { location: e.location }\n      });\n    }\n    throw e;\n  }\n}\nfunction is_endpoint_request(event) {\n  const { method, headers } = event.request;\n  if (ENDPOINT_METHODS.has(method) && !PAGE_METHODS.has(method)) {\n    return true;\n  }\n  if (method === \"POST\" && headers.get(\"x-sveltekit-action\") === \"true\")\n    return false;\n  const accept = event.request.headers.get(\"accept\") ?? \"*/*\";\n  return negotiate(accept, [\"*\", \"text/html\"]) !== \"text/html\";\n}\nfunction compact(arr) {\n  return arr.filter(\n    /** @returns {val is NonNullable<T>} */\n    (val) => val != null\n  );\n}\nfunction normalize_path(path, trailing_slash) {\n  if (path === \"/\" || trailing_slash === \"ignore\")\n    return path;\n  if (trailing_slash === \"never\") {\n    return path.endsWith(\"/\") ? path.slice(0, -1) : path;\n  } else if (trailing_slash === \"always\" && !path.endsWith(\"/\")) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction decode_pathname(pathname) {\n  return pathname.split(\"%25\").map(decodeURI).join(\"%25\");\n}\nfunction decode_params(params) {\n  for (const key2 in params) {\n    params[key2] = decodeURIComponent(params[key2]);\n  }\n  return params;\n}\nconst tracked_url_properties = (\n  /** @type {const} */\n  [\n    \"href\",\n    \"pathname\",\n    \"search\",\n    \"searchParams\",\n    \"toString\",\n    \"toJSON\"\n  ]\n);\nfunction make_trackable(url, callback) {\n  const tracked = new URL(url);\n  for (const property of tracked_url_properties) {\n    Object.defineProperty(tracked, property, {\n      get() {\n        callback();\n        return url[property];\n      },\n      enumerable: true,\n      configurable: true\n    });\n  }\n  {\n    tracked[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(url, opts);\n    };\n  }\n  disable_hash(tracked);\n  return tracked;\n}\nfunction disable_hash(url) {\n  Object.defineProperty(url, \"hash\", {\n    get() {\n      throw new Error(\n        \"Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead\"\n      );\n    }\n  });\n}\nfunction disable_search(url) {\n  for (const property of [\"search\", \"searchParams\"]) {\n    Object.defineProperty(url, property, {\n      get() {\n        throw new Error(`Cannot access url.${property} on a page with prerendering enabled`);\n      }\n    });\n  }\n}\nconst DATA_SUFFIX = \"/__data.json\";\nfunction has_data_suffix(pathname) {\n  return pathname.endsWith(DATA_SUFFIX);\n}\nfunction add_data_suffix(pathname) {\n  return pathname.replace(/\\/$/, \"\") + DATA_SUFFIX;\n}\nfunction strip_data_suffix(pathname) {\n  return pathname.slice(0, -DATA_SUFFIX.length);\n}\nconst escaped = {\n  \"<\": \"\\\\u003C\",\n  \"\\\\\": \"\\\\\\\\\",\n  \"\\b\": \"\\\\b\",\n  \"\\f\": \"\\\\f\",\n  \"\\n\": \"\\\\n\",\n  \"\\r\": \"\\\\r\",\n  \"\t\": \"\\\\t\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nclass DevalueError extends Error {\n  /**\n   * @param {string} message\n   * @param {string[]} keys\n   */\n  constructor(message, keys) {\n    super(message);\n    this.name = \"DevalueError\";\n    this.path = keys.join(\"\");\n  }\n}\nfunction is_primitive(thing) {\n  return Object(thing) !== thing;\n}\nconst object_proto_names = /* @__PURE__ */ Object.getOwnPropertyNames(\n  Object.prototype\n).sort().join(\"\\0\");\nfunction is_plain_object(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === object_proto_names;\n}\nfunction get_type(thing) {\n  return Object.prototype.toString.call(thing).slice(8, -1);\n}\nfunction get_escaped_char(char) {\n  switch (char) {\n    case '\"':\n      return '\\\\\"';\n    case \"<\":\n      return \"\\\\u003C\";\n    case \"\\\\\":\n      return \"\\\\\\\\\";\n    case \"\\n\":\n      return \"\\\\n\";\n    case \"\\r\":\n      return \"\\\\r\";\n    case \"\t\":\n      return \"\\\\t\";\n    case \"\\b\":\n      return \"\\\\b\";\n    case \"\\f\":\n      return \"\\\\f\";\n    case \"\\u2028\":\n      return \"\\\\u2028\";\n    case \"\\u2029\":\n      return \"\\\\u2029\";\n    default:\n      return char < \" \" ? `\\\\u${char.charCodeAt(0).toString(16).padStart(4, \"0\")}` : \"\";\n  }\n}\nfunction stringify_string(str) {\n  let result = \"\";\n  let last_pos = 0;\n  const len = str.length;\n  for (let i = 0; i < len; i += 1) {\n    const char = str[i];\n    const replacement = get_escaped_char(char);\n    if (replacement) {\n      result += str.slice(last_pos, i) + replacement;\n      last_pos = i + 1;\n    }\n  }\n  return `\"${last_pos === 0 ? str : result + str.slice(last_pos)}\"`;\n}\nconst chars$1 = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$\";\nconst unsafe_chars = /[<\\b\\f\\n\\r\\t\\0\\u2028\\u2029]/g;\nconst reserved = /^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;\nfunction uneval(value, replacer) {\n  const counts = /* @__PURE__ */ new Map();\n  const keys = [];\n  const custom = /* @__PURE__ */ new Map();\n  function walk(thing) {\n    if (typeof thing === \"function\") {\n      throw new DevalueError(`Cannot stringify a function`, keys);\n    }\n    if (!is_primitive(thing)) {\n      if (counts.has(thing)) {\n        counts.set(thing, counts.get(thing) + 1);\n        return;\n      }\n      counts.set(thing, 1);\n      if (replacer) {\n        const str2 = replacer(thing);\n        if (typeof str2 === \"string\") {\n          custom.set(thing, str2);\n          return;\n        }\n      }\n      const type = get_type(thing);\n      switch (type) {\n        case \"Number\":\n        case \"BigInt\":\n        case \"String\":\n        case \"Boolean\":\n        case \"Date\":\n        case \"RegExp\":\n          return;\n        case \"Array\":\n          thing.forEach((value2, i) => {\n            keys.push(`[${i}]`);\n            walk(value2);\n            keys.pop();\n          });\n          break;\n        case \"Set\":\n          Array.from(thing).forEach(walk);\n          break;\n        case \"Map\":\n          for (const [key2, value2] of thing) {\n            keys.push(\n              `.get(${is_primitive(key2) ? stringify_primitive$1(key2) : \"...\"})`\n            );\n            walk(value2);\n            keys.pop();\n          }\n          break;\n        default:\n          if (!is_plain_object(thing)) {\n            throw new DevalueError(\n              `Cannot stringify arbitrary non-POJOs`,\n              keys\n            );\n          }\n          if (Object.getOwnPropertySymbols(thing).length > 0) {\n            throw new DevalueError(\n              `Cannot stringify POJOs with symbolic keys`,\n              keys\n            );\n          }\n          for (const key2 in thing) {\n            keys.push(`.${key2}`);\n            walk(thing[key2]);\n            keys.pop();\n          }\n      }\n    }\n  }\n  walk(value);\n  const names = /* @__PURE__ */ new Map();\n  Array.from(counts).filter((entry) => entry[1] > 1).sort((a, b) => b[1] - a[1]).forEach((entry, i) => {\n    names.set(entry[0], get_name(i));\n  });\n  function stringify2(thing) {\n    if (names.has(thing)) {\n      return names.get(thing);\n    }\n    if (is_primitive(thing)) {\n      return stringify_primitive$1(thing);\n    }\n    if (custom.has(thing)) {\n      return custom.get(thing);\n    }\n    const type = get_type(thing);\n    switch (type) {\n      case \"Number\":\n      case \"String\":\n      case \"Boolean\":\n        return `Object(${stringify2(thing.valueOf())})`;\n      case \"RegExp\":\n        return `new RegExp(${stringify_string(thing.source)}, \"${thing.flags}\")`;\n      case \"Date\":\n        return `new Date(${thing.getTime()})`;\n      case \"Array\":\n        const members = (\n          /** @type {any[]} */\n          thing.map(\n            (v, i) => i in thing ? stringify2(v) : \"\"\n          )\n        );\n        const tail = thing.length === 0 || thing.length - 1 in thing ? \"\" : \",\";\n        return `[${members.join(\",\")}${tail}]`;\n      case \"Set\":\n      case \"Map\":\n        return `new ${type}([${Array.from(thing).map(stringify2).join(\",\")}])`;\n      default:\n        const obj = `{${Object.keys(thing).map((key2) => `${safe_key(key2)}:${stringify2(thing[key2])}`).join(\",\")}}`;\n        const proto = Object.getPrototypeOf(thing);\n        if (proto === null) {\n          return Object.keys(thing).length > 0 ? `Object.assign(Object.create(null),${obj})` : `Object.create(null)`;\n        }\n        return obj;\n    }\n  }\n  const str = stringify2(value);\n  if (names.size) {\n    const params = [];\n    const statements = [];\n    const values = [];\n    names.forEach((name, thing) => {\n      params.push(name);\n      if (custom.has(thing)) {\n        values.push(\n          /** @type {string} */\n          custom.get(thing)\n        );\n        return;\n      }\n      if (is_primitive(thing)) {\n        values.push(stringify_primitive$1(thing));\n        return;\n      }\n      const type = get_type(thing);\n      switch (type) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n          values.push(`Object(${stringify2(thing.valueOf())})`);\n          break;\n        case \"RegExp\":\n          values.push(thing.toString());\n          break;\n        case \"Date\":\n          values.push(`new Date(${thing.getTime()})`);\n          break;\n        case \"Array\":\n          values.push(`Array(${thing.length})`);\n          thing.forEach((v, i) => {\n            statements.push(`${name}[${i}]=${stringify2(v)}`);\n          });\n          break;\n        case \"Set\":\n          values.push(`new Set`);\n          statements.push(\n            `${name}.${Array.from(thing).map((v) => `add(${stringify2(v)})`).join(\".\")}`\n          );\n          break;\n        case \"Map\":\n          values.push(`new Map`);\n          statements.push(\n            `${name}.${Array.from(thing).map(([k, v]) => `set(${stringify2(k)}, ${stringify2(v)})`).join(\".\")}`\n          );\n          break;\n        default:\n          values.push(\n            Object.getPrototypeOf(thing) === null ? \"Object.create(null)\" : \"{}\"\n          );\n          Object.keys(thing).forEach((key2) => {\n            statements.push(\n              `${name}${safe_prop(key2)}=${stringify2(thing[key2])}`\n            );\n          });\n      }\n    });\n    statements.push(`return ${str}`);\n    return `(function(${params.join(\",\")}){${statements.join(\n      \";\"\n    )}}(${values.join(\",\")}))`;\n  } else {\n    return str;\n  }\n}\nfunction get_name(num) {\n  let name = \"\";\n  do {\n    name = chars$1[num % chars$1.length] + name;\n    num = ~~(num / chars$1.length) - 1;\n  } while (num >= 0);\n  return reserved.test(name) ? `${name}0` : name;\n}\nfunction escape_unsafe_char(c) {\n  return escaped[c] || c;\n}\nfunction escape_unsafe_chars(str) {\n  return str.replace(unsafe_chars, escape_unsafe_char);\n}\nfunction safe_key(key2) {\n  return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key2) ? key2 : escape_unsafe_chars(JSON.stringify(key2));\n}\nfunction safe_prop(key2) {\n  return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key2) ? `.${key2}` : `[${escape_unsafe_chars(JSON.stringify(key2))}]`;\n}\nfunction stringify_primitive$1(thing) {\n  if (typeof thing === \"string\")\n    return stringify_string(thing);\n  if (thing === void 0)\n    return \"void 0\";\n  if (thing === 0 && 1 / thing < 0)\n    return \"-0\";\n  const str = String(thing);\n  if (typeof thing === \"number\")\n    return str.replace(/^(-)?0\\./, \"$1.\");\n  if (typeof thing === \"bigint\")\n    return thing + \"n\";\n  return str;\n}\nconst UNDEFINED = -1;\nconst HOLE = -2;\nconst NAN = -3;\nconst POSITIVE_INFINITY = -4;\nconst NEGATIVE_INFINITY = -5;\nconst NEGATIVE_ZERO = -6;\nfunction stringify(value, reducers) {\n  const stringified = [];\n  const indexes = /* @__PURE__ */ new Map();\n  const custom = [];\n  for (const key2 in reducers) {\n    custom.push({ key: key2, fn: reducers[key2] });\n  }\n  const keys = [];\n  let p = 0;\n  function flatten(thing) {\n    if (typeof thing === \"function\") {\n      throw new DevalueError(`Cannot stringify a function`, keys);\n    }\n    if (indexes.has(thing))\n      return indexes.get(thing);\n    if (thing === void 0)\n      return UNDEFINED;\n    if (Number.isNaN(thing))\n      return NAN;\n    if (thing === Infinity)\n      return POSITIVE_INFINITY;\n    if (thing === -Infinity)\n      return NEGATIVE_INFINITY;\n    if (thing === 0 && 1 / thing < 0)\n      return NEGATIVE_ZERO;\n    const index2 = p++;\n    indexes.set(thing, index2);\n    for (const { key: key2, fn } of custom) {\n      const value2 = fn(thing);\n      if (value2) {\n        stringified[index2] = `[\"${key2}\",${flatten(value2)}]`;\n        return index2;\n      }\n    }\n    let str = \"\";\n    if (is_primitive(thing)) {\n      str = stringify_primitive(thing);\n    } else {\n      const type = get_type(thing);\n      switch (type) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n          str = `[\"Object\",${stringify_primitive(thing)}]`;\n          break;\n        case \"BigInt\":\n          str = `[\"BigInt\",${thing}]`;\n          break;\n        case \"Date\":\n          str = `[\"Date\",\"${thing.toISOString()}\"]`;\n          break;\n        case \"RegExp\":\n          const { source, flags } = thing;\n          str = flags ? `[\"RegExp\",${stringify_string(source)},\"${flags}\"]` : `[\"RegExp\",${stringify_string(source)}]`;\n          break;\n        case \"Array\":\n          str = \"[\";\n          for (let i = 0; i < thing.length; i += 1) {\n            if (i > 0)\n              str += \",\";\n            if (i in thing) {\n              keys.push(`[${i}]`);\n              str += flatten(thing[i]);\n              keys.pop();\n            } else {\n              str += HOLE;\n            }\n          }\n          str += \"]\";\n          break;\n        case \"Set\":\n          str = '[\"Set\"';\n          for (const value2 of thing) {\n            str += `,${flatten(value2)}`;\n          }\n          str += \"]\";\n          break;\n        case \"Map\":\n          str = '[\"Map\"';\n          for (const [key2, value2] of thing) {\n            keys.push(\n              `.get(${is_primitive(key2) ? stringify_primitive(key2) : \"...\"})`\n            );\n            str += `,${flatten(key2)},${flatten(value2)}`;\n          }\n          str += \"]\";\n          break;\n        default:\n          if (!is_plain_object(thing)) {\n            throw new DevalueError(\n              `Cannot stringify arbitrary non-POJOs`,\n              keys\n            );\n          }\n          if (Object.getOwnPropertySymbols(thing).length > 0) {\n            throw new DevalueError(\n              `Cannot stringify POJOs with symbolic keys`,\n              keys\n            );\n          }\n          if (Object.getPrototypeOf(thing) === null) {\n            str = '[\"null\"';\n            for (const key2 in thing) {\n              keys.push(`.${key2}`);\n              str += `,${stringify_string(key2)},${flatten(thing[key2])}`;\n              keys.pop();\n            }\n            str += \"]\";\n          } else {\n            str = \"{\";\n            let started = false;\n            for (const key2 in thing) {\n              if (started)\n                str += \",\";\n              started = true;\n              keys.push(`.${key2}`);\n              str += `${stringify_string(key2)}:${flatten(thing[key2])}`;\n              keys.pop();\n            }\n            str += \"}\";\n          }\n      }\n    }\n    stringified[index2] = str;\n    return index2;\n  }\n  const index = flatten(value);\n  if (index < 0)\n    return `${index}`;\n  return `[${stringified.join(\",\")}]`;\n}\nfunction stringify_primitive(thing) {\n  const type = typeof thing;\n  if (type === \"string\")\n    return stringify_string(thing);\n  if (thing instanceof String)\n    return stringify_string(thing.toString());\n  if (thing === void 0)\n    return UNDEFINED.toString();\n  if (thing === 0 && 1 / thing < 0)\n    return NEGATIVE_ZERO.toString();\n  if (type === \"bigint\")\n    return `[\"BigInt\",\"${thing}\"]`;\n  return String(thing);\n}\nfunction is_action_json_request(event) {\n  const accept = negotiate(event.request.headers.get(\"accept\") ?? \"*/*\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  return accept === \"application/json\" && event.request.method === \"POST\";\n}\nasync function handle_action_json_request(event, options2, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    const no_actions_error = error(405, \"POST method not allowed. No actions exist for this page\");\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, options2, no_actions_error)\n      },\n      {\n        status: no_actions_error.status,\n        headers: {\n          // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n          // \"The server must generate an Allow header field in a 405 status code response\"\n          allow: \"GET\"\n        }\n      }\n    );\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, actions);\n    if (false)\n      ;\n    if (data instanceof ActionFailure) {\n      return action_json({\n        type: \"failure\",\n        status: data.status,\n        // @ts-expect-error we assign a string to what is supposed to be an object. That's ok\n        // because we don't use the object outside, and this way we have better code navigation\n        // through knowing where the related interface is used.\n        data: stringify_action_response(\n          data.data,\n          /** @type {string} */\n          event.route.id\n        )\n      });\n    } else {\n      return action_json({\n        type: \"success\",\n        status: data ? 200 : 204,\n        // @ts-expect-error see comment above\n        data: stringify_action_response(\n          data,\n          /** @type {string} */\n          event.route.id\n        )\n      });\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return action_json_redirect(err);\n    }\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, options2, check_incorrect_fail_use(err))\n      },\n      {\n        status: err instanceof HttpError ? err.status : 500\n      }\n    );\n  }\n}\nfunction check_incorrect_fail_use(error2) {\n  return error2 instanceof ActionFailure ? new Error('Cannot \"throw fail()\". Use \"return fail()\"') : error2;\n}\nfunction action_json_redirect(redirect) {\n  return action_json({\n    type: \"redirect\",\n    status: redirect.status,\n    location: redirect.location\n  });\n}\nfunction action_json(data, init2) {\n  return json(data, init2);\n}\nfunction is_action_request(event) {\n  return event.request.method === \"POST\";\n}\nasync function handle_action_request(event, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    event.setHeaders({\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: \"GET\"\n    });\n    return {\n      type: \"error\",\n      error: error(405, \"POST method not allowed. No actions exist for this page\")\n    };\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, actions);\n    if (false)\n      ;\n    if (data instanceof ActionFailure) {\n      return {\n        type: \"failure\",\n        status: data.status,\n        data: data.data\n      };\n    } else {\n      return {\n        type: \"success\",\n        status: 200,\n        // @ts-expect-error this will be removed upon serialization, so `undefined` is the same as omission\n        data\n      };\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return {\n        type: \"redirect\",\n        status: err.status,\n        location: err.location\n      };\n    }\n    return {\n      type: \"error\",\n      error: check_incorrect_fail_use(err)\n    };\n  }\n}\nfunction check_named_default_separate(actions) {\n  if (actions.default && Object.keys(actions).length > 1) {\n    throw new Error(\n      \"When using named actions, the default action cannot be used. See the docs for more info: https://kit.svelte.dev/docs/form-actions#named-actions\"\n    );\n  }\n}\nasync function call_action(event, actions) {\n  const url = new URL(event.request.url);\n  let name = \"default\";\n  for (const param of url.searchParams) {\n    if (param[0].startsWith(\"/\")) {\n      name = param[0].slice(1);\n      if (name === \"default\") {\n        throw new Error('Cannot use reserved action name \"default\"');\n      }\n      break;\n    }\n  }\n  const action = actions[name];\n  if (!action) {\n    throw new Error(`No action with name '${name}' found`);\n  }\n  if (!is_form_content_type(event.request)) {\n    throw new Error(\n      `Actions expect form-encoded data (received ${event.request.headers.get(\"content-type\")})`\n    );\n  }\n  return action(event);\n}\nfunction validate_action_return(data) {\n  if (data instanceof Redirect) {\n    throw new Error(\"Cannot `return redirect(...)` \u2014 use `throw redirect(...)` instead\");\n  }\n  if (data instanceof HttpError) {\n    throw new Error(\n      \"Cannot `return error(...)` \u2014 use `throw error(...)` or `return fail(...)` instead\"\n    );\n  }\n}\nfunction uneval_action_response(data, route_id) {\n  return try_deserialize(data, uneval, route_id);\n}\nfunction stringify_action_response(data, route_id) {\n  return try_deserialize(data, stringify, route_id);\n}\nfunction try_deserialize(data, fn, route_id) {\n  try {\n    return fn(data);\n  } catch (e) {\n    const error2 = (\n      /** @type {any} */\n      e\n    );\n    if (\"path\" in error2) {\n      let message = `Data returned from action inside ${route_id} is not serializable: ${error2.message}`;\n      if (error2.path !== \"\")\n        message += ` (data.${error2.path})`;\n      throw new Error(message);\n    }\n    throw error2;\n  }\n}\nasync function unwrap_promises(object) {\n  for (const key2 in object) {\n    if (typeof object[key2]?.then === \"function\") {\n      return Object.fromEntries(\n        await Promise.all(Object.entries(object).map(async ([key3, value]) => [key3, await value]))\n      );\n    }\n  }\n  return object;\n}\nconst INVALIDATED_PARAM = \"x-sveltekit-invalidated\";\nasync function load_server_data({\n  event,\n  state,\n  node,\n  parent,\n  // TODO 2.0: Remove this\n  track_server_fetches\n}) {\n  if (!node?.server)\n    return null;\n  const uses = {\n    dependencies: /* @__PURE__ */ new Set(),\n    params: /* @__PURE__ */ new Set(),\n    parent: false,\n    route: false,\n    url: false\n  };\n  const url = make_trackable(event.url, () => {\n    uses.url = true;\n  });\n  if (state.prerendering) {\n    disable_search(url);\n  }\n  const result = await node.server.load?.call(null, {\n    ...event,\n    fetch: (info, init2) => {\n      const url2 = new URL(info instanceof Request ? info.url : info, event.url);\n      if (track_server_fetches) {\n        uses.dependencies.add(url2.href);\n      }\n      return event.fetch(info, init2);\n    },\n    /** @param {string[]} deps */\n    depends: (...deps) => {\n      for (const dep of deps) {\n        const { href } = new URL(dep, event.url);\n        uses.dependencies.add(href);\n      }\n    },\n    params: new Proxy(event.params, {\n      get: (target, key2) => {\n        uses.params.add(key2);\n        return target[\n          /** @type {string} */\n          key2\n        ];\n      }\n    }),\n    parent: async () => {\n      uses.parent = true;\n      return parent();\n    },\n    route: new Proxy(event.route, {\n      get: (target, key2) => {\n        uses.route = true;\n        return target[\n          /** @type {'id'} */\n          key2\n        ];\n      }\n    }),\n    url\n  });\n  const data = result ? await unwrap_promises(result) : null;\n  return {\n    type: \"data\",\n    data,\n    uses,\n    slash: node.server.trailingSlash\n  };\n}\nasync function load_data({\n  event,\n  fetched,\n  node,\n  parent,\n  server_data_promise,\n  state,\n  resolve_opts,\n  csr\n}) {\n  const server_data_node = await server_data_promise;\n  if (!node?.universal?.load) {\n    return server_data_node?.data ?? null;\n  }\n  const result = await node.universal.load.call(null, {\n    url: event.url,\n    params: event.params,\n    data: server_data_node?.data ?? null,\n    route: event.route,\n    fetch: create_universal_fetch(event, state, fetched, csr, resolve_opts),\n    setHeaders: event.setHeaders,\n    depends: () => {\n    },\n    parent\n  });\n  const data = result ? await unwrap_promises(result) : null;\n  return data;\n}\nfunction create_universal_fetch(event, state, fetched, csr, resolve_opts) {\n  return async (input, init2) => {\n    const cloned_body = input instanceof Request && input.body ? input.clone().body : null;\n    const cloned_headers = input instanceof Request && [...input.headers].length ? new Headers(input.headers) : init2?.headers;\n    let response = await event.fetch(input, init2);\n    const url = new URL(input instanceof Request ? input.url : input, event.url);\n    const same_origin = url.origin === event.url.origin;\n    let dependency;\n    if (same_origin) {\n      if (state.prerendering) {\n        dependency = { response, body: null };\n        state.prerendering.dependencies.set(url.pathname, dependency);\n      }\n    } else {\n      const mode = input instanceof Request ? input.mode : init2?.mode ?? \"cors\";\n      if (mode === \"no-cors\") {\n        response = new Response(\"\", {\n          status: response.status,\n          statusText: response.statusText,\n          headers: response.headers\n        });\n      } else {\n        const acao = response.headers.get(\"access-control-allow-origin\");\n        if (!acao || acao !== event.url.origin && acao !== \"*\") {\n          throw new Error(\n            `CORS error: ${acao ? \"Incorrect\" : \"No\"} 'Access-Control-Allow-Origin' header is present on the requested resource`\n          );\n        }\n      }\n    }\n    const proxy = new Proxy(response, {\n      get(response2, key2, _receiver) {\n        async function text2() {\n          const body = await response2.text();\n          if (!body || typeof body === \"string\") {\n            const status_number = Number(response2.status);\n            if (isNaN(status_number)) {\n              throw new Error(\n                `response.status is not a number. value: \"${response2.status}\" type: ${typeof response2.status}`\n              );\n            }\n            fetched.push({\n              url: same_origin ? url.href.slice(event.url.origin.length) : url.href,\n              method: event.request.method,\n              request_body: (\n                /** @type {string | ArrayBufferView | undefined} */\n                input instanceof Request && cloned_body ? await stream_to_string(cloned_body) : init2?.body\n              ),\n              request_headers: cloned_headers,\n              response_body: body,\n              response: response2\n            });\n          }\n          if (dependency) {\n            dependency.body = body;\n          }\n          return body;\n        }\n        if (key2 === \"arrayBuffer\") {\n          return async () => {\n            const buffer = await response2.arrayBuffer();\n            if (dependency) {\n              dependency.body = new Uint8Array(buffer);\n            }\n            return buffer;\n          };\n        }\n        if (key2 === \"text\") {\n          return text2;\n        }\n        if (key2 === \"json\") {\n          return async () => {\n            return JSON.parse(await text2());\n          };\n        }\n        return Reflect.get(response2, key2, response2);\n      }\n    });\n    if (csr) {\n      const get = response.headers.get;\n      response.headers.get = (key2) => {\n        const lower = key2.toLowerCase();\n        const value = get.call(response.headers, lower);\n        if (value && !lower.startsWith(\"x-sveltekit-\")) {\n          const included = resolve_opts.filterSerializedResponseHeaders(lower, value);\n          if (!included) {\n            throw new Error(\n              `Failed to get response header \"${lower}\" \u2014 it must be included by the \\`filterSerializedResponseHeaders\\` option: https://kit.svelte.dev/docs/hooks#server-hooks-handle (at ${event.route.id})`\n            );\n          }\n        }\n        return value;\n      };\n    }\n    return proxy;\n  };\n}\nasync function stream_to_string(stream) {\n  let result = \"\";\n  const reader = stream.getReader();\n  const decoder = new TextDecoder();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    result += decoder.decode(value);\n  }\n  return result;\n}\nfunction hash(...values) {\n  let hash2 = 5381;\n  for (const value of values) {\n    if (typeof value === \"string\") {\n      let i = value.length;\n      while (i)\n        hash2 = hash2 * 33 ^ value.charCodeAt(--i);\n    } else if (ArrayBuffer.isView(value)) {\n      const buffer = new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n      let i = buffer.length;\n      while (i)\n        hash2 = hash2 * 33 ^ buffer[--i];\n    } else {\n      throw new TypeError(\"value must be a string or TypedArray\");\n    }\n  }\n  return (hash2 >>> 0).toString(36);\n}\nconst escape_html_attr_dict = {\n  \"&\": \"&amp;\",\n  '\"': \"&quot;\"\n};\nconst escape_html_attr_regex = new RegExp(\n  // special characters\n  `[${Object.keys(escape_html_attr_dict).join(\"\")}]|[\\\\ud800-\\\\udbff](?![\\\\udc00-\\\\udfff])|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]|[\\\\udc00-\\\\udfff]`,\n  \"g\"\n);\nfunction escape_html_attr(str) {\n  const escaped_str = str.replace(escape_html_attr_regex, (match) => {\n    if (match.length === 2) {\n      return match;\n    }\n    return escape_html_attr_dict[match] ?? `&#${match.charCodeAt(0)};`;\n  });\n  return `\"${escaped_str}\"`;\n}\nconst replacements = {\n  \"<\": \"\\\\u003C\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nconst pattern = new RegExp(`[${Object.keys(replacements).join(\"\")}]`, \"g\");\nfunction serialize_data(fetched, filter, prerendering = false) {\n  const headers = {};\n  let cache_control = null;\n  let age = null;\n  let varyAny = false;\n  for (const [key2, value] of fetched.response.headers) {\n    if (filter(key2, value)) {\n      headers[key2] = value;\n    }\n    if (key2 === \"cache-control\")\n      cache_control = value;\n    else if (key2 === \"age\")\n      age = value;\n    else if (key2 === \"vary\" && value.trim() === \"*\")\n      varyAny = true;\n  }\n  const payload = {\n    status: fetched.response.status,\n    statusText: fetched.response.statusText,\n    headers,\n    body: fetched.response_body\n  };\n  const safe_payload = JSON.stringify(payload).replace(pattern, (match) => replacements[match]);\n  const attrs = [\n    'type=\"application/json\"',\n    \"data-sveltekit-fetched\",\n    `data-url=${escape_html_attr(fetched.url)}`\n  ];\n  if (fetched.request_headers || fetched.request_body) {\n    const values = [];\n    if (fetched.request_headers) {\n      values.push([...new Headers(fetched.request_headers)].join(\",\"));\n    }\n    if (fetched.request_body) {\n      values.push(fetched.request_body);\n    }\n    attrs.push(`data-hash=\"${hash(...values)}\"`);\n  }\n  if (!prerendering && fetched.method === \"GET\" && cache_control && !varyAny) {\n    const match = /s-maxage=(\\d+)/g.exec(cache_control) ?? /max-age=(\\d+)/g.exec(cache_control);\n    if (match) {\n      const ttl = +match[1] - +(age ?? \"0\");\n      attrs.push(`data-ttl=\"${ttl}\"`);\n    }\n  }\n  return `<script ${attrs.join(\" \")}>${safe_payload}<\\/script>`;\n}\nconst s = JSON.stringify;\nconst encoder$2 = new TextEncoder();\nfunction sha256(data) {\n  if (!key[0])\n    precompute();\n  const out = init.slice(0);\n  const array2 = encode$1(data);\n  for (let i = 0; i < array2.length; i += 16) {\n    const w = array2.subarray(i, i + 16);\n    let tmp;\n    let a;\n    let b;\n    let out0 = out[0];\n    let out1 = out[1];\n    let out2 = out[2];\n    let out3 = out[3];\n    let out4 = out[4];\n    let out5 = out[5];\n    let out6 = out[6];\n    let out7 = out[7];\n    for (let i2 = 0; i2 < 64; i2++) {\n      if (i2 < 16) {\n        tmp = w[i2];\n      } else {\n        a = w[i2 + 1 & 15];\n        b = w[i2 + 14 & 15];\n        tmp = w[i2 & 15] = (a >>> 7 ^ a >>> 18 ^ a >>> 3 ^ a << 25 ^ a << 14) + (b >>> 17 ^ b >>> 19 ^ b >>> 10 ^ b << 15 ^ b << 13) + w[i2 & 15] + w[i2 + 9 & 15] | 0;\n      }\n      tmp = tmp + out7 + (out4 >>> 6 ^ out4 >>> 11 ^ out4 >>> 25 ^ out4 << 26 ^ out4 << 21 ^ out4 << 7) + (out6 ^ out4 & (out5 ^ out6)) + key[i2];\n      out7 = out6;\n      out6 = out5;\n      out5 = out4;\n      out4 = out3 + tmp | 0;\n      out3 = out2;\n      out2 = out1;\n      out1 = out0;\n      out0 = tmp + (out1 & out2 ^ out3 & (out1 ^ out2)) + (out1 >>> 2 ^ out1 >>> 13 ^ out1 >>> 22 ^ out1 << 30 ^ out1 << 19 ^ out1 << 10) | 0;\n    }\n    out[0] = out[0] + out0 | 0;\n    out[1] = out[1] + out1 | 0;\n    out[2] = out[2] + out2 | 0;\n    out[3] = out[3] + out3 | 0;\n    out[4] = out[4] + out4 | 0;\n    out[5] = out[5] + out5 | 0;\n    out[6] = out[6] + out6 | 0;\n    out[7] = out[7] + out7 | 0;\n  }\n  const bytes = new Uint8Array(out.buffer);\n  reverse_endianness(bytes);\n  return base64(bytes);\n}\nconst init = new Uint32Array(8);\nconst key = new Uint32Array(64);\nfunction precompute() {\n  function frac(x) {\n    return (x - Math.floor(x)) * 4294967296;\n  }\n  let prime = 2;\n  for (let i = 0; i < 64; prime++) {\n    let is_prime = true;\n    for (let factor = 2; factor * factor <= prime; factor++) {\n      if (prime % factor === 0) {\n        is_prime = false;\n        break;\n      }\n    }\n    if (is_prime) {\n      if (i < 8) {\n        init[i] = frac(prime ** (1 / 2));\n      }\n      key[i] = frac(prime ** (1 / 3));\n      i++;\n    }\n  }\n}\nfunction reverse_endianness(bytes) {\n  for (let i = 0; i < bytes.length; i += 4) {\n    const a = bytes[i + 0];\n    const b = bytes[i + 1];\n    const c = bytes[i + 2];\n    const d = bytes[i + 3];\n    bytes[i + 0] = d;\n    bytes[i + 1] = c;\n    bytes[i + 2] = b;\n    bytes[i + 3] = a;\n  }\n}\nfunction encode$1(str) {\n  const encoded = encoder$2.encode(str);\n  const length = encoded.length * 8;\n  const size = 512 * Math.ceil((length + 65) / 512);\n  const bytes = new Uint8Array(size / 8);\n  bytes.set(encoded);\n  bytes[encoded.length] = 128;\n  reverse_endianness(bytes);\n  const words = new Uint32Array(bytes.buffer);\n  words[words.length - 2] = Math.floor(length / 4294967296);\n  words[words.length - 1] = length;\n  return words;\n}\nconst chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");\nfunction base64(bytes) {\n  const l = bytes.length;\n  let result = \"\";\n  let i;\n  for (i = 2; i < l; i += 3) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4 | bytes[i - 1] >> 4];\n    result += chars[(bytes[i - 1] & 15) << 2 | bytes[i] >> 6];\n    result += chars[bytes[i] & 63];\n  }\n  if (i === l + 1) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4];\n    result += \"==\";\n  }\n  if (i === l) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4 | bytes[i - 1] >> 4];\n    result += chars[(bytes[i - 1] & 15) << 2];\n    result += \"=\";\n  }\n  return result;\n}\nconst array = new Uint8Array(16);\nfunction generate_nonce() {\n  crypto.getRandomValues(array);\n  return base64(array);\n}\nconst quoted = /* @__PURE__ */ new Set([\n  \"self\",\n  \"unsafe-eval\",\n  \"unsafe-hashes\",\n  \"unsafe-inline\",\n  \"none\",\n  \"strict-dynamic\",\n  \"report-sample\",\n  \"wasm-unsafe-eval\",\n  \"script\"\n]);\nconst crypto_pattern = /^(nonce|sha\\d\\d\\d)-/;\nclass BaseProvider {\n  /** @type {boolean} */\n  #use_hashes;\n  /** @type {boolean} */\n  #script_needs_csp;\n  /** @type {boolean} */\n  #style_needs_csp;\n  /** @type {import('types').CspDirectives} */\n  #directives;\n  /** @type {import('types').Csp.Source[]} */\n  #script_src;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src;\n  /** @type {string} */\n  #nonce;\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    this.#use_hashes = use_hashes;\n    this.#directives = directives;\n    const d = this.#directives;\n    this.#script_src = [];\n    this.#style_src = [];\n    const effective_script_src = d[\"script-src\"] || d[\"default-src\"];\n    const effective_style_src = d[\"style-src\"] || d[\"default-src\"];\n    this.#script_needs_csp = !!effective_script_src && effective_script_src.filter((value) => value !== \"unsafe-inline\").length > 0;\n    this.#style_needs_csp = !!effective_style_src && effective_style_src.filter((value) => value !== \"unsafe-inline\").length > 0;\n    this.script_needs_nonce = this.#script_needs_csp && !this.#use_hashes;\n    this.style_needs_nonce = this.#style_needs_csp && !this.#use_hashes;\n    this.#nonce = nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    if (this.#script_needs_csp) {\n      if (this.#use_hashes) {\n        this.#script_src.push(`sha256-${sha256(content)}`);\n      } else if (this.#script_src.length === 0) {\n        this.#script_src.push(`nonce-${this.#nonce}`);\n      }\n    }\n  }\n  /** @param {string} content */\n  add_style(content) {\n    if (this.#style_needs_csp) {\n      if (this.#use_hashes) {\n        this.#style_src.push(`sha256-${sha256(content)}`);\n      } else if (this.#style_src.length === 0) {\n        this.#style_src.push(`nonce-${this.#nonce}`);\n      }\n    }\n  }\n  /**\n   * @param {boolean} [is_meta]\n   */\n  get_header(is_meta = false) {\n    const header = [];\n    const directives = { ...this.#directives };\n    if (this.#style_src.length > 0) {\n      directives[\"style-src\"] = [\n        ...directives[\"style-src\"] || directives[\"default-src\"] || [],\n        ...this.#style_src\n      ];\n    }\n    if (this.#script_src.length > 0) {\n      directives[\"script-src\"] = [\n        ...directives[\"script-src\"] || directives[\"default-src\"] || [],\n        ...this.#script_src\n      ];\n    }\n    for (const key2 in directives) {\n      if (is_meta && (key2 === \"frame-ancestors\" || key2 === \"report-uri\" || key2 === \"sandbox\")) {\n        continue;\n      }\n      const value = (\n        /** @type {string[] | true} */\n        directives[key2]\n      );\n      if (!value)\n        continue;\n      const directive = [key2];\n      if (Array.isArray(value)) {\n        value.forEach((value2) => {\n          if (quoted.has(value2) || crypto_pattern.test(value2)) {\n            directive.push(`'${value2}'`);\n          } else {\n            directive.push(value2);\n          }\n        });\n      }\n      header.push(directive.join(\" \"));\n    }\n    return header.join(\"; \");\n  }\n}\nclass CspProvider extends BaseProvider {\n  get_meta() {\n    const content = this.get_header(true);\n    if (!content) {\n      return;\n    }\n    return `<meta http-equiv=\"content-security-policy\" content=${escape_html_attr(content)}>`;\n  }\n}\nclass CspReportOnlyProvider extends BaseProvider {\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    super(use_hashes, directives, nonce);\n    if (Object.values(directives).filter((v) => !!v).length > 0) {\n      const has_report_to = directives[\"report-to\"]?.length ?? 0 > 0;\n      const has_report_uri = directives[\"report-uri\"]?.length ?? 0 > 0;\n      if (!has_report_to && !has_report_uri) {\n        throw Error(\n          \"`content-security-policy-report-only` must be specified with either the `report-to` or `report-uri` directives, or both\"\n        );\n      }\n    }\n  }\n}\nclass Csp {\n  /** @readonly */\n  nonce = generate_nonce();\n  /** @type {CspProvider} */\n  csp_provider;\n  /** @type {CspReportOnlyProvider} */\n  report_only_provider;\n  /**\n   * @param {import('./types').CspConfig} config\n   * @param {import('./types').CspOpts} opts\n   */\n  constructor({ mode, directives, reportOnly }, { prerender }) {\n    const use_hashes = mode === \"hash\" || mode === \"auto\" && prerender;\n    this.csp_provider = new CspProvider(use_hashes, directives, this.nonce);\n    this.report_only_provider = new CspReportOnlyProvider(use_hashes, reportOnly, this.nonce);\n  }\n  get script_needs_nonce() {\n    return this.csp_provider.script_needs_nonce || this.report_only_provider.script_needs_nonce;\n  }\n  get style_needs_nonce() {\n    return this.csp_provider.style_needs_nonce || this.report_only_provider.style_needs_nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    this.csp_provider.add_script(content);\n    this.report_only_provider.add_script(content);\n  }\n  /** @param {string} content */\n  add_style(content) {\n    this.csp_provider.add_style(content);\n    this.report_only_provider.add_style(content);\n  }\n}\nfunction defer() {\n  let fulfil;\n  let reject;\n  const promise = new Promise((f, r) => {\n    fulfil = f;\n    reject = r;\n  });\n  return { promise, fulfil, reject };\n}\nfunction create_async_iterator() {\n  const deferred = [defer()];\n  return {\n    iterator: {\n      [Symbol.asyncIterator]() {\n        return {\n          next: async () => {\n            const next = await deferred[0].promise;\n            if (!next.done)\n              deferred.shift();\n            return next;\n          }\n        };\n      }\n    },\n    push: (value) => {\n      deferred[deferred.length - 1].fulfil({\n        value,\n        done: false\n      });\n      deferred.push(defer());\n    },\n    done: () => {\n      deferred[deferred.length - 1].fulfil({ done: true });\n    }\n  };\n}\nconst updated = {\n  ...readable(false),\n  check: () => false\n};\nconst encoder$1 = new TextEncoder();\nasync function render_response({\n  branch,\n  fetched,\n  options: options2,\n  manifest,\n  state,\n  page_config,\n  status,\n  error: error2 = null,\n  event,\n  resolve_opts,\n  action_result\n}) {\n  if (state.prerendering) {\n    if (options2.csp.mode === \"nonce\") {\n      throw new Error('Cannot use prerendering if config.kit.csp.mode === \"nonce\"');\n    }\n    if (options2.app_template_contains_nonce) {\n      throw new Error(\"Cannot use prerendering if page template contains %sveltekit.nonce%\");\n    }\n  }\n  const { client } = manifest._;\n  const modulepreloads = new Set(client.imports);\n  const stylesheets = new Set(client.stylesheets);\n  const fonts = new Set(client.fonts);\n  const link_header_preloads = /* @__PURE__ */ new Set();\n  const inline_styles = /* @__PURE__ */ new Map();\n  let rendered;\n  const form_value = action_result?.type === \"success\" || action_result?.type === \"failure\" ? action_result.data ?? null : null;\n  let base$1 = base;\n  let assets$1 = assets;\n  let base_expression = s(base);\n  if (!state.prerendering?.fallback) {\n    const segments = event.url.pathname.slice(base.length).split(\"/\").slice(2);\n    base$1 = segments.map(() => \"..\").join(\"/\") || \".\";\n    base_expression = `new URL(${s(base$1)}, location).pathname.slice(0, -1)`;\n    if (!assets || assets[0] === \"/\" && assets !== SVELTE_KIT_ASSETS) {\n      assets$1 = base$1;\n    }\n  }\n  if (page_config.ssr) {\n    const props = {\n      stores: {\n        page: writable(null),\n        navigating: writable(null),\n        updated\n      },\n      constructors: await Promise.all(branch.map(({ node }) => node.component())),\n      form: form_value\n    };\n    let data2 = {};\n    for (let i = 0; i < branch.length; i += 1) {\n      data2 = { ...data2, ...branch[i].data };\n      props[`data_${i}`] = data2;\n    }\n    props.page = {\n      error: error2,\n      params: (\n        /** @type {Record<string, any>} */\n        event.params\n      ),\n      route: event.route,\n      status,\n      url: event.url,\n      data: data2,\n      form: form_value\n    };\n    {\n      try {\n        rendered = options2.root.render(props);\n      } finally {\n        reset();\n      }\n    }\n    for (const { node } of branch) {\n      for (const url of node.imports)\n        modulepreloads.add(url);\n      for (const url of node.stylesheets)\n        stylesheets.add(url);\n      for (const url of node.fonts)\n        fonts.add(url);\n      if (node.inline_styles) {\n        Object.entries(await node.inline_styles()).forEach(([k, v]) => inline_styles.set(k, v));\n      }\n    }\n  } else {\n    rendered = { head: \"\", html: \"\", css: { code: \"\", map: null } };\n  }\n  let head = \"\";\n  let body = rendered.html;\n  const csp = new Csp(options2.csp, {\n    prerender: !!state.prerendering\n  });\n  const prefixed = (path) => {\n    if (path.startsWith(\"/\")) {\n      return base + path;\n    }\n    return `${assets$1}/${path}`;\n  };\n  if (inline_styles.size > 0) {\n    const content = Array.from(inline_styles.values()).join(\"\\n\");\n    const attributes = [];\n    if (csp.style_needs_nonce)\n      attributes.push(` nonce=\"${csp.nonce}\"`);\n    csp.add_style(content);\n    head += `\n\t<style${attributes.join(\"\")}>${content}</style>`;\n  }\n  for (const dep of stylesheets) {\n    const path = prefixed(dep);\n    const attributes = ['rel=\"stylesheet\"'];\n    if (inline_styles.has(dep)) {\n      attributes.push(\"disabled\", 'media=\"(max-width: 0)\"');\n    } else {\n      if (resolve_opts.preload({ type: \"css\", path })) {\n        const preload_atts = ['rel=\"preload\"', 'as=\"style\"'];\n        link_header_preloads.add(`<${encodeURI(path)}>; ${preload_atts.join(\";\")}; nopush`);\n      }\n    }\n    head += `\n\t\t<link href=\"${path}\" ${attributes.join(\" \")}>`;\n  }\n  for (const dep of fonts) {\n    const path = prefixed(dep);\n    if (resolve_opts.preload({ type: \"font\", path })) {\n      const ext = dep.slice(dep.lastIndexOf(\".\") + 1);\n      const attributes = [\n        'rel=\"preload\"',\n        'as=\"font\"',\n        `type=\"font/${ext}\"`,\n        `href=\"${path}\"`,\n        \"crossorigin\"\n      ];\n      head += `\n\t\t<link ${attributes.join(\" \")}>`;\n    }\n  }\n  const global = `__sveltekit_${options2.version_hash}`;\n  const { data, chunks } = get_data(\n    event,\n    options2,\n    branch.map((b) => b.server_data),\n    global\n  );\n  if (page_config.ssr && page_config.csr) {\n    body += `\n\t\t\t${fetched.map(\n      (item) => serialize_data(item, resolve_opts.filterSerializedResponseHeaders, !!state.prerendering)\n    ).join(\"\\n\t\t\t\")}`;\n  }\n  if (page_config.csr) {\n    const included_modulepreloads = Array.from(modulepreloads, (dep) => prefixed(dep)).filter(\n      (path) => resolve_opts.preload({ type: \"js\", path })\n    );\n    for (const path of included_modulepreloads) {\n      link_header_preloads.add(`<${encodeURI(path)}>; rel=\"modulepreload\"; nopush`);\n      if (options2.preload_strategy !== \"modulepreload\") {\n        head += `\n\t\t<link rel=\"preload\" as=\"script\" crossorigin=\"anonymous\" href=\"${path}\">`;\n      } else if (state.prerendering) {\n        head += `\n\t\t<link rel=\"modulepreload\" href=\"${path}\">`;\n      }\n    }\n    const blocks = [];\n    const properties = [\n      assets && `assets: ${s(assets)}`,\n      `base: ${base_expression}`,\n      `env: ${s(public_env)}`\n    ].filter(Boolean);\n    if (chunks) {\n      blocks.push(\"const deferred = new Map();\");\n      properties.push(`defer: (id) => new Promise((fulfil, reject) => {\n\t\t\t\t\t\t\tdeferred.set(id, { fulfil, reject });\n\t\t\t\t\t\t})`);\n      properties.push(`resolve: ({ id, data, error }) => {\n\t\t\t\t\t\t\tconst { fulfil, reject } = deferred.get(id);\n\t\t\t\t\t\t\tdeferred.delete(id);\n\n\t\t\t\t\t\t\tif (error) reject(error);\n\t\t\t\t\t\t\telse fulfil(data);\n\t\t\t\t\t\t}`);\n    }\n    blocks.push(`${global} = {\n\t\t\t\t\t\t${properties.join(\",\\n\t\t\t\t\t\t\")}\n\t\t\t\t\t};`);\n    const args = [\"app\", \"element\"];\n    blocks.push(\"const element = document.currentScript.parentElement;\");\n    if (page_config.ssr) {\n      const serialized = { form: \"null\", error: \"null\" };\n      blocks.push(`const data = ${data};`);\n      if (form_value) {\n        serialized.form = uneval_action_response(\n          form_value,\n          /** @type {string} */\n          event.route.id\n        );\n      }\n      if (error2) {\n        serialized.error = uneval(error2);\n      }\n      const hydrate = [\n        `node_ids: [${branch.map(({ node }) => node.index).join(\", \")}]`,\n        \"data\",\n        `form: ${serialized.form}`,\n        `error: ${serialized.error}`\n      ];\n      if (status !== 200) {\n        hydrate.push(`status: ${status}`);\n      }\n      if (options2.embedded) {\n        hydrate.push(`params: ${uneval(event.params)}`, `route: ${s(event.route)}`);\n      }\n      args.push(`{\n\t\t\t\t\t\t\t${hydrate.join(\",\\n\t\t\t\t\t\t\t\")}\n\t\t\t\t\t\t}`);\n    }\n    blocks.push(`Promise.all([\n\t\t\t\t\t\timport(${s(prefixed(client.start))}),\n\t\t\t\t\t\timport(${s(prefixed(client.app))})\n\t\t\t\t\t]).then(([kit, app]) => {\n\t\t\t\t\t\tkit.start(${args.join(\", \")});\n\t\t\t\t\t});`);\n    if (options2.service_worker) {\n      const opts = \"\";\n      blocks.push(`if ('serviceWorker' in navigator) {\n\t\t\t\t\t\taddEventListener('load', function () {\n\t\t\t\t\t\t\tnavigator.serviceWorker.register('${prefixed(\"service-worker.js\")}'${opts});\n\t\t\t\t\t\t});\n\t\t\t\t\t}`);\n    }\n    const init_app = `\n\t\t\t\t{\n\t\t\t\t\t${blocks.join(\"\\n\\n\t\t\t\t\t\")}\n\t\t\t\t}\n\t\t\t`;\n    csp.add_script(init_app);\n    body += `\n\t\t\t<script${csp.script_needs_nonce ? ` nonce=\"${csp.nonce}\"` : \"\"}>${init_app}<\\/script>\n\t\t`;\n  }\n  const headers = new Headers({\n    \"x-sveltekit-page\": \"true\",\n    \"content-type\": \"text/html\"\n  });\n  if (state.prerendering) {\n    const http_equiv = [];\n    const csp_headers = csp.csp_provider.get_meta();\n    if (csp_headers) {\n      http_equiv.push(csp_headers);\n    }\n    if (state.prerendering.cache) {\n      http_equiv.push(`<meta http-equiv=\"cache-control\" content=\"${state.prerendering.cache}\">`);\n    }\n    if (http_equiv.length > 0) {\n      head = http_equiv.join(\"\\n\") + head;\n    }\n  } else {\n    const csp_header = csp.csp_provider.get_header();\n    if (csp_header) {\n      headers.set(\"content-security-policy\", csp_header);\n    }\n    const report_only_header = csp.report_only_provider.get_header();\n    if (report_only_header) {\n      headers.set(\"content-security-policy-report-only\", report_only_header);\n    }\n    if (link_header_preloads.size) {\n      headers.set(\"link\", Array.from(link_header_preloads).join(\", \"));\n    }\n  }\n  head += rendered.head;\n  const html = options2.templates.app({\n    head,\n    body,\n    assets: assets$1,\n    nonce: (\n      /** @type {string} */\n      csp.nonce\n    ),\n    env: public_env\n  });\n  const transformed = await resolve_opts.transformPageChunk({\n    html,\n    done: true\n  }) || \"\";\n  if (!chunks) {\n    headers.set(\"etag\", `\"${hash(transformed)}\"`);\n  }\n  return !chunks ? text(transformed, {\n    status,\n    headers\n  }) : new Response(\n    new ReadableStream({\n      async start(controller) {\n        controller.enqueue(encoder$1.encode(transformed + \"\\n\"));\n        for await (const chunk of chunks) {\n          controller.enqueue(encoder$1.encode(chunk));\n        }\n        controller.close();\n      },\n      type: \"bytes\"\n    }),\n    {\n      headers: {\n        \"content-type\": \"text/html\"\n      }\n    }\n  );\n}\nfunction get_data(event, options2, nodes, global) {\n  let promise_id = 1;\n  let count = 0;\n  const { iterator, push, done } = create_async_iterator();\n  function replacer(thing) {\n    if (typeof thing?.then === \"function\") {\n      const id = promise_id++;\n      count += 1;\n      thing.then(\n        /** @param {any} data */\n        (data) => ({ data })\n      ).catch(\n        /** @param {any} error */\n        async (error2) => ({\n          error: await handle_error_and_jsonify(event, options2, error2)\n        })\n      ).then(\n        /**\n         * @param {{data: any; error: any}} result\n         */\n        async ({ data, error: error2 }) => {\n          count -= 1;\n          let str;\n          try {\n            str = uneval({ id, data, error: error2 }, replacer);\n          } catch (e) {\n            error2 = await handle_error_and_jsonify(\n              event,\n              options2,\n              new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n            );\n            data = void 0;\n            str = uneval({ id, data, error: error2 }, replacer);\n          }\n          push(`<script>${global}.resolve(${str})<\\/script>\n`);\n          if (count === 0)\n            done();\n        }\n      );\n      return `${global}.defer(${id})`;\n    }\n  }\n  try {\n    const strings = nodes.map((node) => {\n      if (!node)\n        return \"null\";\n      return `{\"type\":\"data\",\"data\":${uneval(node.data, replacer)},${stringify_uses(node)}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n    });\n    return {\n      data: `[${strings.join(\",\")}]`,\n      chunks: count > 0 ? iterator : null\n    };\n  } catch (e) {\n    throw new Error(clarify_devalue_error(\n      event,\n      /** @type {any} */\n      e\n    ));\n  }\n}\nfunction get_option(nodes, option) {\n  return nodes.reduce(\n    (value, node) => {\n      return (\n        /** @type {Value} TypeScript's too dumb to understand this */\n        node?.universal?.[option] ?? node?.server?.[option] ?? value\n      );\n    },\n    /** @type {Value | undefined} */\n    void 0\n  );\n}\nasync function respond_with_error({\n  event,\n  options: options2,\n  manifest,\n  state,\n  status,\n  error: error2,\n  resolve_opts\n}) {\n  const fetched = [];\n  try {\n    const branch = [];\n    const default_layout = await manifest._.nodes[0]();\n    const ssr = get_option([default_layout], \"ssr\") ?? true;\n    const csr = get_option([default_layout], \"csr\") ?? true;\n    if (ssr) {\n      state.error = true;\n      const server_data_promise = load_server_data({\n        event,\n        state,\n        node: default_layout,\n        parent: async () => ({}),\n        track_server_fetches: options2.track_server_fetches\n      });\n      const server_data = await server_data_promise;\n      const data = await load_data({\n        event,\n        fetched,\n        node: default_layout,\n        parent: async () => ({}),\n        resolve_opts,\n        server_data_promise,\n        state,\n        csr\n      });\n      branch.push(\n        {\n          node: default_layout,\n          server_data,\n          data\n        },\n        {\n          node: await manifest._.nodes[1](),\n          // 1 is always the root error\n          data: null,\n          server_data: null\n        }\n      );\n    }\n    return await render_response({\n      options: options2,\n      manifest,\n      state,\n      page_config: {\n        ssr,\n        csr: get_option([default_layout], \"csr\") ?? true\n      },\n      status,\n      error: await handle_error_and_jsonify(event, options2, error2),\n      branch,\n      fetched,\n      event,\n      resolve_opts\n    });\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return redirect_response(e.status, e.location);\n    }\n    return static_error_page(\n      options2,\n      e instanceof HttpError ? e.status : 500,\n      (await handle_error_and_jsonify(event, options2, e)).message\n    );\n  }\n}\nfunction once(fn) {\n  let done = false;\n  let result;\n  return () => {\n    if (done)\n      return result;\n    done = true;\n    return result = fn();\n  };\n}\nconst encoder = new TextEncoder();\nasync function render_data(event, route, options2, manifest, state, invalidated_data_nodes, trailing_slash) {\n  if (!route.page) {\n    return new Response(void 0, {\n      status: 404\n    });\n  }\n  try {\n    const node_ids = [...route.page.layouts, route.page.leaf];\n    const invalidated = invalidated_data_nodes ?? node_ids.map(() => true);\n    let aborted = false;\n    const url = new URL(event.url);\n    url.pathname = normalize_path(url.pathname, trailing_slash);\n    const new_event = { ...event, url };\n    const functions = node_ids.map((n, i) => {\n      return once(async () => {\n        try {\n          if (aborted) {\n            return (\n              /** @type {import('types').ServerDataSkippedNode} */\n              {\n                type: \"skip\"\n              }\n            );\n          }\n          const node = n == void 0 ? n : await manifest._.nodes[n]();\n          return load_server_data({\n            event: new_event,\n            state,\n            node,\n            parent: async () => {\n              const data2 = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = (\n                  /** @type {import('types').ServerDataNode | null} */\n                  await functions[j]()\n                );\n                if (parent) {\n                  Object.assign(data2, parent.data);\n                }\n              }\n              return data2;\n            },\n            track_server_fetches: options2.track_server_fetches\n          });\n        } catch (e) {\n          aborted = true;\n          throw e;\n        }\n      });\n    });\n    const promises = functions.map(async (fn, i) => {\n      if (!invalidated[i]) {\n        return (\n          /** @type {import('types').ServerDataSkippedNode} */\n          {\n            type: \"skip\"\n          }\n        );\n      }\n      return fn();\n    });\n    let length = promises.length;\n    const nodes = await Promise.all(\n      promises.map(\n        (p, i) => p.catch(async (error2) => {\n          if (error2 instanceof Redirect) {\n            throw error2;\n          }\n          length = Math.min(length, i + 1);\n          return (\n            /** @type {import('types').ServerErrorNode} */\n            {\n              type: \"error\",\n              error: await handle_error_and_jsonify(event, options2, error2),\n              status: error2 instanceof HttpError ? error2.status : void 0\n            }\n          );\n        })\n      )\n    );\n    const { data, chunks } = get_data_json(event, options2, nodes);\n    if (!chunks) {\n      return json_response(data);\n    }\n    return new Response(\n      new ReadableStream({\n        async start(controller) {\n          controller.enqueue(encoder.encode(data));\n          for await (const chunk of chunks) {\n            controller.enqueue(encoder.encode(chunk));\n          }\n          controller.close();\n        },\n        type: \"bytes\"\n      }),\n      {\n        headers: {\n          // we use a proprietary content type to prevent buffering.\n          // the `text` prefix makes it inspectable\n          \"content-type\": \"text/sveltekit-data\",\n          \"cache-control\": \"private, no-store\"\n        }\n      }\n    );\n  } catch (e) {\n    const error2 = normalize_error(e);\n    if (error2 instanceof Redirect) {\n      return redirect_json_response(error2);\n    } else {\n      return json_response(await handle_error_and_jsonify(event, options2, error2), 500);\n    }\n  }\n}\nfunction json_response(json2, status = 200) {\n  return text(typeof json2 === \"string\" ? json2 : JSON.stringify(json2), {\n    status,\n    headers: {\n      \"content-type\": \"application/json\",\n      \"cache-control\": \"private, no-store\"\n    }\n  });\n}\nfunction redirect_json_response(redirect) {\n  return json_response({\n    type: \"redirect\",\n    location: redirect.location\n  });\n}\nfunction get_data_json(event, options2, nodes) {\n  let promise_id = 1;\n  let count = 0;\n  const { iterator, push, done } = create_async_iterator();\n  const reducers = {\n    /** @param {any} thing */\n    Promise: (thing) => {\n      if (typeof thing?.then === \"function\") {\n        const id = promise_id++;\n        count += 1;\n        let key2 = \"data\";\n        thing.catch(\n          /** @param {any} e */\n          async (e) => {\n            key2 = \"error\";\n            return handle_error_and_jsonify(\n              event,\n              options2,\n              /** @type {any} */\n              e\n            );\n          }\n        ).then(\n          /** @param {any} value */\n          async (value) => {\n            let str;\n            try {\n              str = stringify(value, reducers);\n            } catch (e) {\n              const error2 = await handle_error_and_jsonify(\n                event,\n                options2,\n                new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n              );\n              key2 = \"error\";\n              str = stringify(error2, reducers);\n            }\n            count -= 1;\n            push(`{\"type\":\"chunk\",\"id\":${id},\"${key2}\":${str}}\n`);\n            if (count === 0)\n              done();\n          }\n        );\n        return id;\n      }\n    }\n  };\n  try {\n    const strings = nodes.map((node) => {\n      if (!node)\n        return \"null\";\n      if (node.type === \"error\" || node.type === \"skip\") {\n        return JSON.stringify(node);\n      }\n      return `{\"type\":\"data\",\"data\":${stringify(node.data, reducers)},${stringify_uses(\n        node\n      )}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n    });\n    return {\n      data: `{\"type\":\"data\",\"nodes\":[${strings.join(\",\")}]}\n`,\n      chunks: count > 0 ? iterator : null\n    };\n  } catch (e) {\n    throw new Error(clarify_devalue_error(\n      event,\n      /** @type {any} */\n      e\n    ));\n  }\n}\nconst MAX_DEPTH = 10;\nasync function render_page(event, page, options2, manifest, state, resolve_opts) {\n  if (state.depth > MAX_DEPTH) {\n    return text(`Not found: ${event.url.pathname}`, {\n      status: 404\n      // TODO in some cases this should be 500. not sure how to differentiate\n    });\n  }\n  if (is_action_json_request(event)) {\n    const node = await manifest._.nodes[page.leaf]();\n    return handle_action_json_request(event, options2, node?.server);\n  }\n  try {\n    const nodes = await Promise.all([\n      // we use == here rather than === because [undefined] serializes as \"[null]\"\n      ...page.layouts.map((n) => n == void 0 ? n : manifest._.nodes[n]()),\n      manifest._.nodes[page.leaf]()\n    ]);\n    const leaf_node = (\n      /** @type {import('types').SSRNode} */\n      nodes.at(-1)\n    );\n    let status = 200;\n    let action_result = void 0;\n    if (is_action_request(event)) {\n      action_result = await handle_action_request(event, leaf_node.server);\n      if (action_result?.type === \"redirect\") {\n        return redirect_response(action_result.status, action_result.location);\n      }\n      if (action_result?.type === \"error\") {\n        const error2 = action_result.error;\n        status = error2 instanceof HttpError ? error2.status : 500;\n      }\n      if (action_result?.type === \"failure\") {\n        status = action_result.status;\n      }\n    }\n    const should_prerender_data = nodes.some((node) => node?.server);\n    const data_pathname = add_data_suffix(event.url.pathname);\n    const should_prerender = get_option(nodes, \"prerender\") ?? false;\n    if (should_prerender) {\n      const mod = leaf_node.server;\n      if (mod?.actions) {\n        throw new Error(\"Cannot prerender pages with actions\");\n      }\n    } else if (state.prerendering) {\n      return new Response(void 0, {\n        status: 204\n      });\n    }\n    state.prerender_default = should_prerender;\n    const fetched = [];\n    if (get_option(nodes, \"ssr\") === false) {\n      return await render_response({\n        branch: [],\n        fetched,\n        page_config: {\n          ssr: false,\n          csr: get_option(nodes, \"csr\") ?? true\n        },\n        status,\n        error: null,\n        event,\n        options: options2,\n        manifest,\n        state,\n        resolve_opts\n      });\n    }\n    const branch = [];\n    let load_error = null;\n    const server_promises = nodes.map((node, i) => {\n      if (load_error) {\n        throw load_error;\n      }\n      return Promise.resolve().then(async () => {\n        try {\n          if (node === leaf_node && action_result?.type === \"error\") {\n            throw action_result.error;\n          }\n          return await load_server_data({\n            event,\n            state,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = await server_promises[j];\n                if (parent)\n                  Object.assign(data, await parent.data);\n              }\n              return data;\n            },\n            track_server_fetches: options2.track_server_fetches\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    const csr = get_option(nodes, \"csr\") ?? true;\n    const load_promises = nodes.map((node, i) => {\n      if (load_error)\n        throw load_error;\n      return Promise.resolve().then(async () => {\n        try {\n          return await load_data({\n            event,\n            fetched,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                Object.assign(data, await load_promises[j]);\n              }\n              return data;\n            },\n            resolve_opts,\n            server_data_promise: server_promises[i],\n            state,\n            csr\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    for (const p of server_promises)\n      p.catch(() => {\n      });\n    for (const p of load_promises)\n      p.catch(() => {\n      });\n    for (let i = 0; i < nodes.length; i += 1) {\n      const node = nodes[i];\n      if (node) {\n        try {\n          const server_data = await server_promises[i];\n          const data = await load_promises[i];\n          branch.push({ node, server_data, data });\n        } catch (e) {\n          const err = normalize_error(e);\n          if (err instanceof Redirect) {\n            if (state.prerendering && should_prerender_data) {\n              const body = JSON.stringify({\n                type: \"redirect\",\n                location: err.location\n              });\n              state.prerendering.dependencies.set(data_pathname, {\n                response: text(body),\n                body\n              });\n            }\n            return redirect_response(err.status, err.location);\n          }\n          const status2 = err instanceof HttpError ? err.status : 500;\n          const error2 = await handle_error_and_jsonify(event, options2, err);\n          while (i--) {\n            if (page.errors[i]) {\n              const index = (\n                /** @type {number} */\n                page.errors[i]\n              );\n              const node2 = await manifest._.nodes[index]();\n              let j = i;\n              while (!branch[j])\n                j -= 1;\n              return await render_response({\n                event,\n                options: options2,\n                manifest,\n                state,\n                resolve_opts,\n                page_config: { ssr: true, csr: true },\n                status: status2,\n                error: error2,\n                branch: compact(branch.slice(0, j + 1)).concat({\n                  node: node2,\n                  data: null,\n                  server_data: null\n                }),\n                fetched\n              });\n            }\n          }\n          return static_error_page(options2, status2, error2.message);\n        }\n      } else {\n        branch.push(null);\n      }\n    }\n    if (state.prerendering && should_prerender_data) {\n      let { data, chunks } = get_data_json(\n        event,\n        options2,\n        branch.map((node) => node?.server_data)\n      );\n      if (chunks) {\n        for await (const chunk of chunks) {\n          data += chunk;\n        }\n      }\n      state.prerendering.dependencies.set(data_pathname, {\n        response: text(data),\n        body: data\n      });\n    }\n    return await render_response({\n      event,\n      options: options2,\n      manifest,\n      state,\n      resolve_opts,\n      page_config: {\n        csr: get_option(nodes, \"csr\") ?? true,\n        ssr: true\n      },\n      status,\n      error: null,\n      branch: compact(branch),\n      action_result,\n      fetched\n    });\n  } catch (e) {\n    return await respond_with_error({\n      event,\n      options: options2,\n      manifest,\n      state,\n      status: 500,\n      error: e,\n      resolve_opts\n    });\n  }\n}\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\nvar parse_1 = parse$1;\nvar serialize_1 = serialize;\nvar __toString = Object.prototype.toString;\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nfunction parse$1(str, options2) {\n  if (typeof str !== \"string\") {\n    throw new TypeError(\"argument str must be a string\");\n  }\n  var obj = {};\n  var opt = options2 || {};\n  var dec = opt.decode || decode;\n  var index = 0;\n  while (index < str.length) {\n    var eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) {\n      break;\n    }\n    var endIdx = str.indexOf(\";\", index);\n    if (endIdx === -1) {\n      endIdx = str.length;\n    } else if (endIdx < eqIdx) {\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n    var key2 = str.slice(index, eqIdx).trim();\n    if (void 0 === obj[key2]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim();\n      if (val.charCodeAt(0) === 34) {\n        val = val.slice(1, -1);\n      }\n      obj[key2] = tryDecode(val, dec);\n    }\n    index = endIdx + 1;\n  }\n  return obj;\n}\nfunction serialize(name, val, options2) {\n  var opt = options2 || {};\n  var enc = opt.encode || encode;\n  if (typeof enc !== \"function\") {\n    throw new TypeError(\"option encode is invalid\");\n  }\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError(\"argument name is invalid\");\n  }\n  var value = enc(val);\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError(\"argument val is invalid\");\n  }\n  var str = name + \"=\" + value;\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError(\"option maxAge is invalid\");\n    }\n    str += \"; Max-Age=\" + Math.floor(maxAge);\n  }\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError(\"option domain is invalid\");\n    }\n    str += \"; Domain=\" + opt.domain;\n  }\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError(\"option path is invalid\");\n    }\n    str += \"; Path=\" + opt.path;\n  }\n  if (opt.expires) {\n    var expires = opt.expires;\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError(\"option expires is invalid\");\n    }\n    str += \"; Expires=\" + expires.toUTCString();\n  }\n  if (opt.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n  if (opt.secure) {\n    str += \"; Secure\";\n  }\n  if (opt.priority) {\n    var priority = typeof opt.priority === \"string\" ? opt.priority.toLowerCase() : opt.priority;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(\"option priority is invalid\");\n    }\n  }\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === \"string\" ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(\"option sameSite is invalid\");\n    }\n  }\n  return str;\n}\nfunction decode(str) {\n  return str.indexOf(\"%\") !== -1 ? decodeURIComponent(str) : str;\n}\nfunction encode(val) {\n  return encodeURIComponent(val);\n}\nfunction isDate(val) {\n  return __toString.call(val) === \"[object Date]\" || val instanceof Date;\n}\nfunction tryDecode(str, decode2) {\n  try {\n    return decode2(str);\n  } catch (e) {\n    return str;\n  }\n}\nfunction get_cookies(request, url, trailing_slash) {\n  const header = request.headers.get(\"cookie\") ?? \"\";\n  const initial_cookies = parse_1(header, { decode: (value) => value });\n  const normalized_url = normalize_path(url.pathname, trailing_slash);\n  const default_path = normalized_url.split(\"/\").slice(0, -1).join(\"/\") || \"/\";\n  const new_cookies = {};\n  const defaults = {\n    httpOnly: true,\n    sameSite: \"lax\",\n    secure: url.hostname === \"localhost\" && url.protocol === \"http:\" ? false : true\n  };\n  const cookies = {\n    // The JSDoc param annotations appearing below for get, set and delete\n    // are necessary to expose the `cookie` library types to\n    // typescript users. `@type {import('@sveltejs/kit').Cookies}` above is not\n    // sufficient to do so.\n    /**\n     * @param {string} name\n     * @param {import('cookie').CookieParseOptions} opts\n     */\n    get(name, opts) {\n      const c = new_cookies[name];\n      if (c && domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n        return c.value;\n      }\n      const decoder = opts?.decode || decodeURIComponent;\n      const req_cookies = parse_1(header, { decode: decoder });\n      const cookie = req_cookies[name];\n      return cookie;\n    },\n    /**\n     * @param {import('cookie').CookieParseOptions} opts\n     */\n    getAll(opts) {\n      const decoder = opts?.decode || decodeURIComponent;\n      const cookies2 = parse_1(header, { decode: decoder });\n      for (const c of Object.values(new_cookies)) {\n        if (domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n          cookies2[c.name] = c.value;\n        }\n      }\n      return Object.entries(cookies2).map(([name, value]) => ({ name, value }));\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     * @param {import('cookie').CookieSerializeOptions} opts\n     */\n    set(name, value, opts = {}) {\n      set_internal(name, value, { ...defaults, ...opts });\n    },\n    /**\n     * @param {string} name\n     * @param {import('cookie').CookieSerializeOptions} opts\n     */\n    delete(name, opts = {}) {\n      cookies.set(name, \"\", {\n        ...opts,\n        maxAge: 0\n      });\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     * @param {import('cookie').CookieSerializeOptions} opts\n     */\n    serialize(name, value, opts) {\n      return serialize_1(name, value, {\n        ...defaults,\n        ...opts\n      });\n    }\n  };\n  function get_cookie_header(destination, header2) {\n    const combined_cookies = {\n      // cookies sent by the user agent have lowest precedence\n      ...initial_cookies\n    };\n    for (const key2 in new_cookies) {\n      const cookie = new_cookies[key2];\n      if (!domain_matches(destination.hostname, cookie.options.domain))\n        continue;\n      if (!path_matches(destination.pathname, cookie.options.path))\n        continue;\n      const encoder2 = cookie.options.encode || encodeURIComponent;\n      combined_cookies[cookie.name] = encoder2(cookie.value);\n    }\n    if (header2) {\n      const parsed = parse_1(header2, { decode: (value) => value });\n      for (const name in parsed) {\n        combined_cookies[name] = parsed[name];\n      }\n    }\n    return Object.entries(combined_cookies).map(([name, value]) => `${name}=${value}`).join(\"; \");\n  }\n  function set_internal(name, value, opts) {\n    const path = opts.path ?? default_path;\n    new_cookies[name] = {\n      name,\n      value,\n      options: {\n        ...opts,\n        path\n      }\n    };\n  }\n  return { cookies, new_cookies, get_cookie_header, set_internal };\n}\nfunction domain_matches(hostname, constraint) {\n  if (!constraint)\n    return true;\n  const normalized = constraint[0] === \".\" ? constraint.slice(1) : constraint;\n  if (hostname === normalized)\n    return true;\n  return hostname.endsWith(\".\" + normalized);\n}\nfunction path_matches(path, constraint) {\n  if (!constraint)\n    return true;\n  const normalized = constraint.endsWith(\"/\") ? constraint.slice(0, -1) : constraint;\n  if (path === normalized)\n    return true;\n  return path.startsWith(normalized + \"/\");\n}\nfunction add_cookies_to_headers(headers, cookies) {\n  for (const new_cookie of cookies) {\n    const { name, value, options: options2 } = new_cookie;\n    headers.append(\"set-cookie\", serialize_1(name, value, options2));\n  }\n}\nvar setCookie = { exports: {} };\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false\n};\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\nfunction parseString(setCookieValue, options2) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n  options2 = options2 ? Object.assign({}, defaultParseOptions, options2) : defaultParseOptions;\n  try {\n    value = options2.decodeValues ? decodeURIComponent(value) : value;\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" + value + \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n  var cookie = {\n    name,\n    value\n  };\n  parts.forEach(function(part) {\n    var sides = part.split(\"=\");\n    var key2 = sides.shift().trimLeft().toLowerCase();\n    var value2 = sides.join(\"=\");\n    if (key2 === \"expires\") {\n      cookie.expires = new Date(value2);\n    } else if (key2 === \"max-age\") {\n      cookie.maxAge = parseInt(value2, 10);\n    } else if (key2 === \"secure\") {\n      cookie.secure = true;\n    } else if (key2 === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key2 === \"samesite\") {\n      cookie.sameSite = value2;\n    } else {\n      cookie[key2] = value2;\n    }\n  });\n  return cookie;\n}\nfunction parseNameValuePair(nameValuePairStr) {\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\");\n  } else {\n    value = nameValuePairStr;\n  }\n  return { name, value };\n}\nfunction parse(input, options2) {\n  options2 = options2 ? Object.assign({}, defaultParseOptions, options2) : defaultParseOptions;\n  if (!input) {\n    if (!options2.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n  if (input.headers) {\n    if (typeof input.headers.getSetCookie === \"function\") {\n      input = input.headers.getSetCookie();\n    } else if (input.headers[\"set-cookie\"]) {\n      input = input.headers[\"set-cookie\"];\n    } else {\n      var sch = input.headers[Object.keys(input.headers).find(function(key2) {\n        return key2.toLowerCase() === \"set-cookie\";\n      })];\n      if (!sch && input.headers.cookie && !options2.silent) {\n        console.warn(\n          \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n        );\n      }\n      input = sch;\n    }\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n  options2 = options2 ? Object.assign({}, defaultParseOptions, options2) : defaultParseOptions;\n  if (!options2.map) {\n    return input.filter(isNonEmptyString).map(function(str) {\n      return parseString(str, options2);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function(cookies2, str) {\n      var cookie = parseString(str, options2);\n      cookies2[cookie.name] = cookie;\n      return cookies2;\n    }, cookies);\n  }\n}\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\nsetCookie.exports = parse;\nsetCookie.exports.parse = parse;\nvar parseString_1 = setCookie.exports.parseString = parseString;\nvar splitCookiesString_1 = setCookie.exports.splitCookiesString = splitCookiesString;\nfunction create_fetch({ event, options: options2, manifest, state, get_cookie_header, set_internal }) {\n  return async (info, init2) => {\n    const original_request = normalize_fetch_input(info, init2, event.url);\n    let mode = (info instanceof Request ? info.mode : init2?.mode) ?? \"cors\";\n    let credentials = (info instanceof Request ? info.credentials : init2?.credentials) ?? \"same-origin\";\n    return await options2.hooks.handleFetch({\n      event,\n      request: original_request,\n      fetch: async (info2, init3) => {\n        const request = normalize_fetch_input(info2, init3, event.url);\n        const url = new URL(request.url);\n        if (!request.headers.has(\"origin\")) {\n          request.headers.set(\"origin\", event.url.origin);\n        }\n        if (info2 !== original_request) {\n          mode = (info2 instanceof Request ? info2.mode : init3?.mode) ?? \"cors\";\n          credentials = (info2 instanceof Request ? info2.credentials : init3?.credentials) ?? \"same-origin\";\n        }\n        if ((request.method === \"GET\" || request.method === \"HEAD\") && (mode === \"no-cors\" && url.origin !== event.url.origin || url.origin === event.url.origin)) {\n          request.headers.delete(\"origin\");\n        }\n        if (url.origin !== event.url.origin) {\n          if (`.${url.hostname}`.endsWith(`.${event.url.hostname}`) && credentials !== \"omit\") {\n            const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n            if (cookie)\n              request.headers.set(\"cookie\", cookie);\n          }\n          return fetch(request);\n        }\n        const prefix = assets || base;\n        const decoded = decodeURIComponent(url.pathname);\n        const filename = (decoded.startsWith(prefix) ? decoded.slice(prefix.length) : decoded).slice(1);\n        const filename_html = `${filename}/index.html`;\n        const is_asset = manifest.assets.has(filename);\n        const is_asset_html = manifest.assets.has(filename_html);\n        if (is_asset || is_asset_html) {\n          const file = is_asset ? filename : filename_html;\n          if (state.read) {\n            const type = is_asset ? manifest.mimeTypes[filename.slice(filename.lastIndexOf(\".\"))] : \"text/html\";\n            return new Response(state.read(file), {\n              headers: type ? { \"content-type\": type } : {}\n            });\n          }\n          return await fetch(request);\n        }\n        if (credentials !== \"omit\") {\n          const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n          if (cookie) {\n            request.headers.set(\"cookie\", cookie);\n          }\n          const authorization = event.request.headers.get(\"authorization\");\n          if (authorization && !request.headers.has(\"authorization\")) {\n            request.headers.set(\"authorization\", authorization);\n          }\n        }\n        if (!request.headers.has(\"accept\")) {\n          request.headers.set(\"accept\", \"*/*\");\n        }\n        if (!request.headers.has(\"accept-language\")) {\n          request.headers.set(\n            \"accept-language\",\n            /** @type {string} */\n            event.request.headers.get(\"accept-language\")\n          );\n        }\n        const response = await respond(request, options2, manifest, {\n          ...state,\n          depth: state.depth + 1\n        });\n        const set_cookie = response.headers.get(\"set-cookie\");\n        if (set_cookie) {\n          for (const str of splitCookiesString_1(set_cookie)) {\n            const { name, value, ...options3 } = parseString_1(str);\n            set_internal(\n              name,\n              value,\n              /** @type {import('cookie').CookieSerializeOptions} */\n              options3\n            );\n          }\n        }\n        return response;\n      }\n    });\n  };\n}\nfunction normalize_fetch_input(info, init2, url) {\n  if (info instanceof Request) {\n    return info;\n  }\n  return new Request(typeof info === \"string\" ? new URL(info, url) : info, init2);\n}\nfunction validator(expected) {\n  function validate(module, file) {\n    if (!module)\n      return;\n    for (const key2 in module) {\n      if (key2[0] === \"_\" || expected.has(key2))\n        continue;\n      const values = [...expected.values()];\n      const hint = hint_for_supported_files(key2, file?.slice(file.lastIndexOf(\".\"))) ?? `valid exports are ${values.join(\", \")}, or anything with a '_' prefix`;\n      throw new Error(`Invalid export '${key2}'${file ? ` in ${file}` : \"\"} (${hint})`);\n    }\n  }\n  return validate;\n}\nfunction hint_for_supported_files(key2, ext = \".js\") {\n  const supported_files = [];\n  if (valid_layout_exports.has(key2)) {\n    supported_files.push(`+layout${ext}`);\n  }\n  if (valid_page_exports.has(key2)) {\n    supported_files.push(`+page${ext}`);\n  }\n  if (valid_layout_server_exports.has(key2)) {\n    supported_files.push(`+layout.server${ext}`);\n  }\n  if (valid_page_server_exports.has(key2)) {\n    supported_files.push(`+page.server${ext}`);\n  }\n  if (valid_server_exports.has(key2)) {\n    supported_files.push(`+server${ext}`);\n  }\n  if (supported_files.length > 0) {\n    return `'${key2}' is a valid export in ${supported_files.slice(0, -1).join(\", \")}${supported_files.length > 1 ? \" or \" : \"\"}${supported_files.at(-1)}`;\n  }\n}\nconst valid_layout_exports = /* @__PURE__ */ new Set([\n  \"load\",\n  \"prerender\",\n  \"csr\",\n  \"ssr\",\n  \"trailingSlash\",\n  \"config\"\n]);\nconst valid_page_exports = /* @__PURE__ */ new Set([...valid_layout_exports, \"entries\"]);\nconst valid_layout_server_exports = /* @__PURE__ */ new Set([...valid_layout_exports]);\nconst valid_page_server_exports = /* @__PURE__ */ new Set([...valid_layout_server_exports, \"actions\", \"entries\"]);\nconst valid_server_exports = /* @__PURE__ */ new Set([\n  \"GET\",\n  \"POST\",\n  \"PATCH\",\n  \"PUT\",\n  \"DELETE\",\n  \"OPTIONS\",\n  \"HEAD\",\n  \"prerender\",\n  \"trailingSlash\",\n  \"config\",\n  \"entries\"\n]);\nconst validate_layout_exports = validator(valid_layout_exports);\nconst validate_page_exports = validator(valid_page_exports);\nconst validate_layout_server_exports = validator(valid_layout_server_exports);\nconst validate_page_server_exports = validator(valid_page_server_exports);\nconst validate_server_exports = validator(valid_server_exports);\nconst default_transform = ({ html }) => html;\nconst default_filter = () => false;\nconst default_preload = ({ type }) => type === \"js\" || type === \"css\";\nconst page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"POST\"]);\nconst allowed_page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"OPTIONS\"]);\nasync function respond(request, options2, manifest, state) {\n  const url = new URL(request.url);\n  if (options2.csrf_check_origin) {\n    const forbidden = is_form_content_type(request) && (request.method === \"POST\" || request.method === \"PUT\" || request.method === \"PATCH\" || request.method === \"DELETE\") && request.headers.get(\"origin\") !== url.origin;\n    if (forbidden) {\n      const csrf_error = error(403, `Cross-site ${request.method} form submissions are forbidden`);\n      if (request.headers.get(\"accept\") === \"application/json\") {\n        return json(csrf_error.body, { status: csrf_error.status });\n      }\n      return text(csrf_error.body.message, { status: csrf_error.status });\n    }\n  }\n  let decoded;\n  try {\n    decoded = decode_pathname(url.pathname);\n  } catch {\n    return text(\"Malformed URI\", { status: 400 });\n  }\n  let route = null;\n  let params = {};\n  if (base && !state.prerendering?.fallback) {\n    if (!decoded.startsWith(base)) {\n      return text(\"Not found\", { status: 404 });\n    }\n    decoded = decoded.slice(base.length) || \"/\";\n  }\n  const is_data_request = has_data_suffix(decoded);\n  let invalidated_data_nodes;\n  if (is_data_request) {\n    decoded = strip_data_suffix(decoded) || \"/\";\n    url.pathname = strip_data_suffix(url.pathname) || \"/\";\n    invalidated_data_nodes = url.searchParams.get(INVALIDATED_PARAM)?.split(\"\").map((node) => node === \"1\");\n    url.searchParams.delete(INVALIDATED_PARAM);\n  }\n  if (!state.prerendering?.fallback) {\n    const matchers = await manifest._.matchers();\n    for (const candidate of manifest._.routes) {\n      const match = candidate.pattern.exec(decoded);\n      if (!match)\n        continue;\n      const matched = exec(match, candidate.params, matchers);\n      if (matched) {\n        route = candidate;\n        params = decode_params(matched);\n        break;\n      }\n    }\n  }\n  let trailing_slash = void 0;\n  const headers = {};\n  let cookies_to_add = {};\n  const event = {\n    // @ts-expect-error `cookies` and `fetch` need to be created after the `event` itself\n    cookies: null,\n    // @ts-expect-error\n    fetch: null,\n    getClientAddress: state.getClientAddress || (() => {\n      throw new Error(\n        `${\"@sveltejs/adapter-vercel\"} does not specify getClientAddress. Please raise an issue`\n      );\n    }),\n    locals: {},\n    params,\n    platform: state.platform,\n    request,\n    route: { id: route?.id ?? null },\n    setHeaders: (new_headers) => {\n      for (const key2 in new_headers) {\n        const lower = key2.toLowerCase();\n        const value = new_headers[key2];\n        if (lower === \"set-cookie\") {\n          throw new Error(\n            \"Use `event.cookies.set(name, value, options)` instead of `event.setHeaders` to set cookies\"\n          );\n        } else if (lower in headers) {\n          throw new Error(`\"${key2}\" header is already set`);\n        } else {\n          headers[lower] = value;\n          if (state.prerendering && lower === \"cache-control\") {\n            state.prerendering.cache = /** @type {string} */\n            value;\n          }\n        }\n      }\n    },\n    url,\n    isDataRequest: is_data_request,\n    isSubRequest: state.depth > 0\n  };\n  let resolve_opts = {\n    transformPageChunk: default_transform,\n    filterSerializedResponseHeaders: default_filter,\n    preload: default_preload\n  };\n  try {\n    if (route) {\n      if (url.pathname === base || url.pathname === base + \"/\") {\n        trailing_slash = \"always\";\n      } else if (route.page) {\n        const nodes = await Promise.all([\n          // we use == here rather than === because [undefined] serializes as \"[null]\"\n          ...route.page.layouts.map((n) => n == void 0 ? n : manifest._.nodes[n]()),\n          manifest._.nodes[route.page.leaf]()\n        ]);\n        if (DEV)\n          ;\n        trailing_slash = get_option(nodes, \"trailingSlash\");\n      } else if (route.endpoint) {\n        const node = await route.endpoint();\n        trailing_slash = node.trailingSlash;\n        if (DEV)\n          ;\n      }\n      if (!is_data_request) {\n        const normalized = normalize_path(url.pathname, trailing_slash ?? \"never\");\n        if (normalized !== url.pathname && !state.prerendering?.fallback) {\n          return new Response(void 0, {\n            status: 308,\n            headers: {\n              \"x-sveltekit-normalize\": \"1\",\n              location: (\n                // ensure paths starting with '//' are not treated as protocol-relative\n                (normalized.startsWith(\"//\") ? url.origin + normalized : normalized) + (url.search === \"?\" ? \"\" : url.search)\n              )\n            }\n          });\n        }\n      }\n    }\n    const { cookies, new_cookies, get_cookie_header, set_internal } = get_cookies(\n      request,\n      url,\n      trailing_slash ?? \"never\"\n    );\n    cookies_to_add = new_cookies;\n    event.cookies = cookies;\n    event.fetch = create_fetch({\n      event,\n      options: options2,\n      manifest,\n      state,\n      get_cookie_header,\n      set_internal\n    });\n    if (state.prerendering && !state.prerendering.fallback)\n      disable_search(url);\n    const response = await options2.hooks.handle({\n      event,\n      resolve: (event2, opts) => resolve(event2, opts).then((response2) => {\n        for (const key2 in headers) {\n          const value = headers[key2];\n          response2.headers.set(\n            key2,\n            /** @type {string} */\n            value\n          );\n        }\n        add_cookies_to_headers(response2.headers, Object.values(cookies_to_add));\n        if (state.prerendering && event2.route.id !== null) {\n          response2.headers.set(\"x-sveltekit-routeid\", encodeURI(event2.route.id));\n        }\n        return response2;\n      })\n    });\n    if (response.status === 200 && response.headers.has(\"etag\")) {\n      let if_none_match_value = request.headers.get(\"if-none-match\");\n      if (if_none_match_value?.startsWith('W/\"')) {\n        if_none_match_value = if_none_match_value.substring(2);\n      }\n      const etag = (\n        /** @type {string} */\n        response.headers.get(\"etag\")\n      );\n      if (if_none_match_value === etag) {\n        const headers2 = new Headers({ etag });\n        for (const key2 of [\n          \"cache-control\",\n          \"content-location\",\n          \"date\",\n          \"expires\",\n          \"vary\",\n          \"set-cookie\"\n        ]) {\n          const value = response.headers.get(key2);\n          if (value)\n            headers2.set(key2, value);\n        }\n        return new Response(void 0, {\n          status: 304,\n          headers: headers2\n        });\n      }\n    }\n    if (is_data_request && response.status >= 300 && response.status <= 308) {\n      const location = response.headers.get(\"location\");\n      if (location) {\n        return redirect_json_response(new Redirect(\n          /** @type {any} */\n          response.status,\n          location\n        ));\n      }\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      const response = is_data_request ? redirect_json_response(e) : route?.page && is_action_json_request(event) ? action_json_redirect(e) : redirect_response(e.status, e.location);\n      add_cookies_to_headers(response.headers, Object.values(cookies_to_add));\n      return response;\n    }\n    return await handle_fatal_error(event, options2, e);\n  }\n  async function resolve(event2, opts) {\n    try {\n      if (opts) {\n        if (\"ssr\" in opts) {\n          throw new Error(\n            \"ssr has been removed, set it in the appropriate +layout.js instead. See the PR for more information: https://github.com/sveltejs/kit/pull/6197\"\n          );\n        }\n        resolve_opts = {\n          transformPageChunk: opts.transformPageChunk || default_transform,\n          filterSerializedResponseHeaders: opts.filterSerializedResponseHeaders || default_filter,\n          preload: opts.preload || default_preload\n        };\n      }\n      if (state.prerendering?.fallback) {\n        return await render_response({\n          event: event2,\n          options: options2,\n          manifest,\n          state,\n          page_config: { ssr: false, csr: true },\n          status: 200,\n          error: null,\n          branch: [],\n          fetched: [],\n          resolve_opts\n        });\n      }\n      if (route) {\n        const method = (\n          /** @type {import('types').HttpMethod} */\n          event2.request.method\n        );\n        let response;\n        if (is_data_request) {\n          response = await render_data(\n            event2,\n            route,\n            options2,\n            manifest,\n            state,\n            invalidated_data_nodes,\n            trailing_slash ?? \"never\"\n          );\n        } else if (route.endpoint && (!route.page || is_endpoint_request(event2))) {\n          response = await render_endpoint(event2, await route.endpoint(), state);\n        } else if (route.page) {\n          if (page_methods.has(method)) {\n            response = await render_page(event2, route.page, options2, manifest, state, resolve_opts);\n          } else {\n            const allowed_methods2 = new Set(allowed_page_methods);\n            const node = await manifest._.nodes[route.page.leaf]();\n            if (node?.server?.actions) {\n              allowed_methods2.add(\"POST\");\n            }\n            if (method === \"OPTIONS\") {\n              response = new Response(null, {\n                status: 204,\n                headers: {\n                  allow: Array.from(allowed_methods2.values()).join(\", \")\n                }\n              });\n            } else {\n              const mod = [...allowed_methods2].reduce(\n                (acc, curr) => {\n                  acc[curr] = true;\n                  return acc;\n                },\n                /** @type {Record<string, any>} */\n                {}\n              );\n              response = method_not_allowed(mod, method);\n            }\n          }\n        } else {\n          throw new Error(\"This should never happen\");\n        }\n        if (request.method === \"GET\" && route.page && route.endpoint) {\n          const vary = response.headers.get(\"vary\")?.split(\",\")?.map((v) => v.trim().toLowerCase());\n          if (!(vary?.includes(\"accept\") || vary?.includes(\"*\"))) {\n            response = new Response(response.body, {\n              status: response.status,\n              statusText: response.statusText,\n              headers: new Headers(response.headers)\n            });\n            response.headers.append(\"Vary\", \"Accept\");\n          }\n        }\n        return response;\n      }\n      if (state.error) {\n        return text(\"Internal Server Error\", {\n          status: 500\n        });\n      }\n      if (state.depth === 0) {\n        return await respond_with_error({\n          event: event2,\n          options: options2,\n          manifest,\n          state,\n          status: 404,\n          error: new Error(`Not found: ${event2.url.pathname}`),\n          resolve_opts\n        });\n      }\n      if (state.prerendering) {\n        return text(\"not found\", { status: 404 });\n      }\n      return await fetch(request);\n    } catch (e) {\n      return await handle_fatal_error(event2, options2, e);\n    } finally {\n      event2.cookies.set = () => {\n        throw new Error(\"Cannot use `cookies.set(...)` after the response has been generated\");\n      };\n      event2.setHeaders = () => {\n        throw new Error(\"Cannot use `setHeaders(...)` after the response has been generated\");\n      };\n    }\n  }\n}\nfunction filter_private_env(env, { public_prefix, private_prefix }) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(private_prefix) && (public_prefix === \"\" || !k.startsWith(public_prefix))\n    )\n  );\n}\nfunction filter_public_env(env, { public_prefix, private_prefix }) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(public_prefix) && (private_prefix === \"\" || !k.startsWith(private_prefix))\n    )\n  );\n}\nclass Server {\n  /** @type {import('types').SSROptions} */\n  #options;\n  /** @type {import('@sveltejs/kit').SSRManifest} */\n  #manifest;\n  /** @param {import('@sveltejs/kit').SSRManifest} manifest */\n  constructor(manifest) {\n    this.#options = options;\n    this.#manifest = manifest;\n  }\n  /**\n   * @param {{\n   *   env: Record<string, string>\n   * }} opts\n   */\n  async init({ env }) {\n    set_private_env(\n      filter_private_env(env, {\n        public_prefix: this.#options.env_public_prefix,\n        private_prefix: this.#options.env_private_prefix\n      })\n    );\n    set_public_env(\n      filter_public_env(env, {\n        public_prefix: this.#options.env_public_prefix,\n        private_prefix: this.#options.env_private_prefix\n      })\n    );\n    if (!this.#options.hooks) {\n      try {\n        const module = await get_hooks();\n        this.#options.hooks = {\n          handle: module.handle || (({ event, resolve }) => resolve(event)),\n          handleError: module.handleError || (({ error: error2 }) => console.error(error2)),\n          handleFetch: module.handleFetch || (({ request, fetch: fetch2 }) => fetch2(request))\n        };\n      } catch (error2) {\n        {\n          throw error2;\n        }\n      }\n    }\n  }\n  /**\n   * @param {Request} request\n   * @param {import('types').RequestOptions} options\n   */\n  async respond(request, options2) {\n    if (!(request instanceof Request)) {\n      throw new Error(\n        \"The first argument to server.respond must be a Request object. See https://github.com/sveltejs/kit/pull/3384 for details\"\n      );\n    }\n    return respond(request, this.#options, this.#manifest, {\n      ...options2,\n      error: false,\n      depth: 0\n    });\n  }\n}\nexport {\n  Server\n};\n", "export const manifest = (() => {\nfunction __memo(fn) {\n\tlet value;\n\treturn () => value ??= (value = fn());\n}\n\nreturn {\n\tappDir: \"_app\",\n\tappPath: \"_app\",\n\tassets: new Set([\"apple-touch-icon-180x180.png\",\"favicon.ico\",\"favicon.png\",\"final.png\",\"maskable-icon-512x512.png\",\"page-shot.webp\",\"pwa-192x192.png\",\"pwa-512x512.png\",\"pwa-64x64.png\",\"service-worker.js\"]),\n\tmimeTypes: {\".png\":\"image/png\",\".ico\":\"image/vnd.microsoft.icon\",\".webp\":\"image/webp\"},\n\t_: {\n\t\tclient: {\"start\":\"_app/immutable/entry/start.3fad91f0.js\",\"app\":\"_app/immutable/entry/app.ba286bf6.js\",\"imports\":[\"_app/immutable/entry/start.3fad91f0.js\",\"_app/immutable/chunks/scheduler.433f0f0f.js\",\"_app/immutable/chunks/singletons.2f50626b.js\",\"_app/immutable/entry/app.ba286bf6.js\",\"_app/immutable/chunks/scheduler.433f0f0f.js\",\"_app/immutable/chunks/index.339c83b0.js\"],\"stylesheets\":[],\"fonts\":[]},\n\t\tnodes: [\n\t\t\t__memo(() => import('../../output/server/nodes/0.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/1.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/2.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/3.js'))\n\t\t],\n\t\troutes: [\n\t\t\t{\n\t\t\t\tid: \"/\",\n\t\t\t\tpattern: /^\\/$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 2 },\n\t\t\t\tendpoint: null\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/courses\",\n\t\t\t\tpattern: /^\\/api\\/courses\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../../output/server/entries/endpoints/api/courses/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/posts/[courseId]\",\n\t\t\t\tpattern: /^\\/api\\/posts\\/([^/]+?)\\/?$/,\n\t\t\t\tparams: [{\"name\":\"courseId\",\"optional\":false,\"rest\":false,\"chained\":false}],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../../output/server/entries/endpoints/api/posts/_courseId_/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/feed\",\n\t\t\t\tpattern: /^\\/feed\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 3 },\n\t\t\t\tendpoint: null\n\t\t\t}\n\t\t],\n\t\tmatchers: async () => {\n\t\t\t\n\t\t\treturn {  };\n\t\t}\n\t}\n}\n})();\n", "import { Server } from '../../output/server/index.js';\nimport { manifest } from './manifest.js';\n\nconst server = new Server(manifest);\nconst initialized = server.init({\n\tenv: /** @type {Record<string, string>} */ (process.env)\n});\n\n/**\n * @param {Request} request\n * @param {import('../index.js').RequestContext} context\n */\nexport default async (request, context) => {\n\tawait initialized;\n\treturn server.respond(request, {\n\t\tgetClientAddress() {\n\t\t\treturn /** @type {string} */ (request.headers.get('x-forwarded-for'));\n\t\t},\n\t\tplatform: {\n\t\t\tcontext\n\t\t}\n\t});\n};\n"],
  "mappings": "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AAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA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",
  "names": ["a", "b", "callback", "component", "key", "pattern", "escaped", "i", "lookup", "revLookup", "buf", "i", "i", "l", "init_mod", "init_mod", "init_mod", "init_mod", "__export", "key", "now", "data", "window", "t", "p", "i", "hash", "a", "b", "day", "r", "k", "v", "__export", "CoreAnalytics", "k", "v", "reset", "key", "d", "r", "i", "window", "s", "_", "now", "t", "data", "init", "encoder", "options", "state", "f", "logger", "a", "b", "key", "options", "_SessionStore_chunk", "i", "c", "_SessionStore_clean", "message", "options", "p", "a", "t", "u", "key", "session", "m", "digest", "digest", "key", "data", "buf", "i", "encoder", "decoder", "encode", "decode", "init_base64url", "encoder", "CHUNK_SIZE", "i", "decoder", "init_errors", "message", "init_errors", "init_errors", "init_errors", "a", "b", "i", "hash", "key", "types", "key", "init_errors", "init_errors", "key", "encoder", "key", "p2s", "init_errors", "getCryptoKey", "key", "deriveKey", "p2s", "decrypt", "init_base64url", "encode", "init_errors", "key", "encrypt", "decrypt", "key", "bitLength", "init_errors", "init_base64url", "init_errors", "init_errors", "init_base64url", "decode", "decode", "init_base64url", "init_errors", "key", "encrypt", "init_errors", "wrap", "key", "encode", "unwrap", "init_base64url", "key", "options", "decode", "bitLength", "decrypt", "unwrap", "init_base64url", "init_errors", "init_errors", "s", "key", "options", "protectedHeader", "decode", "decoder", "encoder", "init_decrypt", "init_base64url", "init_errors", "key", "options", "decoder", "init_decrypt", "init_errors", "init_decrypt", "init_errors", "init_base64url", "key", "encode", "key", "key", "x", "y", "bitLength", "encode", "encrypt", "p2s", "wrap", "init_base64url", "init_errors", "init_encrypt", "init_base64url", "init_errors", "key", "options", "encoder", "encode", "decoder", "init_encrypt", "init_errors", "init_base64url", "init_errors", "init_verify", "init_base64url", "init_errors", "init_verify", "init_errors", "init_verify", "init_errors", "init_errors", "options", "decoder", "now", "init_verify", "init_errors", "jwt", "key", "options", "init_decrypt", "init_errors", "init_encrypt", "key", "options", "init_sign", "init_base64url", "init_errors", "init_sign", "init_sign", "init_errors", "init_sign", "init_errors", "init_encrypt", "key", "options", "encoder", "init_base64url", "init_errors", "init_errors", "init_errors", "init_errors", "init_errors", "init_base64url", "init_errors", "base64url_exports", "decode", "encode", "init_base64url", "init_base64url", "init_base64url", "init_errors", "init_errors", "init_decrypt", "init_encrypt", "init_verify", "init_sign", "init_errors", "init_base64url", "encode", "decode", "options", "parse", "serialize", "__toString", "fieldContentRegExp", "options", "decode", "index", "key", "tryDecode", "encode", "isDate", "e", "a", "parseCookie", "e", "options", "message", "data", "hash", "b", "i", "r", "import_cookie", "init_web", "options", "csrfToken", "csrfTokenHash", "init_web", "session", "isObject", "key", "options", "providers", "p", "c", "checks", "o", "k", "v", "e", "key", "error", "data", "code", "message", "base", "init", "providers", "options", "encode", "decode", "logger", "e", "error", "assign", "obj", "props", "i", "removeNode", "node", "parentNode", "removeChild", "createVNode", "type", "key", "ref", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "vnodeId", "options", "Fragment", "children", "Component", "context", "this", "getDomSibling", "childIndex", "indexOf", "sibling", "length", "updateParentDomPointers", "child", "base", "enqueueRender", "c", "rerenderQueue", "push", "process", "prevDebounce", "debounceRendering", "setTimeout", "queue", "__r", "sort", "a", "b", "some", "component", "commitQueue", "oldVNode", "oldDom", "parentDom", "__P", "diff", "ownerSVGElement", "commitRoot", "diffChildren", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "isSvg", "excessDomChildren", "isHydrating", "j", "childVNode", "newDom", "firstChildDom", "refs", "oldChildren", "EMPTY_ARR", "oldChildrenLength", "Array", "isArray", "EMPTY_OBJ", "reorderChildren", "placeChild", "unmount", "applyRef", "tmp", "nextDom", "sibDom", "outer", "appendChild", "nextSibling", "insertBefore", "diffProps", "dom", "newProps", "oldProps", "hydrate", "setProperty", "setStyle", "style", "value", "IS_NON_DIMENSIONAL", "test", "name", "oldValue", "useCapture", "o", "cssText", "replace", "toLowerCase", "slice", "l", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "event", "newVNode", "isNew", "oldState", "snapshot", "clearProcessingException", "provider", "componentContext", "renderHook", "count", "newType", "contextType", "__E", "prototype", "render", "doRender", "sub", "state", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "forEach", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "diffElementNodes", "diffed", "root", "cb", "call", "oldHtml", "newHtml", "nodeType", "localName", "document", "createTextNode", "createElementNS", "createElement", "is", "data", "childNodes", "dangerouslySetInnerHTML", "attributes", "__html", "innerHTML", "checked", "current", "parentVNode", "skipRemove", "r", "componentWillUnmount", "isValidElement", "error", "errorInfo", "ctor", "handled", "getDerivedStateFromError", "setState", "componentDidCatch", "update", "callback", "s", "forceUpdate", "encodeEntities", "str", "ENCODED_ENTITIES", "test", "last", "i", "out", "ch", "length", "charCodeAt", "slice", "styleObjToCss", "s", "prop", "val", "JS_TO_CSS", "replace", "CSS_REGEX", "toLowerCase", "IS_NON_DIMENSIONAL", "undefined", "getChildren", "accumulator", "children", "Array", "isArray", "reduce", "push", "markAsDirty", "this", "__d", "createComponent", "vnode", "context", "__v", "props", "setState", "forceUpdate", "__h", "getContext", "nodeName", "cxType", "contextType", "provider", "__c", "value", "__", "_renderToStringPretty", "opts", "inner", "isSvgMode", "selectValue", "pretty", "indentChar", "rendered", "component", "type", "isComponent", "shallow", "renderRootComponent", "Fragment", "shallowHighOrder", "c", "options", "__b", "renderHook", "__r", "prototype", "render", "cctx", "_dirty", "state", "_nextState", "__s", "getDerivedStateFromProps", "Object", "assign", "componentWillMount", "count", "call", "getChildContext", "diffed", "displayName", "Function", "name", "toString", "match", "index", "UNNAMED", "propChildren", "html", "attrs", "keys", "sortAttributes", "sort", "v", "UNSAFE_NAME", "allAttributes", "XLINK", "String", "hooked", "attributeHook", "__html", "xml", "selected", "sub", "indexOf", "Error", "isVoid", "VOID_ELEMENTS", "voidElements", "pieces", "isLargeString", "indent", "hasLarge", "lastWasText", "child", "ret", "isText", "join", "substring", "renderToString", "res", "previousSkipEffects", "_renderToString", "EMPTY_ARR", "normalizePropName", "normalizePropValue", "startElement", "hasChildren", "SHALLOW", "shallowRender", "char", "ignoreLines", "createVNode", "type", "props", "key", "__self", "__source", "ref", "i", "normalizedProps", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "vnodeId", "defaultProps", "options", "error", "o", "message", "signin", "init_error", "providers", "email", "error", "o", "i", "o", "o", "k", "init_error", "options", "jwt", "session", "_", "p", "provider", "encoder", "decoder", "i", "CHUNK_SIZE", "isCryptoKey", "key", "options", "json", "now", "clockSkew", "nonce", "e", "n", "x", "y", "index", "code", "clockTolerance", "state", "error", "VERSION", "v", "message", "options", "data", "logger", "encode", "decoder", "base64url_exports", "decode", "state", "nonce", "options", "logger", "state", "nonce", "e", "state", "logger", "e", "error", "options", "jwt", "logger", "session", "e", "token", "k", "v", "error", "init_callback", "init_web", "providers", "init_providers", "options", "jwt", "logger", "session", "newSession", "e", "options", "init_signin", "init_web", "options", "logger", "as", "data", "k", "state", "nonce", "options", "logger", "email", "redirect", "e", "error", "code", "init_signin", "options", "jwt", "redirect", "logger", "session", "e", "init_signout", "init_callback", "init_providers", "init_signin", "init_signout", "error", "options", "init", "session", "callback", "signin", "signout", "page", "redirect", "init_web", "i", "options", "data", "actions", "session", "reset", "page", "nonce", "message", "i", "subscribe", "run", "session", "Error", "__exports", "component", "fonts", "imports", "index", "stylesheets", "component_cache", "init__", "__exports", "component", "fonts", "imports", "index", "stylesheets", "component_cache", "init__", "load", "session", "page_svelte_exports", "Page", "options", "init_page_svelte", "key", "__exports", "component", "fonts", "imports", "index", "server_id", "stylesheets", "component_cache", "init__", "courses", "server_ts_exports", "GET", "init_server_ts", "updated", "types", "i", "a", "b", "s2", "options2", "message", "page", "state", "e", "callback", "v", "k", "c", "p", "index2", "index", "server", "actions", "data", "redirect", "init2", "data", "e", "message", "state", "init2", "decoder", "i", "s", "init", "w", "a", "b", "i2", "x", "c", "d", "l", "nonce", "v", "f", "r", "options2", "manifest", "stylesheets", "fonts", "data2", "reset", "k", "global", "encoder", "n", "j", "p", "redirect", "page", "index", "serialize", "decode", "encode", "decode2", "encoder2", "parse", "init3"]
}
